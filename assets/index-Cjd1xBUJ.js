var Mv=Object.defineProperty;var Pv=(e,t,n)=>t in e?Mv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ut=(e,t,n)=>Pv(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Kc(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Xe={},po=[],In=()=>{},Rv=()=>!1,ma=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Xc=e=>e.startsWith("onUpdate:"),Nt=Object.assign,Zc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Av=Object.prototype.hasOwnProperty,ze=(e,t)=>Av.call(e,t),Ee=Array.isArray,go=e=>_a(e)==="[object Map]",fp=e=>_a(e)==="[object Set]",we=e=>typeof e=="function",ot=e=>typeof e=="string",Zn=e=>typeof e=="symbol",tt=e=>e!==null&&typeof e=="object",dp=e=>(tt(e)||we(e))&&we(e.then)&&we(e.catch),hp=Object.prototype.toString,_a=e=>hp.call(e),Dv=e=>_a(e).slice(8,-1),pp=e=>_a(e)==="[object Object]",Jc=e=>ot(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ni=Kc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),va=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Lv=/-(\w)/g,nn=va(e=>e.replace(Lv,(t,n)=>n?n.toUpperCase():"")),$v=/\B([A-Z])/g,Jr=va(e=>e.replace($v,"-$1").toLowerCase()),ya=va(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ja=va(e=>e?`on${ya(e)}`:""),qn=(e,t)=>!Object.is(e,t),Qa=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},gp=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Fv=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let cf;const ba=()=>cf||(cf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bt(e){if(Ee(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=ot(r)?Vv(r):Bt(r);if(o)for(const i in o)t[i]=o[i]}return t}else if(ot(e)||tt(e))return e}const Bv=/;(?![^(]*\))/g,Uv=/:([^]+)/,Hv=/\/\*[^]*?\*\//g;function Vv(e){const t={};return e.replace(Hv,"").split(Bv).forEach(n=>{if(n){const r=n.split(Uv);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function zt(e){let t="";if(ot(e))t=e;else if(Ee(e))for(let n=0;n<e.length;n++){const r=zt(e[n]);r&&(t+=r+" ")}else if(tt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function uf(e){if(!e)return null;let{class:t,style:n}=e;return t&&!ot(t)&&(e.class=zt(t)),n&&(e.style=Bt(n)),e}const zv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wv=Kc(zv);function mp(e){return!!e||e===""}const _p=e=>!!(e&&e.__v_isRef===!0),Qe=e=>ot(e)?e:e==null?"":Ee(e)||tt(e)&&(e.toString===hp||!we(e.toString))?_p(e)?Qe(e.value):JSON.stringify(e,vp,2):String(e),vp=(e,t)=>_p(t)?vp(e,t.value):go(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o],i)=>(n[el(r,i)+" =>"]=o,n),{})}:fp(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>el(n))}:Zn(t)?el(t):tt(t)&&!Ee(t)&&!pp(t)?String(t):t,el=(e,t="")=>{var n;return Zn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rt;class yp{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Rt,!t&&Rt&&(this.index=(Rt.scopes||(Rt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Rt;try{return Rt=this,t()}finally{Rt=n}}}on(){Rt=this}off(){Rt=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function ji(e){return new yp(e)}function Sa(){return Rt}function ri(e,t=!1){Rt&&Rt.cleanups.push(e)}let Ke;const tl=new WeakSet;class bp{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rt&&Rt.active&&Rt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,tl.has(this)&&(tl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ep(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ff(this),wp(this);const t=Ke,n=fn;Ke=this,fn=!0;try{return this.fn()}finally{Cp(this),Ke=t,fn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)tu(t);this.deps=this.depsTail=void 0,ff(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?tl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Fl(this)&&this.run()}get dirty(){return Fl(this)}}let Sp=0,oi,ii;function Ep(e,t=!1){if(e.flags|=8,t){e.next=ii,ii=e;return}e.next=oi,oi=e}function Qc(){Sp++}function eu(){if(--Sp>0)return;if(ii){let t=ii;for(ii=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;oi;){let t=oi;for(oi=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function wp(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Cp(e){let t,n=e.depsTail,r=n;for(;r;){const o=r.prevDep;r.version===-1?(r===n&&(n=o),tu(r),jv(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=t,e.depsTail=n}function Fl(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(xp(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function xp(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Si))return;e.globalVersion=Si;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Fl(e)){e.flags&=-3;return}const n=Ke,r=fn;Ke=e,fn=!0;try{wp(e);const o=e.fn(e._value);(t.version===0||qn(o,e._value))&&(e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Ke=n,fn=r,Cp(e),e.flags&=-3}}function tu(e,t=!1){const{dep:n,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)tu(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function jv(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let fn=!0;const Ip=[];function xr(){Ip.push(fn),fn=!1}function Ir(){const e=Ip.pop();fn=e===void 0?!0:e}function ff(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ke;Ke=void 0;try{t()}finally{Ke=n}}}let Si=0;class Gv{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ea{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ke||!fn||Ke===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ke)n=this.activeLink=new Gv(Ke,this),Ke.deps?(n.prevDep=Ke.depsTail,Ke.depsTail.nextDep=n,Ke.depsTail=n):Ke.deps=Ke.depsTail=n,kp(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ke.depsTail,n.nextDep=void 0,Ke.depsTail.nextDep=n,Ke.depsTail=n,Ke.deps===n&&(Ke.deps=r)}return n}trigger(t){this.version++,Si++,this.notify(t)}notify(t){Qc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{eu()}}}function kp(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)kp(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ls=new WeakMap,Vr=Symbol(""),Bl=Symbol(""),Ei=Symbol("");function It(e,t,n){if(fn&&Ke){let r=Ls.get(e);r||Ls.set(e,r=new Map);let o=r.get(n);o||(r.set(n,o=new Ea),o.map=r,o.key=n),o.track()}}function Un(e,t,n,r,o,i){const s=Ls.get(e);if(!s){Si++;return}const a=l=>{l&&l.trigger()};if(Qc(),t==="clear")s.forEach(a);else{const l=Ee(e),c=l&&Jc(n);if(l&&n==="length"){const u=Number(r);s.forEach((f,d)=>{(d==="length"||d===Ei||!Zn(d)&&d>=u)&&a(f)})}else switch((n!==void 0||s.has(void 0))&&a(s.get(n)),c&&a(s.get(Ei)),t){case"add":l?c&&a(s.get("length")):(a(s.get(Vr)),go(e)&&a(s.get(Bl)));break;case"delete":l||(a(s.get(Vr)),go(e)&&a(s.get(Bl)));break;case"set":go(e)&&a(s.get(Vr));break}}eu()}function qv(e,t){const n=Ls.get(e);return n&&n.get(t)}function eo(e){const t=$e(e);return t===e?t:(It(t,"iterate",Ei),en(e)?t:t.map(kt))}function wa(e){return It(e=$e(e),"iterate",Ei),e}const Yv={__proto__:null,[Symbol.iterator](){return nl(this,Symbol.iterator,kt)},concat(...e){return eo(this).concat(...e.map(t=>Ee(t)?eo(t):t))},entries(){return nl(this,"entries",e=>(e[1]=kt(e[1]),e))},every(e,t){return An(this,"every",e,t,void 0,arguments)},filter(e,t){return An(this,"filter",e,t,n=>n.map(kt),arguments)},find(e,t){return An(this,"find",e,t,kt,arguments)},findIndex(e,t){return An(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return An(this,"findLast",e,t,kt,arguments)},findLastIndex(e,t){return An(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return An(this,"forEach",e,t,void 0,arguments)},includes(...e){return rl(this,"includes",e)},indexOf(...e){return rl(this,"indexOf",e)},join(e){return eo(this).join(e)},lastIndexOf(...e){return rl(this,"lastIndexOf",e)},map(e,t){return An(this,"map",e,t,void 0,arguments)},pop(){return Go(this,"pop")},push(...e){return Go(this,"push",e)},reduce(e,...t){return df(this,"reduce",e,t)},reduceRight(e,...t){return df(this,"reduceRight",e,t)},shift(){return Go(this,"shift")},some(e,t){return An(this,"some",e,t,void 0,arguments)},splice(...e){return Go(this,"splice",e)},toReversed(){return eo(this).toReversed()},toSorted(e){return eo(this).toSorted(e)},toSpliced(...e){return eo(this).toSpliced(...e)},unshift(...e){return Go(this,"unshift",e)},values(){return nl(this,"values",kt)}};function nl(e,t,n){const r=wa(e),o=r[t]();return r!==e&&!en(e)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.value&&(i.value=n(i.value)),i}),o}const Kv=Array.prototype;function An(e,t,n,r,o,i){const s=wa(e),a=s!==e&&!en(e),l=s[t];if(l!==Kv[t]){const f=l.apply(e,i);return a?kt(f):f}let c=n;s!==e&&(a?c=function(f,d){return n.call(this,kt(f),d,e)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,e)}));const u=l.call(s,c,r);return a&&o?o(u):u}function df(e,t,n,r){const o=wa(e);let i=n;return o!==e&&(en(e)?n.length>3&&(i=function(s,a,l){return n.call(this,s,a,l,e)}):i=function(s,a,l){return n.call(this,s,kt(a),l,e)}),o[t](i,...r)}function rl(e,t,n){const r=$e(e);It(r,"iterate",Ei);const o=r[t](...n);return(o===-1||o===!1)&&iu(n[0])?(n[0]=$e(n[0]),r[t](...n)):o}function Go(e,t,n=[]){xr(),Qc();const r=$e(e)[t].apply(e,n);return eu(),Ir(),r}const Xv=Kc("__proto__,__v_isRef,__isVue"),Np=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Zn));function Zv(e){Zn(e)||(e=String(e));const t=$e(this);return It(t,"has",e),t.hasOwnProperty(e)}class Tp{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(o?i?ay:Rp:i?Pp:Mp).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=Ee(t);if(!o){let l;if(s&&(l=Yv[n]))return l;if(n==="hasOwnProperty")return Zv}const a=Reflect.get(t,n,Je(t)?t:r);return(Zn(n)?Np.has(n):Xv(n))||(o||It(t,"get",n),i)?a:Je(a)?s&&Jc(n)?a:a.value:tt(a)?o?ru(a):Bo(a):a}}class Op extends Tp{constructor(t=!1){super(!1,t)}set(t,n,r,o){let i=t[n];if(!this._isShallow){const l=Gr(i);if(!en(r)&&!Gr(r)&&(i=$e(i),r=$e(r)),!Ee(t)&&Je(i)&&!Je(r))return l?!1:(i.value=r,!0)}const s=Ee(t)&&Jc(n)?Number(n)<t.length:ze(t,n),a=Reflect.set(t,n,r,Je(t)?t:o);return t===$e(o)&&(s?qn(r,i)&&Un(t,"set",n,r):Un(t,"add",n,r)),a}deleteProperty(t,n){const r=ze(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&Un(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!Zn(n)||!Np.has(n))&&It(t,"has",n),r}ownKeys(t){return It(t,"iterate",Ee(t)?"length":Vr),Reflect.ownKeys(t)}}class Jv extends Tp{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Qv=new Op,ey=new Jv,ty=new Op(!0);const Ul=e=>e,is=e=>Reflect.getPrototypeOf(e);function ny(e,t,n){return function(...r){const o=this.__v_raw,i=$e(o),s=go(i),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,c=o[e](...r),u=n?Ul:t?Hl:kt;return!t&&It(i,"iterate",l?Bl:Vr),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function ss(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ry(e,t){const n={get(o){const i=this.__v_raw,s=$e(i),a=$e(o);e||(qn(o,a)&&It(s,"get",o),It(s,"get",a));const{has:l}=is(s),c=t?Ul:e?Hl:kt;if(l.call(s,o))return c(i.get(o));if(l.call(s,a))return c(i.get(a));i!==s&&i.get(o)},get size(){const o=this.__v_raw;return!e&&It($e(o),"iterate",Vr),Reflect.get(o,"size",o)},has(o){const i=this.__v_raw,s=$e(i),a=$e(o);return e||(qn(o,a)&&It(s,"has",o),It(s,"has",a)),o===a?i.has(o):i.has(o)||i.has(a)},forEach(o,i){const s=this,a=s.__v_raw,l=$e(a),c=t?Ul:e?Hl:kt;return!e&&It(l,"iterate",Vr),a.forEach((u,f)=>o.call(i,c(u),c(f),s))}};return Nt(n,e?{add:ss("add"),set:ss("set"),delete:ss("delete"),clear:ss("clear")}:{add(o){!t&&!en(o)&&!Gr(o)&&(o=$e(o));const i=$e(this);return is(i).has.call(i,o)||(i.add(o),Un(i,"add",o,o)),this},set(o,i){!t&&!en(i)&&!Gr(i)&&(i=$e(i));const s=$e(this),{has:a,get:l}=is(s);let c=a.call(s,o);c||(o=$e(o),c=a.call(s,o));const u=l.call(s,o);return s.set(o,i),c?qn(i,u)&&Un(s,"set",o,i):Un(s,"add",o,i),this},delete(o){const i=$e(this),{has:s,get:a}=is(i);let l=s.call(i,o);l||(o=$e(o),l=s.call(i,o)),a&&a.call(i,o);const c=i.delete(o);return l&&Un(i,"delete",o,void 0),c},clear(){const o=$e(this),i=o.size!==0,s=o.clear();return i&&Un(o,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=ny(o,e,t)}),n}function nu(e,t){const n=ry(e,t);return(r,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(ze(n,o)&&o in r?n:r,o,i)}const oy={get:nu(!1,!1)},iy={get:nu(!1,!0)},sy={get:nu(!0,!1)};const Mp=new WeakMap,Pp=new WeakMap,Rp=new WeakMap,ay=new WeakMap;function ly(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cy(e){return e.__v_skip||!Object.isExtensible(e)?0:ly(Dv(e))}function Bo(e){return Gr(e)?e:ou(e,!1,Qv,oy,Mp)}function Ap(e){return ou(e,!1,ty,iy,Pp)}function ru(e){return ou(e,!0,ey,sy,Rp)}function ou(e,t,n,r,o){if(!tt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const s=cy(e);if(s===0)return e;const a=new Proxy(e,s===2?r:n);return o.set(e,a),a}function mr(e){return Gr(e)?mr(e.__v_raw):!!(e&&e.__v_isReactive)}function Gr(e){return!!(e&&e.__v_isReadonly)}function en(e){return!!(e&&e.__v_isShallow)}function iu(e){return e?!!e.__v_raw:!1}function $e(e){const t=e&&e.__v_raw;return t?$e(t):e}function _r(e){return!ze(e,"__v_skip")&&Object.isExtensible(e)&&gp(e,"__v_skip",!0),e}const kt=e=>tt(e)?Bo(e):e,Hl=e=>tt(e)?ru(e):e;function Je(e){return e?e.__v_isRef===!0:!1}function Ie(e){return Dp(e,!1)}function $s(e){return Dp(e,!0)}function Dp(e,t){return Je(e)?e:new uy(e,t)}class uy{constructor(t,n){this.dep=new Ea,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:$e(t),this._value=n?t:kt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||en(t)||Gr(t);t=r?t:$e(t),qn(t,n)&&(this._rawValue=t,this._value=r?t:kt(t),this.dep.trigger())}}function ue(e){return Je(e)?e.value:e}function Re(e){return we(e)?e():ue(e)}const fy={get:(e,t,n)=>t==="__v_raw"?e:ue(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return Je(o)&&!Je(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Lp(e){return mr(e)?e:new Proxy(e,fy)}class dy{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ea,{get:r,set:o}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=o}get value(){return this._value=this._get()}set value(t){this._set(t)}}function hy(e){return new dy(e)}function $p(e){const t=Ee(e)?new Array(e.length):{};for(const n in e)t[n]=Fp(e,n);return t}class py{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return qv($e(this._object),this._key)}}class gy{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ze(e,t,n){return Je(e)?e:we(e)?new gy(e):tt(e)&&arguments.length>1?Fp(e,t,n):Ie(e)}function Fp(e,t,n){const r=e[t];return Je(r)?r:new py(e,t,n)}class my{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ea(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Si-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ke!==this)return Ep(this,!0),!0}get value(){const t=this.dep.track();return xp(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function _y(e,t,n=!1){let r,o;return we(e)?r=e:(r=e.get,o=e.set),new my(r,o,n)}const as={},Fs=new WeakMap;let Dr;function vy(e,t=!1,n=Dr){if(n){let r=Fs.get(n);r||Fs.set(n,r=[]),r.push(e)}}function yy(e,t,n=Xe){const{immediate:r,deep:o,once:i,scheduler:s,augmentJob:a,call:l}=n,c=y=>o?y:en(y)||o===!1||o===0?dr(y,1):dr(y);let u,f,d,h,m=!1,p=!1;if(Je(e)?(f=()=>e.value,m=en(e)):mr(e)?(f=()=>c(e),m=!0):Ee(e)?(p=!0,m=e.some(y=>mr(y)||en(y)),f=()=>e.map(y=>{if(Je(y))return y.value;if(mr(y))return c(y);if(we(y))return l?l(y,2):y()})):we(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){xr();try{d()}finally{Ir()}}const y=Dr;Dr=u;try{return l?l(e,3,[h]):e(h)}finally{Dr=y}}:f=In,t&&o){const y=f,M=o===!0?1/0:o;f=()=>dr(y(),M)}const w=Sa(),v=()=>{u.stop(),w&&w.active&&Zc(w.effects,u)};if(i&&t){const y=t;t=(...M)=>{y(...M),v()}}let E=p?new Array(e.length).fill(as):as;const _=y=>{if(!(!(u.flags&1)||!u.dirty&&!y))if(t){const M=u.run();if(o||m||(p?M.some((F,A)=>qn(F,E[A])):qn(M,E))){d&&d();const F=Dr;Dr=u;try{const A=[M,E===as?void 0:p&&E[0]===as?[]:E,h];l?l(t,3,A):t(...A),E=M}finally{Dr=F}}}else u.run()};return a&&a(_),u=new bp(f),u.scheduler=s?()=>s(_,!1):_,h=y=>vy(y,!1,u),d=u.onStop=()=>{const y=Fs.get(u);if(y){if(l)l(y,4);else for(const M of y)M();Fs.delete(u)}},t?r?_(!0):E=u.run():s?s(_.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function dr(e,t=1/0,n){if(t<=0||!tt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Je(e))dr(e.value,t,n);else if(Ee(e))for(let r=0;r<e.length;r++)dr(e[r],t,n);else if(fp(e)||go(e))e.forEach(r=>{dr(r,t,n)});else if(pp(e)){for(const r in e)dr(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&dr(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Gi(e,t,n,r){try{return r?e(...r):e()}catch(o){Ca(o,t,n)}}function On(e,t,n,r){if(we(e)){const o=Gi(e,t,n,r);return o&&dp(o)&&o.catch(i=>{Ca(i,t,n)}),o}if(Ee(e)){const o=[];for(let i=0;i<e.length;i++)o.push(On(e[i],t,n,r));return o}}function Ca(e,t,n,r=!0){const o=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||Xe;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}a=a.parent}if(i){xr(),Gi(i,null,10,[e,l,c]),Ir();return}}by(e,n,o,r,s)}function by(e,t,n,r=!0,o=!1){if(o)throw e;console.error(e)}const At=[];let Sn=-1;const mo=[];let sr=null,io=0;const Bp=Promise.resolve();let Bs=null;function tn(e){const t=Bs||Bp;return e?t.then(this?e.bind(this):e):t}function Sy(e){let t=Sn+1,n=At.length;for(;t<n;){const r=t+n>>>1,o=At[r],i=wi(o);i<e||i===e&&o.flags&2?t=r+1:n=r}return t}function su(e){if(!(e.flags&1)){const t=wi(e),n=At[At.length-1];!n||!(e.flags&2)&&t>=wi(n)?At.push(e):At.splice(Sy(t),0,e),e.flags|=1,Up()}}function Up(){Bs||(Bs=Bp.then(Vp))}function Ey(e){Ee(e)?mo.push(...e):sr&&e.id===-1?sr.splice(io+1,0,e):e.flags&1||(mo.push(e),e.flags|=1),Up()}function hf(e,t,n=Sn+1){for(;n<At.length;n++){const r=At[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;At.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Hp(e){if(mo.length){const t=[...new Set(mo)].sort((n,r)=>wi(n)-wi(r));if(mo.length=0,sr){sr.push(...t);return}for(sr=t,io=0;io<sr.length;io++){const n=sr[io];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}sr=null,io=0}}const wi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Vp(e){try{for(Sn=0;Sn<At.length;Sn++){const t=At[Sn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Gi(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Sn<At.length;Sn++){const t=At[Sn];t&&(t.flags&=-2)}Sn=-1,At.length=0,Hp(),Bs=null,(At.length||mo.length)&&Vp()}}let wt=null,zp=null;function Us(e){const t=wt;return wt=e,zp=e&&e.type.__scopeId||null,t}function Me(e,t=wt,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&If(-1);const i=Us(t);let s;try{s=e(...o)}finally{Us(i),r._d&&If(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Rr(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let l=a.dir[r];l&&(xr(),On(l,n,8,[e.el,a,e,t]),Ir())}}const Wp=Symbol("_vte"),wy=e=>e.__isTeleport,si=e=>e&&(e.disabled||e.disabled===""),pf=e=>e&&(e.defer||e.defer===""),gf=e=>typeof SVGElement<"u"&&e instanceof SVGElement,mf=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Vl=(e,t)=>{const n=e&&e.to;return ot(n)?t?t(n):null:n},jp={name:"Teleport",__isTeleport:!0,process(e,t,n,r,o,i,s,a,l,c){const{mc:u,pc:f,pbc:d,o:{insert:h,querySelector:m,createText:p,createComment:w}}=c,v=si(t.props);let{shapeFlag:E,children:_,dynamicChildren:y}=t;if(e==null){const M=t.el=p(""),F=t.anchor=p("");h(M,n,r),h(F,n,r);const A=(V,J)=>{E&16&&(o&&o.isCE&&(o.ce._teleportTarget=V),u(_,V,J,o,i,s,a,l))},B=()=>{const V=t.target=Vl(t.props,m),J=Gp(V,t,p,h);V&&(s!=="svg"&&gf(V)?s="svg":s!=="mathml"&&mf(V)&&(s="mathml"),v||(A(V,J),xs(t,!1)))};v&&(A(n,F),xs(t,!0)),pf(t.props)?Pt(()=>{B(),t.el.__isMounted=!0},i):B()}else{if(pf(t.props)&&!e.el.__isMounted){Pt(()=>{jp.process(e,t,n,r,o,i,s,a,l,c),delete e.el.__isMounted},i);return}t.el=e.el,t.targetStart=e.targetStart;const M=t.anchor=e.anchor,F=t.target=e.target,A=t.targetAnchor=e.targetAnchor,B=si(e.props),V=B?n:F,J=B?M:A;if(s==="svg"||gf(F)?s="svg":(s==="mathml"||mf(F))&&(s="mathml"),y?(d(e.dynamicChildren,y,V,o,i,s,a),uu(e,t,!0)):l||f(e,t,V,J,o,i,s,a,!1),v)B?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ls(t,n,M,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Y=t.target=Vl(t.props,m);Y&&ls(t,Y,null,c,0)}else B&&ls(t,F,A,c,1);xs(t,v)}},remove(e,t,n,{um:r,o:{remove:o}},i){const{shapeFlag:s,children:a,anchor:l,targetStart:c,targetAnchor:u,target:f,props:d}=e;if(f&&(o(c),o(u)),i&&o(l),s&16){const h=i||!si(d);for(let m=0;m<a.length;m++){const p=a[m];r(p,t,n,h,!!p.dynamicChildren)}}},move:ls,hydrate:Cy};function ls(e,t,n,{o:{insert:r},m:o},i=2){i===0&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=e,f=i===2;if(f&&r(s,t,n),(!f||si(u))&&l&16)for(let d=0;d<c.length;d++)o(c[d],t,n,2);f&&r(a,t,n)}function Cy(e,t,n,r,o,i,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:c,createText:u}},f){const d=t.target=Vl(t.props,l);if(d){const h=si(t.props),m=d._lpa||d.firstChild;if(t.shapeFlag&16)if(h)t.anchor=f(s(e),t,a(e),n,r,o,i),t.targetStart=m,t.targetAnchor=m&&s(m);else{t.anchor=s(e);let p=m;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")t.targetStart=p;else if(p.data==="teleport anchor"){t.targetAnchor=p,d._lpa=t.targetAnchor&&s(t.targetAnchor);break}}p=s(p)}t.targetAnchor||Gp(d,t,u,c),f(m&&s(m),t,d,n,r,o,i)}xs(t,h)}return t.anchor&&s(t.anchor)}const xy=jp;function xs(e,t){const n=e.ctx;if(n&&n.ut){let r,o;for(t?(r=e.el,o=e.anchor):(r=e.targetStart,o=e.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Gp(e,t,n,r){const o=t.targetStart=n(""),i=t.targetAnchor=n("");return o[Wp]=i,e&&(r(o,e),r(i,e)),i}function au(e,t){e.shapeFlag&6&&e.component?(e.transition=t,au(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function xe(e,t){return we(e)?Nt({name:e.name},t,{setup:e}):e}function qp(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Hs(e,t,n,r,o=!1){if(Ee(e)){e.forEach((m,p)=>Hs(m,t&&(Ee(t)?t[p]:t),n,r,o));return}if(_o(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Hs(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?du(r.component):r.el,s=o?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Xe?a.refs={}:a.refs,f=a.setupState,d=$e(f),h=f===Xe?()=>!1:m=>ze(d,m);if(c!=null&&c!==l&&(ot(c)?(u[c]=null,h(c)&&(f[c]=null)):Je(c)&&(c.value=null)),we(l))Gi(l,a,12,[s,u]);else{const m=ot(l),p=Je(l);if(m||p){const w=()=>{if(e.f){const v=m?h(l)?f[l]:u[l]:l.value;o?Ee(v)&&Zc(v,i):Ee(v)?v.includes(i)||v.push(i):m?(u[l]=[i],h(l)&&(f[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else m?(u[l]=s,h(l)&&(f[l]=s)):p&&(l.value=s,e.k&&(u[e.k]=s))};s?(w.id=-1,Pt(w,n)):w()}}}ba().requestIdleCallback;ba().cancelIdleCallback;const _o=e=>!!e.type.__asyncLoader,Yp=e=>e.type.__isKeepAlive;function Iy(e,t){Kp(e,"a",t)}function ky(e,t){Kp(e,"da",t)}function Kp(e,t,n=bt){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(xa(t,r,n),n){let o=n.parent;for(;o&&o.parent;)Yp(o.parent.vnode)&&Ny(r,t,n,o),o=o.parent}}function Ny(e,t,n,r){const o=xa(t,e,r,!0);qi(()=>{Zc(r[t],o)},n)}function xa(e,t,n=bt,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...s)=>{xr();const a=Xi(n),l=On(t,n,e,s);return a(),Ir(),l});return r?o.unshift(i):o.push(i),i}}const Jn=e=>(t,n=bt)=>{(!xi||e==="sp")&&xa(e,(...r)=>t(...r),n)},Xp=Jn("bm"),gn=Jn("m"),Ty=Jn("bu"),Oy=Jn("u"),lu=Jn("bum"),qi=Jn("um"),My=Jn("sp"),Py=Jn("rtg"),Ry=Jn("rtc");function Ay(e,t=bt){xa("ec",e,t)}const Zp="components";function Yi(e,t){return eg(Zp,e,!0,t)||e}const Jp=Symbol.for("v-ndc");function Qp(e){return ot(e)?eg(Zp,e,!1)||e:e||Jp}function eg(e,t,n=!0,r=!1){const o=wt||bt;if(o){const i=o.type;{const a=Sb(i,!1);if(a&&(a===t||a===nn(t)||a===ya(nn(t))))return i}const s=_f(o[e]||i[e],t)||_f(o.appContext[e],t);return!s&&r?i:s}}function _f(e,t){return e&&(e[t]||e[nn(t)]||e[ya(nn(t))])}function wo(e,t,n,r){let o;const i=n&&n[r],s=Ee(e);if(s||ot(e)){const a=s&&mr(e);let l=!1;a&&(l=!en(e),e=wa(e)),o=new Array(e.length);for(let c=0,u=e.length;c<u;c++)o[c]=t(l?kt(e[c]):e[c],c,void 0,i&&i[c])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,i&&i[a])}else if(tt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,i&&i[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];o[l]=t(e[u],u,l,i&&i[l])}}else o=[];return n&&(n[r]=o),o}function vt(e,t,n={},r,o){if(wt.ce||wt.parent&&_o(wt.parent)&&wt.parent.ce)return t!=="default"&&(n.name=t),he(),gt(Ge,null,[be("slot",n,r&&r())],64);let i=e[t];i&&i._c&&(i._d=!1),he();const s=i&&tg(i(n)),a=n.key||s&&s.key,l=gt(Ge,{key:(a&&!Zn(a)?a:`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&e._===1?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function tg(e){return e.some(t=>Ci(t)?!(t.type===br||t.type===Ge&&!tg(t.children)):!0)?e:null}const zl=e=>e?Eg(e)?du(e):zl(e.parent):null,ai=Nt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>zl(e.parent),$root:e=>zl(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>og(e),$forceUpdate:e=>e.f||(e.f=()=>{su(e.update)}),$nextTick:e=>e.n||(e.n=tn.bind(e.proxy)),$watch:e=>ib.bind(e)}),ol=(e,t)=>e!==Xe&&!e.__isScriptSetup&&ze(e,t),Dy={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const h=s[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(ol(r,t))return s[t]=1,r[t];if(o!==Xe&&ze(o,t))return s[t]=2,o[t];if((c=e.propsOptions[0])&&ze(c,t))return s[t]=3,i[t];if(n!==Xe&&ze(n,t))return s[t]=4,n[t];Wl&&(s[t]=0)}}const u=ai[t];let f,d;if(u)return t==="$attrs"&&It(e.attrs,"get",""),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==Xe&&ze(n,t))return s[t]=4,n[t];if(d=l.config.globalProperties,ze(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;return ol(o,t)?(o[t]=n,!0):r!==Xe&&ze(r,t)?(r[t]=n,!0):ze(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i}},s){let a;return!!n[s]||e!==Xe&&ze(e,s)||ol(t,s)||(a=i[0])&&ze(a,s)||ze(r,s)||ze(ai,s)||ze(o.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ze(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ly(){return ng().slots}function $y(){return ng().attrs}function ng(){const e=hn();return e.setupContext||(e.setupContext=Cg(e))}function vf(e){return Ee(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Fy(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}let Wl=!0;function By(e){const t=og(e),n=e.proxy,r=e.ctx;Wl=!1,t.beforeCreate&&yf(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:m,activated:p,deactivated:w,beforeDestroy:v,beforeUnmount:E,destroyed:_,unmounted:y,render:M,renderTracked:F,renderTriggered:A,errorCaptured:B,serverPrefetch:V,expose:J,inheritAttrs:Y,components:P,directives:oe,filters:L}=t;if(c&&Uy(c,r,null),s)for(const W in s){const K=s[W];we(K)&&(r[W]=K.bind(n))}if(o){const W=o.call(n,n);tt(W)&&(e.data=Bo(W))}if(Wl=!0,i)for(const W in i){const K=i[W],ne=we(K)?K.bind(n,n):we(K.get)?K.get.bind(n,n):In,re=!we(K)&&we(K.set)?K.set.bind(n):In,se=me({get:ne,set:re});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>se.value,set:ee=>se.value=ee})}if(a)for(const W in a)rg(a[W],r,n,W);if(l){const W=we(l)?l.call(n):l;Reflect.ownKeys(W).forEach(K=>{kn(K,W[K])})}u&&yf(u,e,"c");function $(W,K){Ee(K)?K.forEach(ne=>W(ne.bind(n))):K&&W(K.bind(n))}if($(Xp,f),$(gn,d),$(Ty,h),$(Oy,m),$(Iy,p),$(ky,w),$(Ay,B),$(Ry,F),$(Py,A),$(lu,E),$(qi,y),$(My,V),Ee(J))if(J.length){const W=e.exposed||(e.exposed={});J.forEach(K=>{Object.defineProperty(W,K,{get:()=>n[K],set:ne=>n[K]=ne})})}else e.exposed||(e.exposed={});M&&e.render===In&&(e.render=M),Y!=null&&(e.inheritAttrs=Y),P&&(e.components=P),oe&&(e.directives=oe),V&&qp(e)}function Uy(e,t,n=In){Ee(e)&&(e=jl(e));for(const r in e){const o=e[r];let i;tt(o)?"default"in o?i=St(o.from||r,o.default,!0):i=St(o.from||r):i=St(o),Je(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):t[r]=i}}function yf(e,t,n){On(Ee(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function rg(e,t,n,r){let o=r.includes(".")?_g(n,r):()=>n[r];if(ot(e)){const i=t[e];we(i)&&Ne(o,i)}else if(we(e))Ne(o,e.bind(n));else if(tt(e))if(Ee(e))e.forEach(i=>rg(i,t,n,r));else{const i=we(e.handler)?e.handler.bind(n):t[e.handler];we(i)&&Ne(o,i,e)}}function og(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,a=i.get(t);let l;return a?l=a:!o.length&&!n&&!r?l=t:(l={},o.length&&o.forEach(c=>Vs(l,c,s,!0)),Vs(l,t,s)),tt(t)&&i.set(t,l),l}function Vs(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&Vs(e,i,n,!0),o&&o.forEach(s=>Vs(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const a=Hy[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const Hy={data:bf,props:Sf,emits:Sf,methods:Jo,computed:Jo,beforeCreate:Ot,created:Ot,beforeMount:Ot,mounted:Ot,beforeUpdate:Ot,updated:Ot,beforeDestroy:Ot,beforeUnmount:Ot,destroyed:Ot,unmounted:Ot,activated:Ot,deactivated:Ot,errorCaptured:Ot,serverPrefetch:Ot,components:Jo,directives:Jo,watch:zy,provide:bf,inject:Vy};function bf(e,t){return t?e?function(){return Nt(we(e)?e.call(this,this):e,we(t)?t.call(this,this):t)}:t:e}function Vy(e,t){return Jo(jl(e),jl(t))}function jl(e){if(Ee(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ot(e,t){return e?[...new Set([].concat(e,t))]:t}function Jo(e,t){return e?Nt(Object.create(null),e,t):t}function Sf(e,t){return e?Ee(e)&&Ee(t)?[...new Set([...e,...t])]:Nt(Object.create(null),vf(e),vf(t??{})):t}function zy(e,t){if(!e)return t;if(!t)return e;const n=Nt(Object.create(null),e);for(const r in t)n[r]=Ot(e[r],t[r]);return n}function ig(){return{app:null,config:{isNativeTag:Rv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wy=0;function jy(e,t){return function(r,o=null){we(r)||(r=Nt({},r)),o!=null&&!tt(o)&&(o=null);const i=ig(),s=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Wy++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:Cb,get config(){return i.config},set config(u){},use(u,...f){return s.has(u)||(u&&we(u.install)?(s.add(u),u.install(c,...f)):we(u)&&(s.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,d){if(!l){const h=c._ceVNode||be(r,o);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),e(h,u,d),l=!0,c._container=u,u.__vue_app__=c,du(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(On(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=zr;zr=c;try{return u()}finally{zr=f}}};return c}}let zr=null;function kn(e,t){if(bt){let n=bt.provides;const r=bt.parent&&bt.parent.provides;r===n&&(n=bt.provides=Object.create(r)),n[e]=t}}function St(e,t,n=!1){const r=bt||wt;if(r||zr){const o=zr?zr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&we(t)?t.call(r&&r.proxy):t}}function Gy(){return!!(bt||wt||zr)}const sg={},ag=()=>Object.create(sg),lg=e=>Object.getPrototypeOf(e)===sg;function qy(e,t,n,r=!1){const o={},i=ag();e.propsDefaults=Object.create(null),cg(e,t,o,i);for(const s in e.propsOptions[0])s in o||(o[s]=void 0);n?e.props=r?o:Ap(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function Yy(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=e,a=$e(o),[l]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Ia(e.emitsOptions,d))continue;const h=t[d];if(l)if(ze(i,d))h!==i[d]&&(i[d]=h,c=!0);else{const m=nn(d);o[m]=Gl(l,a,m,h,e,!1)}else h!==i[d]&&(i[d]=h,c=!0)}}}else{cg(e,t,o,i)&&(c=!0);let u;for(const f in a)(!t||!ze(t,f)&&((u=Jr(f))===f||!ze(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(o[f]=Gl(l,a,f,void 0,e,!0)):delete o[f]);if(i!==a)for(const f in i)(!t||!ze(t,f))&&(delete i[f],c=!0)}c&&Un(e.attrs,"set","")}function cg(e,t,n,r){const[o,i]=e.propsOptions;let s=!1,a;if(t)for(let l in t){if(ni(l))continue;const c=t[l];let u;o&&ze(o,u=nn(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Ia(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,s=!0)}if(i){const l=$e(n),c=a||Xe;for(let u=0;u<i.length;u++){const f=i[u];n[f]=Gl(o,l,f,c[f],e,!ze(c,f))}}return s}function Gl(e,t,n,r,o,i){const s=e[n];if(s!=null){const a=ze(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&we(l)){const{propsDefaults:c}=o;if(n in c)r=c[n];else{const u=Xi(o);r=c[n]=l.call(null,t),u()}}else r=l;o.ce&&o.ce._setProp(n,r)}s[0]&&(i&&!a?r=!1:s[1]&&(r===""||r===Jr(n))&&(r=!0))}return r}const Ky=new WeakMap;function ug(e,t,n=!1){const r=n?Ky:t.propsCache,o=r.get(e);if(o)return o;const i=e.props,s={},a=[];let l=!1;if(!we(e)){const u=f=>{l=!0;const[d,h]=ug(f,t,!0);Nt(s,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return tt(e)&&r.set(e,po),po;if(Ee(i))for(let u=0;u<i.length;u++){const f=nn(i[u]);Ef(f)&&(s[f]=Xe)}else if(i)for(const u in i){const f=nn(u);if(Ef(f)){const d=i[u],h=s[f]=Ee(d)||we(d)?{type:d}:Nt({},d),m=h.type;let p=!1,w=!0;if(Ee(m))for(let v=0;v<m.length;++v){const E=m[v],_=we(E)&&E.name;if(_==="Boolean"){p=!0;break}else _==="String"&&(w=!1)}else p=we(m)&&m.name==="Boolean";h[0]=p,h[1]=w,(p||ze(h,"default"))&&a.push(f)}}const c=[s,a];return tt(e)&&r.set(e,c),c}function Ef(e){return e[0]!=="$"&&!ni(e)}const fg=e=>e[0]==="_"||e==="$stable",cu=e=>Ee(e)?e.map(wn):[wn(e)],Xy=(e,t,n)=>{if(t._n)return t;const r=Me((...o)=>cu(t(...o)),n);return r._c=!1,r},dg=(e,t,n)=>{const r=e._ctx;for(const o in e){if(fg(o))continue;const i=e[o];if(we(i))t[o]=Xy(o,i,r);else if(i!=null){const s=cu(i);t[o]=()=>s}}},hg=(e,t)=>{const n=cu(t);e.slots.default=()=>n},pg=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},Zy=(e,t,n)=>{const r=e.slots=ag();if(e.vnode.shapeFlag&32){const o=t._;o?(pg(r,t,n),n&&gp(r,"_",o,!0)):dg(t,r)}else t&&hg(e,t)},Jy=(e,t,n)=>{const{vnode:r,slots:o}=e;let i=!0,s=Xe;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:pg(o,t,n):(i=!t.$stable,dg(t,o)),s=t}else t&&(hg(e,t),s={default:1});if(i)for(const a in o)!fg(a)&&s[a]==null&&delete o[a]},Pt=db;function Qy(e){return eb(e)}function eb(e,t){const n=ba();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=In,insertStaticContent:m}=e,p=(N,T,S,C=null,I=null,k=null,b=void 0,x=null,O=!!T.dynamicChildren)=>{if(N===T)return;N&&!qo(N,T)&&(C=U(N),ee(N,I,k,!0),N=null),T.patchFlag===-2&&(O=!1,T.dynamicChildren=null);const{type:D,ref:Z,shapeFlag:j}=T;switch(D){case Ki:w(N,T,S,C);break;case br:v(N,T,S,C);break;case sl:N==null&&E(T,S,C,b);break;case Ge:P(N,T,S,C,I,k,b,x,O);break;default:j&1?M(N,T,S,C,I,k,b,x,O):j&6?oe(N,T,S,C,I,k,b,x,O):(j&64||j&128)&&D.process(N,T,S,C,I,k,b,x,O,te)}Z!=null&&I&&Hs(Z,N&&N.ref,k,T||N,!T)},w=(N,T,S,C)=>{if(N==null)r(T.el=a(T.children),S,C);else{const I=T.el=N.el;T.children!==N.children&&c(I,T.children)}},v=(N,T,S,C)=>{N==null?r(T.el=l(T.children||""),S,C):T.el=N.el},E=(N,T,S,C)=>{[N.el,N.anchor]=m(N.children,T,S,C,N.el,N.anchor)},_=({el:N,anchor:T},S,C)=>{let I;for(;N&&N!==T;)I=d(N),r(N,S,C),N=I;r(T,S,C)},y=({el:N,anchor:T})=>{let S;for(;N&&N!==T;)S=d(N),o(N),N=S;o(T)},M=(N,T,S,C,I,k,b,x,O)=>{T.type==="svg"?b="svg":T.type==="math"&&(b="mathml"),N==null?F(T,S,C,I,k,b,x,O):V(N,T,I,k,b,x,O)},F=(N,T,S,C,I,k,b,x)=>{let O,D;const{props:Z,shapeFlag:j,transition:R,dirs:H}=N;if(O=N.el=s(N.type,k,Z&&Z.is,Z),j&8?u(O,N.children):j&16&&B(N.children,O,null,C,I,il(N,k),b,x),H&&Rr(N,null,C,"created"),A(O,N,N.scopeId,b,C),Z){for(const ve in Z)ve!=="value"&&!ni(ve)&&i(O,ve,null,Z[ve],k,C);"value"in Z&&i(O,"value",null,Z.value,k),(D=Z.onVnodeBeforeMount)&&vn(D,C,N)}H&&Rr(N,null,C,"beforeMount");const ce=tb(I,R);ce&&R.beforeEnter(O),r(O,T,S),((D=Z&&Z.onVnodeMounted)||ce||H)&&Pt(()=>{D&&vn(D,C,N),ce&&R.enter(O),H&&Rr(N,null,C,"mounted")},I)},A=(N,T,S,C,I)=>{if(S&&h(N,S),C)for(let k=0;k<C.length;k++)h(N,C[k]);if(I){let k=I.subTree;if(T===k||yg(k.type)&&(k.ssContent===T||k.ssFallback===T)){const b=I.vnode;A(N,b,b.scopeId,b.slotScopeIds,I.parent)}}},B=(N,T,S,C,I,k,b,x,O=0)=>{for(let D=O;D<N.length;D++){const Z=N[D]=x?ar(N[D]):wn(N[D]);p(null,Z,T,S,C,I,k,b,x)}},V=(N,T,S,C,I,k,b)=>{const x=T.el=N.el;let{patchFlag:O,dynamicChildren:D,dirs:Z}=T;O|=N.patchFlag&16;const j=N.props||Xe,R=T.props||Xe;let H;if(S&&Ar(S,!1),(H=R.onVnodeBeforeUpdate)&&vn(H,S,T,N),Z&&Rr(T,N,S,"beforeUpdate"),S&&Ar(S,!0),(j.innerHTML&&R.innerHTML==null||j.textContent&&R.textContent==null)&&u(x,""),D?J(N.dynamicChildren,D,x,S,C,il(T,I),k):b||K(N,T,x,null,S,C,il(T,I),k,!1),O>0){if(O&16)Y(x,j,R,S,I);else if(O&2&&j.class!==R.class&&i(x,"class",null,R.class,I),O&4&&i(x,"style",j.style,R.style,I),O&8){const ce=T.dynamicProps;for(let ve=0;ve<ce.length;ve++){const ke=ce[ve],at=j[ke],st=R[ke];(st!==at||ke==="value")&&i(x,ke,at,st,I,S)}}O&1&&N.children!==T.children&&u(x,T.children)}else!b&&D==null&&Y(x,j,R,S,I);((H=R.onVnodeUpdated)||Z)&&Pt(()=>{H&&vn(H,S,T,N),Z&&Rr(T,N,S,"updated")},C)},J=(N,T,S,C,I,k,b)=>{for(let x=0;x<T.length;x++){const O=N[x],D=T[x],Z=O.el&&(O.type===Ge||!qo(O,D)||O.shapeFlag&70)?f(O.el):S;p(O,D,Z,null,C,I,k,b,!0)}},Y=(N,T,S,C,I)=>{if(T!==S){if(T!==Xe)for(const k in T)!ni(k)&&!(k in S)&&i(N,k,T[k],null,I,C);for(const k in S){if(ni(k))continue;const b=S[k],x=T[k];b!==x&&k!=="value"&&i(N,k,x,b,I,C)}"value"in S&&i(N,"value",T.value,S.value,I)}},P=(N,T,S,C,I,k,b,x,O)=>{const D=T.el=N?N.el:a(""),Z=T.anchor=N?N.anchor:a("");let{patchFlag:j,dynamicChildren:R,slotScopeIds:H}=T;H&&(x=x?x.concat(H):H),N==null?(r(D,S,C),r(Z,S,C),B(T.children||[],S,Z,I,k,b,x,O)):j>0&&j&64&&R&&N.dynamicChildren?(J(N.dynamicChildren,R,S,I,k,b,x),(T.key!=null||I&&T===I.subTree)&&uu(N,T,!0)):K(N,T,S,Z,I,k,b,x,O)},oe=(N,T,S,C,I,k,b,x,O)=>{T.slotScopeIds=x,N==null?T.shapeFlag&512?I.ctx.activate(T,S,C,b,O):L(T,S,C,I,k,b,O):G(N,T,O)},L=(N,T,S,C,I,k,b)=>{const x=N.component=_b(N,C,I);if(Yp(N)&&(x.ctx.renderer=te),vb(x,!1,b),x.asyncDep){if(I&&I.registerDep(x,$,b),!N.el){const O=x.subTree=be(br);v(null,O,T,S)}}else $(x,N,T,S,I,k,b)},G=(N,T,S)=>{const C=T.component=N.component;if(ub(N,T,S))if(C.asyncDep&&!C.asyncResolved){W(C,T,S);return}else C.next=T,C.update();else T.el=N.el,C.vnode=T},$=(N,T,S,C,I,k,b)=>{const x=()=>{if(N.isMounted){let{next:j,bu:R,u:H,parent:ce,vnode:ve}=N;{const on=gg(N);if(on){j&&(j.el=ve.el,W(N,j,b)),on.asyncDep.then(()=>{N.isUnmounted||x()});return}}let ke=j,at;Ar(N,!1),j?(j.el=ve.el,W(N,j,b)):j=ve,R&&Qa(R),(at=j.props&&j.props.onVnodeBeforeUpdate)&&vn(at,ce,j,ve),Ar(N,!0);const st=Cf(N),Zt=N.subTree;N.subTree=st,p(Zt,st,f(Zt.el),U(Zt),N,I,k),j.el=st.el,ke===null&&fb(N,st.el),H&&Pt(H,I),(at=j.props&&j.props.onVnodeUpdated)&&Pt(()=>vn(at,ce,j,ve),I)}else{let j;const{el:R,props:H}=T,{bm:ce,m:ve,parent:ke,root:at,type:st}=N,Zt=_o(T);Ar(N,!1),ce&&Qa(ce),!Zt&&(j=H&&H.onVnodeBeforeMount)&&vn(j,ke,T),Ar(N,!0);{at.ce&&at.ce._injectChildStyle(st);const on=N.subTree=Cf(N);p(null,on,S,C,N,I,k),T.el=on.el}if(ve&&Pt(ve,I),!Zt&&(j=H&&H.onVnodeMounted)){const on=T;Pt(()=>vn(j,ke,on),I)}(T.shapeFlag&256||ke&&_o(ke.vnode)&&ke.vnode.shapeFlag&256)&&N.a&&Pt(N.a,I),N.isMounted=!0,T=S=C=null}};N.scope.on();const O=N.effect=new bp(x);N.scope.off();const D=N.update=O.run.bind(O),Z=N.job=O.runIfDirty.bind(O);Z.i=N,Z.id=N.uid,O.scheduler=()=>su(Z),Ar(N,!0),D()},W=(N,T,S)=>{T.component=N;const C=N.vnode.props;N.vnode=T,N.next=null,Yy(N,T.props,C,S),Jy(N,T.children,S),xr(),hf(N),Ir()},K=(N,T,S,C,I,k,b,x,O=!1)=>{const D=N&&N.children,Z=N?N.shapeFlag:0,j=T.children,{patchFlag:R,shapeFlag:H}=T;if(R>0){if(R&128){re(D,j,S,C,I,k,b,x,O);return}else if(R&256){ne(D,j,S,C,I,k,b,x,O);return}}H&8?(Z&16&&ye(D,I,k),j!==D&&u(S,j)):Z&16?H&16?re(D,j,S,C,I,k,b,x,O):ye(D,I,k,!0):(Z&8&&u(S,""),H&16&&B(j,S,C,I,k,b,x,O))},ne=(N,T,S,C,I,k,b,x,O)=>{N=N||po,T=T||po;const D=N.length,Z=T.length,j=Math.min(D,Z);let R;for(R=0;R<j;R++){const H=T[R]=O?ar(T[R]):wn(T[R]);p(N[R],H,S,null,I,k,b,x,O)}D>Z?ye(N,I,k,!0,!1,j):B(T,S,C,I,k,b,x,O,j)},re=(N,T,S,C,I,k,b,x,O)=>{let D=0;const Z=T.length;let j=N.length-1,R=Z-1;for(;D<=j&&D<=R;){const H=N[D],ce=T[D]=O?ar(T[D]):wn(T[D]);if(qo(H,ce))p(H,ce,S,null,I,k,b,x,O);else break;D++}for(;D<=j&&D<=R;){const H=N[j],ce=T[R]=O?ar(T[R]):wn(T[R]);if(qo(H,ce))p(H,ce,S,null,I,k,b,x,O);else break;j--,R--}if(D>j){if(D<=R){const H=R+1,ce=H<Z?T[H].el:C;for(;D<=R;)p(null,T[D]=O?ar(T[D]):wn(T[D]),S,ce,I,k,b,x,O),D++}}else if(D>R)for(;D<=j;)ee(N[D],I,k,!0),D++;else{const H=D,ce=D,ve=new Map;for(D=ce;D<=R;D++){const Gt=T[D]=O?ar(T[D]):wn(T[D]);Gt.key!=null&&ve.set(Gt.key,D)}let ke,at=0;const st=R-ce+1;let Zt=!1,on=0;const jo=new Array(st);for(D=0;D<st;D++)jo[D]=0;for(D=H;D<=j;D++){const Gt=N[D];if(at>=st){ee(Gt,I,k,!0);continue}let _n;if(Gt.key!=null)_n=ve.get(Gt.key);else for(ke=ce;ke<=R;ke++)if(jo[ke-ce]===0&&qo(Gt,T[ke])){_n=ke;break}_n===void 0?ee(Gt,I,k,!0):(jo[_n-ce]=D+1,_n>=on?on=_n:Zt=!0,p(Gt,T[_n],S,null,I,k,b,x,O),at++)}const af=Zt?nb(jo):po;for(ke=af.length-1,D=st-1;D>=0;D--){const Gt=ce+D,_n=T[Gt],lf=Gt+1<Z?T[Gt+1].el:C;jo[D]===0?p(null,_n,S,lf,I,k,b,x,O):Zt&&(ke<0||D!==af[ke]?se(_n,S,lf,2):ke--)}}},se=(N,T,S,C,I=null)=>{const{el:k,type:b,transition:x,children:O,shapeFlag:D}=N;if(D&6){se(N.component.subTree,T,S,C);return}if(D&128){N.suspense.move(T,S,C);return}if(D&64){b.move(N,T,S,te);return}if(b===Ge){r(k,T,S);for(let j=0;j<O.length;j++)se(O[j],T,S,C);r(N.anchor,T,S);return}if(b===sl){_(N,T,S);return}if(C!==2&&D&1&&x)if(C===0)x.beforeEnter(k),r(k,T,S),Pt(()=>x.enter(k),I);else{const{leave:j,delayLeave:R,afterLeave:H}=x,ce=()=>r(k,T,S),ve=()=>{j(k,()=>{ce(),H&&H()})};R?R(k,ce,ve):ve()}else r(k,T,S)},ee=(N,T,S,C=!1,I=!1)=>{const{type:k,props:b,ref:x,children:O,dynamicChildren:D,shapeFlag:Z,patchFlag:j,dirs:R,cacheIndex:H}=N;if(j===-2&&(I=!1),x!=null&&Hs(x,null,S,N,!0),H!=null&&(T.renderCache[H]=void 0),Z&256){T.ctx.deactivate(N);return}const ce=Z&1&&R,ve=!_o(N);let ke;if(ve&&(ke=b&&b.onVnodeBeforeUnmount)&&vn(ke,T,N),Z&6)_e(N.component,S,C);else{if(Z&128){N.suspense.unmount(S,C);return}ce&&Rr(N,null,T,"beforeUnmount"),Z&64?N.type.remove(N,T,S,te,C):D&&!D.hasOnce&&(k!==Ge||j>0&&j&64)?ye(D,T,S,!1,!0):(k===Ge&&j&384||!I&&Z&16)&&ye(O,T,S),C&&ie(N)}(ve&&(ke=b&&b.onVnodeUnmounted)||ce)&&Pt(()=>{ke&&vn(ke,T,N),ce&&Rr(N,null,T,"unmounted")},S)},ie=N=>{const{type:T,el:S,anchor:C,transition:I}=N;if(T===Ge){le(S,C);return}if(T===sl){y(N);return}const k=()=>{o(S),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(N.shapeFlag&1&&I&&!I.persisted){const{leave:b,delayLeave:x}=I,O=()=>b(S,k);x?x(N.el,k,O):O()}else k()},le=(N,T)=>{let S;for(;N!==T;)S=d(N),o(N),N=S;o(T)},_e=(N,T,S)=>{const{bum:C,scope:I,job:k,subTree:b,um:x,m:O,a:D}=N;wf(O),wf(D),C&&Qa(C),I.stop(),k&&(k.flags|=8,ee(b,N,T,S)),x&&Pt(x,T),Pt(()=>{N.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},ye=(N,T,S,C=!1,I=!1,k=0)=>{for(let b=k;b<N.length;b++)ee(N[b],T,S,C,I)},U=N=>{if(N.shapeFlag&6)return U(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const T=d(N.anchor||N.el),S=T&&T[Wp];return S?d(S):T};let Q=!1;const X=(N,T,S)=>{N==null?T._vnode&&ee(T._vnode,null,null,!0):p(T._vnode||null,N,T,null,null,null,S),T._vnode=N,Q||(Q=!0,hf(),Hp(),Q=!1)},te={p,um:ee,m:se,r:ie,mt:L,mc:B,pc:K,pbc:J,n:U,o:e};return{render:X,hydrate:void 0,createApp:jy(X)}}function il({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ar({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function tb(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function uu(e,t,n=!1){const r=e.children,o=t.children;if(Ee(r)&&Ee(o))for(let i=0;i<r.length;i++){const s=r[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=ar(o[i]),a.el=s.el),!n&&a.patchFlag!==-2&&uu(s,a)),a.type===Ki&&(a.el=s.el)}}function nb(e){const t=e.slice(),n=[0];let r,o,i,s,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(o=n[n.length-1],e[o]<c){t[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,e[n[a]]<c?i=a+1:s=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=t[s];return n}function gg(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:gg(t)}function wf(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const rb=Symbol.for("v-scx"),ob=()=>St(rb);function Ne(e,t,n){return mg(e,t,n)}function mg(e,t,n=Xe){const{immediate:r,deep:o,flush:i,once:s}=n,a=Nt({},n),l=t&&r||!t&&i!=="post";let c;if(xi){if(i==="sync"){const h=ob();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=In,h.resume=In,h.pause=In,h}}const u=bt;a.call=(h,m,p)=>On(h,u,m,p);let f=!1;i==="post"?a.scheduler=h=>{Pt(h,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(h,m)=>{m?h():su(h)}),a.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=yy(e,t,a);return xi&&(c?c.push(d):l&&d()),d}function ib(e,t,n){const r=this.proxy,o=ot(e)?e.includes(".")?_g(r,e):()=>r[e]:e.bind(r,r);let i;we(t)?i=t:(i=t.handler,n=t);const s=Xi(this),a=mg(o,i.bind(r),n);return s(),a}function _g(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}const sb=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${nn(t)}Modifiers`]||e[`${Jr(t)}Modifiers`];function ab(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Xe;let o=n;const i=t.startsWith("update:"),s=i&&sb(r,t.slice(7));s&&(s.trim&&(o=n.map(u=>ot(u)?u.trim():u)),s.number&&(o=n.map(Fv)));let a,l=r[a=Ja(t)]||r[a=Ja(nn(t))];!l&&i&&(l=r[a=Ja(Jr(t))]),l&&On(l,e,6,o);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,On(c,e,6,o)}}function vg(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const i=e.emits;let s={},a=!1;if(!we(e)){const l=c=>{const u=vg(c,t,!0);u&&(a=!0,Nt(s,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(tt(e)&&r.set(e,null),null):(Ee(i)?i.forEach(l=>s[l]=null):Nt(s,i),tt(e)&&r.set(e,s),s)}function Ia(e,t){return!e||!ma(t)?!1:(t=t.slice(2).replace(/Once$/,""),ze(e,t[0].toLowerCase()+t.slice(1))||ze(e,Jr(t))||ze(e,t))}function Cf(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[i],slots:s,attrs:a,emit:l,render:c,renderCache:u,props:f,data:d,setupState:h,ctx:m,inheritAttrs:p}=e,w=Us(e);let v,E;try{if(n.shapeFlag&4){const y=o||r,M=y;v=wn(c.call(M,y,u,f,h,d,m)),E=a}else{const y=t;v=wn(y.length>1?y(f,{attrs:a,slots:s,emit:l}):y(f,null)),E=t.props?a:lb(a)}}catch(y){li.length=0,Ca(y,e,1),v=be(br)}let _=v;if(E&&p!==!1){const y=Object.keys(E),{shapeFlag:M}=_;y.length&&M&7&&(i&&y.some(Xc)&&(E=cb(E,i)),_=xo(_,E,!1,!0))}return n.dirs&&(_=xo(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&au(_,n.transition),v=_,Us(w),v}const lb=e=>{let t;for(const n in e)(n==="class"||n==="style"||ma(n))&&((t||(t={}))[n]=e[n]);return t},cb=(e,t)=>{const n={};for(const r in e)(!Xc(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function ub(e,t,n){const{props:r,children:o,component:i}=e,{props:s,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?xf(r,s,c):!!s;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(s[d]!==r[d]&&!Ia(c,d))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?xf(r,s,c):!0:!!s;return!1}function xf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!Ia(n,i))return!0}return!1}function fb({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const yg=e=>e.__isSuspense;function db(e,t){t&&t.pendingBranch?Ee(e)?t.effects.push(...e):t.effects.push(e):Ey(e)}const Ge=Symbol.for("v-fgt"),Ki=Symbol.for("v-txt"),br=Symbol.for("v-cmt"),sl=Symbol.for("v-stc"),li=[];let Ft=null;function he(e=!1){li.push(Ft=e?null:[])}function hb(){li.pop(),Ft=li[li.length-1]||null}let Co=1;function If(e,t=!1){Co+=e,e<0&&Ft&&t&&(Ft.hasOnce=!0)}function bg(e){return e.dynamicChildren=Co>0?Ft||po:null,hb(),Co>0&&Ft&&Ft.push(e),e}function Se(e,t,n,r,o,i){return bg(ae(e,t,n,r,o,i,!0))}function gt(e,t,n,r,o){return bg(be(e,t,n,r,o,!0))}function Ci(e){return e?e.__v_isVNode===!0:!1}function qo(e,t){return e.type===t.type&&e.key===t.key}const Sg=({key:e})=>e??null,Is=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ot(e)||Je(e)||we(e)?{i:wt,r:e,k:t,f:!!n}:e:null);function ae(e,t=null,n=null,r=0,o=null,i=e===Ge?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Sg(t),ref:t&&Is(t),scopeId:zp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:wt};return a?(fu(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=ot(n)?8:16),Co>0&&!s&&Ft&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ft.push(l),l}const be=pb;function pb(e,t=null,n=null,r=0,o=null,i=!1){if((!e||e===Jp)&&(e=br),Ci(e)){const a=xo(e,t,!0);return n&&fu(a,n),Co>0&&!i&&Ft&&(a.shapeFlag&6?Ft[Ft.indexOf(e)]=a:Ft.push(a)),a.patchFlag=-2,a}if(Eb(e)&&(e=e.__vccOpts),t){t=ql(t);let{class:a,style:l}=t;a&&!ot(a)&&(t.class=zt(a)),tt(l)&&(iu(l)&&!Ee(l)&&(l=Nt({},l)),t.style=Bt(l))}const s=ot(e)?1:yg(e)?128:wy(e)?64:tt(e)?4:we(e)?2:0;return ae(e,t,n,r,o,s,i,!0)}function ql(e){return e?iu(e)||lg(e)?Nt({},e):e:null}function xo(e,t,n=!1,r=!1){const{props:o,ref:i,patchFlag:s,children:a,transition:l}=e,c=t?ka(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Sg(c),ref:t&&t.ref?n&&i?Ee(i)?i.concat(Is(t)):[i,Is(t)]:Is(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ge?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&xo(e.ssContent),ssFallback:e.ssFallback&&xo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&au(u,l.clone(u)),u}function Fr(e=" ",t=0){return be(Ki,null,e,t)}function mt(e="",t=!1){return t?(he(),gt(br,null,e)):be(br,null,e)}function wn(e){return e==null||typeof e=="boolean"?be(br):Ee(e)?be(Ge,null,e.slice()):Ci(e)?ar(e):be(Ki,null,String(e))}function ar(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:xo(e)}function fu(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ee(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),fu(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!lg(t)?t._ctx=wt:o===3&&wt&&(wt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else we(t)?(t={default:t,_ctx:wt},n=32):(t=String(t),r&64?(n=16,t=[Fr(t)]):n=8);e.children=t,e.shapeFlag|=n}function ka(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=zt([t.class,r.class]));else if(o==="style")t.style=Bt([t.style,r.style]);else if(ma(o)){const i=t[o],s=r[o];s&&i!==s&&!(Ee(i)&&i.includes(s))&&(t[o]=i?[].concat(i,s):s)}else o!==""&&(t[o]=r[o])}return t}function vn(e,t,n,r=null){On(e,t,7,[n,r])}const gb=ig();let mb=0;function _b(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||gb,i={uid:mb++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ug(r,o),emitsOptions:vg(r,o),emit:null,emitted:null,propsDefaults:Xe,inheritAttrs:r.inheritAttrs,ctx:Xe,data:Xe,props:Xe,attrs:Xe,slots:Xe,refs:Xe,setupState:Xe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=ab.bind(null,i),e.ce&&e.ce(i),i}let bt=null;const hn=()=>bt||wt;let zs,Yl;{const e=ba(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),i=>{o.length>1?o.forEach(s=>s(i)):o[0](i)}};zs=t("__VUE_INSTANCE_SETTERS__",n=>bt=n),Yl=t("__VUE_SSR_SETTERS__",n=>xi=n)}const Xi=e=>{const t=bt;return zs(e),e.scope.on(),()=>{e.scope.off(),zs(t)}},kf=()=>{bt&&bt.scope.off(),zs(null)};function Eg(e){return e.vnode.shapeFlag&4}let xi=!1;function vb(e,t=!1,n=!1){t&&Yl(t);const{props:r,children:o}=e.vnode,i=Eg(e);qy(e,r,i,t),Zy(e,o,n);const s=i?yb(e,t):void 0;return t&&Yl(!1),s}function yb(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Dy);const{setup:r}=n;if(r){xr();const o=e.setupContext=r.length>1?Cg(e):null,i=Xi(e),s=Gi(r,e,0,[e.props,o]),a=dp(s);if(Ir(),i(),(a||e.sp)&&!_o(e)&&qp(e),a){if(s.then(kf,kf),t)return s.then(l=>{Nf(e,l)}).catch(l=>{Ca(l,e,0)});e.asyncDep=s}else Nf(e,s)}else wg(e)}function Nf(e,t,n){we(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:tt(t)&&(e.setupState=Lp(t)),wg(e)}function wg(e,t,n){const r=e.type;e.render||(e.render=r.render||In);{const o=Xi(e);xr();try{By(e)}finally{Ir(),o()}}}const bb={get(e,t){return It(e,"get",""),e[t]}};function Cg(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,bb),slots:e.slots,emit:e.emit,expose:t}}function du(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Lp(_r(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ai)return ai[n](e)},has(t,n){return n in t||n in ai}})):e.proxy}function Sb(e,t=!0){return we(e)?e.displayName||e.name:e.name||t&&e.__name}function Eb(e){return we(e)&&"__vccOpts"in e}const me=(e,t)=>_y(e,t,xi);function De(e,t,n){const r=arguments.length;return r===2?tt(t)&&!Ee(t)?Ci(t)?be(e,null,[t]):be(e,t):be(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ci(n)&&(n=[n]),be(e,t,n))}function wb(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(qn(n[r],t[r]))return!1;return Co>0&&Ft&&Ft.push(e),!0}const Cb="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Kl;const Tf=typeof window<"u"&&window.trustedTypes;if(Tf)try{Kl=Tf.createPolicy("vue",{createHTML:e=>e})}catch{}const xg=Kl?e=>Kl.createHTML(e):e=>e,xb="http://www.w3.org/2000/svg",Ib="http://www.w3.org/1998/Math/MathML",Bn=typeof document<"u"?document:null,Of=Bn&&Bn.createElement("template"),kb={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t==="svg"?Bn.createElementNS(xb,e):t==="mathml"?Bn.createElementNS(Ib,e):n?Bn.createElement(e,{is:n}):Bn.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>Bn.createTextNode(e),createComment:e=>Bn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Bn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,i){const s=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{Of.innerHTML=xg(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=Of.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Nb=Symbol("_vtc");function Tb(e,t,n){const r=e[Nb];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Mf=Symbol("_vod"),Ob=Symbol("_vsh"),Mb=Symbol(""),Pb=/(^|;)\s*display\s*:/;function Rb(e,t,n){const r=e.style,o=ot(n);let i=!1;if(n&&!o){if(t)if(ot(t))for(const s of t.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&ks(r,a,"")}else for(const s in t)n[s]==null&&ks(r,s,"");for(const s in n)s==="display"&&(i=!0),ks(r,s,n[s])}else if(o){if(t!==n){const s=r[Mb];s&&(n+=";"+s),r.cssText=n,i=Pb.test(n)}}else t&&e.removeAttribute("style");Mf in e&&(e[Mf]=i?r.display:"",e[Ob]&&(r.display="none"))}const Pf=/\s*!important$/;function ks(e,t,n){if(Ee(n))n.forEach(r=>ks(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Ab(e,t);Pf.test(n)?e.setProperty(Jr(r),n.replace(Pf,""),"important"):e[r]=n}}const Rf=["Webkit","Moz","ms"],al={};function Ab(e,t){const n=al[t];if(n)return n;let r=nn(t);if(r!=="filter"&&r in e)return al[t]=r;r=ya(r);for(let o=0;o<Rf.length;o++){const i=Rf[o]+r;if(i in e)return al[t]=i}return t}const Af="http://www.w3.org/1999/xlink";function Df(e,t,n,r,o,i=Wv(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Af,t.slice(6,t.length)):e.setAttributeNS(Af,t,n):n==null||i&&!mp(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Zn(n)?String(n):n)}function Lf(e,t,n,r,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?xg(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=mp(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(o||t)}function Db(e,t,n,r){e.addEventListener(t,n,r)}function Lb(e,t,n,r){e.removeEventListener(t,n,r)}const $f=Symbol("_vei");function $b(e,t,n,r,o=null){const i=e[$f]||(e[$f]={}),s=i[t];if(r&&s)s.value=r;else{const[a,l]=Fb(t);if(r){const c=i[t]=Hb(r,o);Db(e,a,c,l)}else s&&(Lb(e,a,s,l),i[t]=void 0)}}const Ff=/(?:Once|Passive|Capture)$/;function Fb(e){let t;if(Ff.test(e)){t={};let r;for(;r=e.match(Ff);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Jr(e.slice(2)),t]}let ll=0;const Bb=Promise.resolve(),Ub=()=>ll||(Bb.then(()=>ll=0),ll=Date.now());function Hb(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;On(Vb(r,n.value),t,5,[r])};return n.value=e,n.attached=Ub(),n}function Vb(e,t){if(Ee(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const Bf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,zb=(e,t,n,r,o,i)=>{const s=o==="svg";t==="class"?Tb(e,r,s):t==="style"?Rb(e,n,r):ma(t)?Xc(t)||$b(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Wb(e,t,r,s))?(Lf(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Df(e,t,r,s,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ot(r))?Lf(e,nn(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Df(e,t,r,s))};function Wb(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Bf(t)&&we(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Bf(t)&&ot(n)?!1:t in e}const jb=Nt({patchProp:zb},kb);let Uf;function Gb(){return Uf||(Uf=Qy(jb))}const qb=(...e)=>{const t=Gb().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=Kb(r);if(!o)return;const i=t._component;!we(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const s=n(o,!1,Yb(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},t};function Yb(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Kb(e){return ot(e)?document.querySelector(e):e}const Xb=["disabled"],Zb={class:"btn__content"},Jb=xe({__name:"Button",props:{icon:Boolean,primary:Boolean,disabled:Boolean,fullWidth:Boolean},setup(e){return(t,n)=>(he(),Se("button",{class:zt(["btn",{"btn--icon":e.icon,"btn--primary":e.primary,"btn--disabled":e.disabled,"btn--full-width":e.fullWidth}]),disabled:e.disabled},[n[0]||(n[0]=ae("div",{class:"btn__shadow"},null,-1)),ae("div",Zb,[vt(t.$slots,"default",{},void 0,!0)])],10,Xb))}}),Kt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},Vn=Kt(Jb,[["__scopeId","data-v-26ea3b38"]]),Qb={},e0={class:"modal"},t0={class:"modal__content"};function n0(e,t){return he(),Se("div",e0,[vt(e.$slots,"header",{},void 0,!0),ae("div",t0,[vt(e.$slots,"content",{},void 0,!0)]),t[0]||(t[0]=ae("div",{class:"modal__background"},null,-1))])}const Ig=Kt(Qb,[["render",n0],["__scopeId","data-v-f252dc57"]]);var Xl=function(e,t){return Xl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Xl(e,t)};function Na(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Zl(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Ql(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Yn(e){return typeof e=="function"}function kg(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var cl=kg(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function ec(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ta=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Zl(s),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var u=this.initialTeardown;if(Yn(u))try{u()}catch(p){i=p instanceof cl?p.errors:[p]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=Zl(f),h=d.next();!h.done;h=d.next()){var m=h.value;try{Hf(m)}catch(p){i=i??[],p instanceof cl?i=Ql(Ql([],Jl(i)),Jl(p.errors)):i.push(p)}}}catch(p){r={error:p}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}if(i)throw new cl(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Hf(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&ec(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&ec(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Ng=Ta.EMPTY;function Tg(e){return e instanceof Ta||e&&"closed"in e&&Yn(e.remove)&&Yn(e.add)&&Yn(e.unsubscribe)}function Hf(e){Yn(e)?e():e.unsubscribe()}var r0={Promise:void 0},o0={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Ql([e,t],Jl(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function i0(e){o0.setTimeout(function(){throw e})}function Vf(){}function Ns(e){e()}var Og=function(e){Na(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Tg(n)&&n.add(r)):r.destination=l0,r}return t.create=function(n,r,o){return new tc(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ta),s0=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){cs(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){cs(r)}else cs(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){cs(n)}},e}(),tc=function(e){Na(t,e);function t(n,r,o){var i=e.call(this)||this,s;return Yn(n)||!n?s={next:n??void 0,error:r??void 0,complete:o??void 0}:s=n,i.destination=new s0(s),i}return t}(Og);function cs(e){i0(e)}function a0(e){throw e}var l0={closed:!0,next:Vf,error:a0,complete:Vf},c0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function u0(e){return e}function f0(e){return e.length===0?u0:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var zf=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=h0(t)?t:new tc(t,n,r);return Ns(function(){var s=o,a=s.operator,l=s.source;i.add(a?a.call(i,l):l?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Wf(n),new n(function(o,i){var s=new tc({next:function(a){try{t(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[c0]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return f0(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Wf(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function Wf(e){var t;return(t=e??r0.Promise)!==null&&t!==void 0?t:Promise}function d0(e){return e&&Yn(e.next)&&Yn(e.error)&&Yn(e.complete)}function h0(e){return e&&e instanceof Og||d0(e)&&Tg(e)}var p0=kg(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Mg=function(e){Na(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new jf(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new p0},t.prototype.next=function(n){var r=this;Ns(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Zl(r.currentObservers),a=s.next();!a.done;a=s.next()){var l=a.value;l.next(n)}}catch(c){o={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;Ns(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;Ns(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?Ng:(this.currentObservers=null,a.push(n),new Ta(function(){r.currentObservers=null,ec(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new zf;return n.source=this,n},t.create=function(n,r){return new jf(n,r)},t}(zf),jf=function(e){Na(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:Ng},t}(Mg);class Dt{constructor(){Ut(this,"subject",new Mg)}static getInstance(){return this.instance||(this.instance=new this)}dispatch(t){this.subject.next(t)}static open(t,n){this.getInstance().dispatch({modal:t,modalConfig:n})}static close(t){this.getInstance().dispatch({modal:null}),t&&t()}addEventListener(t){this.subject.subscribe(t)}removeEventListener(){this.subject.unsubscribe()}}Ut(Dt,"instance",null);const g0={class:"modal__header"},m0=xe({__name:"ModalHeader",props:{closeButton:Boolean,closeButtonAction:Function},setup(e){const t=e;function n(){t.closeButtonAction?t.closeButtonAction():Dt.close()}return(r,o)=>{const i=Yi("Button");return he(),Se("div",g0,[vt(r.$slots,"default",{},void 0,!0),e.closeButton?(he(),gt(i,{key:0,icon:"",class:"close",onClick:n},{default:Me(()=>o[0]||(o[0]=[ae("i",{class:"fas fa-times"},null,-1)])),_:1})):mt("",!0)])}}}),Pg=Kt(m0,[["__scopeId","data-v-943dec4f"]]);/*!
  * shared v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Ws=typeof window<"u",kr=(e,t=!1)=>t?Symbol.for(e):Symbol(e),_0=(e,t,n)=>v0({l:e,k:t,s:n}),v0=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),dt=e=>typeof e=="number"&&isFinite(e),y0=e=>hu(e)==="[object Date]",Io=e=>hu(e)==="[object RegExp]",Oa=e=>Oe(e)&&Object.keys(e).length===0,yt=Object.assign,b0=Object.create,qe=(e=null)=>b0(e);let Gf;const Br=()=>Gf||(Gf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:qe());function qf(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const S0=Object.prototype.hasOwnProperty;function un(e,t){return S0.call(e,t)}const ht=Array.isArray,et=e=>typeof e=="function",pe=e=>typeof e=="string",Fe=e=>typeof e=="boolean",He=e=>e!==null&&typeof e=="object",E0=e=>He(e)&&et(e.then)&&et(e.catch),Rg=Object.prototype.toString,hu=e=>Rg.call(e),Oe=e=>hu(e)==="[object Object]",w0=e=>e==null?"":ht(e)||Oe(e)&&e.toString===Rg?JSON.stringify(e,null,2):String(e);function pu(e,t=""){return e.reduce((n,r,o)=>o===0?n+r:n+t+r,"")}function C0(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const us=e=>!He(e)||ht(e);function Ts(e,t){if(us(e)||us(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:r,des:o}=n.pop();Object.keys(r).forEach(i=>{i!=="__proto__"&&(He(r[i])&&!He(o[i])&&(o[i]=Array.isArray(r[i])?[]:qe()),us(o[i])||us(r[i])?o[i]=r[i]:n.push({src:r[i],des:o[i]}))})}}/*!
  * message-compiler v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function x0(e,t,n){return{line:e,column:t,offset:n}}function nc(e,t,n){return{start:e,end:t}}const je={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},I0=17;function Ma(e,t,n={}){const{domain:r,messages:o,args:i}=n,s=e,a=new SyntaxError(String(s));return a.code=e,t&&(a.location=t),a.domain=r,a}function k0(e){throw e}const Dn=" ",N0="\r",Mt=`
`,T0="\u2028",O0="\u2029";function M0(e){const t=e;let n=0,r=1,o=1,i=0;const s=A=>t[A]===N0&&t[A+1]===Mt,a=A=>t[A]===Mt,l=A=>t[A]===O0,c=A=>t[A]===T0,u=A=>s(A)||a(A)||l(A)||c(A),f=()=>n,d=()=>r,h=()=>o,m=()=>i,p=A=>s(A)||l(A)||c(A)?Mt:t[A],w=()=>p(n),v=()=>p(n+i);function E(){return i=0,u(n)&&(r++,o=0),s(n)&&n++,n++,o++,t[n]}function _(){return s(n+i)&&i++,i++,t[n+i]}function y(){n=0,r=1,o=1,i=0}function M(A=0){i=A}function F(){const A=n+i;for(;A!==n;)E();i=0}return{index:f,line:d,column:h,peekOffset:m,charAt:p,currentChar:w,currentPeek:v,next:E,peek:_,reset:y,resetPeek:M,skipToPeek:F}}const tr=void 0,P0=".",Yf="'",R0="tokenizer";function A0(e,t={}){const n=t.location!==!1,r=M0(e),o=()=>r.index(),i=()=>x0(r.line(),r.column(),r.index()),s=i(),a=o(),l={currentType:13,offset:a,startLoc:s,endLoc:s,lastType:13,lastOffset:a,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=t;function f(b,x,O,...D){const Z=c();if(x.column+=O,x.offset+=O,u){const j=n?nc(Z.startLoc,x):null,R=Ma(b,j,{domain:R0,args:D});u(R)}}function d(b,x,O){b.endLoc=i(),b.currentType=x;const D={type:x};return n&&(D.loc=nc(b.startLoc,b.endLoc)),O!=null&&(D.value=O),D}const h=b=>d(b,13);function m(b,x){return b.currentChar()===x?(b.next(),x):(f(je.EXPECTED_TOKEN,i(),0,x),"")}function p(b){let x="";for(;b.currentPeek()===Dn||b.currentPeek()===Mt;)x+=b.currentPeek(),b.peek();return x}function w(b){const x=p(b);return b.skipToPeek(),x}function v(b){if(b===tr)return!1;const x=b.charCodeAt(0);return x>=97&&x<=122||x>=65&&x<=90||x===95}function E(b){if(b===tr)return!1;const x=b.charCodeAt(0);return x>=48&&x<=57}function _(b,x){const{currentType:O}=x;if(O!==2)return!1;p(b);const D=v(b.currentPeek());return b.resetPeek(),D}function y(b,x){const{currentType:O}=x;if(O!==2)return!1;p(b);const D=b.currentPeek()==="-"?b.peek():b.currentPeek(),Z=E(D);return b.resetPeek(),Z}function M(b,x){const{currentType:O}=x;if(O!==2)return!1;p(b);const D=b.currentPeek()===Yf;return b.resetPeek(),D}function F(b,x){const{currentType:O}=x;if(O!==7)return!1;p(b);const D=b.currentPeek()===".";return b.resetPeek(),D}function A(b,x){const{currentType:O}=x;if(O!==8)return!1;p(b);const D=v(b.currentPeek());return b.resetPeek(),D}function B(b,x){const{currentType:O}=x;if(!(O===7||O===11))return!1;p(b);const D=b.currentPeek()===":";return b.resetPeek(),D}function V(b,x){const{currentType:O}=x;if(O!==9)return!1;const D=()=>{const j=b.currentPeek();return j==="{"?v(b.peek()):j==="@"||j==="|"||j===":"||j==="."||j===Dn||!j?!1:j===Mt?(b.peek(),D()):Y(b,!1)},Z=D();return b.resetPeek(),Z}function J(b){p(b);const x=b.currentPeek()==="|";return b.resetPeek(),x}function Y(b,x=!0){const O=(Z=!1,j="")=>{const R=b.currentPeek();return R==="{"||R==="@"||!R?Z:R==="|"?!(j===Dn||j===Mt):R===Dn?(b.peek(),O(!0,Dn)):R===Mt?(b.peek(),O(!0,Mt)):!0},D=O();return x&&b.resetPeek(),D}function P(b,x){const O=b.currentChar();return O===tr?tr:x(O)?(b.next(),O):null}function oe(b){const x=b.charCodeAt(0);return x>=97&&x<=122||x>=65&&x<=90||x>=48&&x<=57||x===95||x===36}function L(b){return P(b,oe)}function G(b){const x=b.charCodeAt(0);return x>=97&&x<=122||x>=65&&x<=90||x>=48&&x<=57||x===95||x===36||x===45}function $(b){return P(b,G)}function W(b){const x=b.charCodeAt(0);return x>=48&&x<=57}function K(b){return P(b,W)}function ne(b){const x=b.charCodeAt(0);return x>=48&&x<=57||x>=65&&x<=70||x>=97&&x<=102}function re(b){return P(b,ne)}function se(b){let x="",O="";for(;x=K(b);)O+=x;return O}function ee(b){let x="";for(;;){const O=b.currentChar();if(O==="{"||O==="}"||O==="@"||O==="|"||!O)break;if(O===Dn||O===Mt)if(Y(b))x+=O,b.next();else{if(J(b))break;x+=O,b.next()}else x+=O,b.next()}return x}function ie(b){w(b);let x="",O="";for(;x=$(b);)O+=x;return b.currentChar()===tr&&f(je.UNTERMINATED_CLOSING_BRACE,i(),0),O}function le(b){w(b);let x="";return b.currentChar()==="-"?(b.next(),x+=`-${se(b)}`):x+=se(b),b.currentChar()===tr&&f(je.UNTERMINATED_CLOSING_BRACE,i(),0),x}function _e(b){return b!==Yf&&b!==Mt}function ye(b){w(b),m(b,"'");let x="",O="";for(;x=P(b,_e);)x==="\\"?O+=U(b):O+=x;const D=b.currentChar();return D===Mt||D===tr?(f(je.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),D===Mt&&(b.next(),m(b,"'")),O):(m(b,"'"),O)}function U(b){const x=b.currentChar();switch(x){case"\\":case"'":return b.next(),`\\${x}`;case"u":return Q(b,x,4);case"U":return Q(b,x,6);default:return f(je.UNKNOWN_ESCAPE_SEQUENCE,i(),0,x),""}}function Q(b,x,O){m(b,x);let D="";for(let Z=0;Z<O;Z++){const j=re(b);if(!j){f(je.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${x}${D}${b.currentChar()}`);break}D+=j}return`\\${x}${D}`}function X(b){return b!=="{"&&b!=="}"&&b!==Dn&&b!==Mt}function te(b){w(b);let x="",O="";for(;x=P(b,X);)O+=x;return O}function q(b){let x="",O="";for(;x=L(b);)O+=x;return O}function N(b){const x=O=>{const D=b.currentChar();return D==="{"||D==="@"||D==="|"||D==="("||D===")"||!D||D===Dn?O:(O+=D,b.next(),x(O))};return x("")}function T(b){w(b);const x=m(b,"|");return w(b),x}function S(b,x){let O=null;switch(b.currentChar()){case"{":return x.braceNest>=1&&f(je.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),b.next(),O=d(x,2,"{"),w(b),x.braceNest++,O;case"}":return x.braceNest>0&&x.currentType===2&&f(je.EMPTY_PLACEHOLDER,i(),0),b.next(),O=d(x,3,"}"),x.braceNest--,x.braceNest>0&&w(b),x.inLinked&&x.braceNest===0&&(x.inLinked=!1),O;case"@":return x.braceNest>0&&f(je.UNTERMINATED_CLOSING_BRACE,i(),0),O=C(b,x)||h(x),x.braceNest=0,O;default:{let Z=!0,j=!0,R=!0;if(J(b))return x.braceNest>0&&f(je.UNTERMINATED_CLOSING_BRACE,i(),0),O=d(x,1,T(b)),x.braceNest=0,x.inLinked=!1,O;if(x.braceNest>0&&(x.currentType===4||x.currentType===5||x.currentType===6))return f(je.UNTERMINATED_CLOSING_BRACE,i(),0),x.braceNest=0,I(b,x);if(Z=_(b,x))return O=d(x,4,ie(b)),w(b),O;if(j=y(b,x))return O=d(x,5,le(b)),w(b),O;if(R=M(b,x))return O=d(x,6,ye(b)),w(b),O;if(!Z&&!j&&!R)return O=d(x,12,te(b)),f(je.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,O.value),w(b),O;break}}return O}function C(b,x){const{currentType:O}=x;let D=null;const Z=b.currentChar();switch((O===7||O===8||O===11||O===9)&&(Z===Mt||Z===Dn)&&f(je.INVALID_LINKED_FORMAT,i(),0),Z){case"@":return b.next(),D=d(x,7,"@"),x.inLinked=!0,D;case".":return w(b),b.next(),d(x,8,".");case":":return w(b),b.next(),d(x,9,":");default:return J(b)?(D=d(x,1,T(b)),x.braceNest=0,x.inLinked=!1,D):F(b,x)||B(b,x)?(w(b),C(b,x)):A(b,x)?(w(b),d(x,11,q(b))):V(b,x)?(w(b),Z==="{"?S(b,x)||D:d(x,10,N(b))):(O===7&&f(je.INVALID_LINKED_FORMAT,i(),0),x.braceNest=0,x.inLinked=!1,I(b,x))}}function I(b,x){let O={type:13};if(x.braceNest>0)return S(b,x)||h(x);if(x.inLinked)return C(b,x)||h(x);switch(b.currentChar()){case"{":return S(b,x)||h(x);case"}":return f(je.UNBALANCED_CLOSING_BRACE,i(),0),b.next(),d(x,3,"}");case"@":return C(b,x)||h(x);default:{if(J(b))return O=d(x,1,T(b)),x.braceNest=0,x.inLinked=!1,O;if(Y(b))return d(x,0,ee(b));break}}return O}function k(){const{currentType:b,offset:x,startLoc:O,endLoc:D}=l;return l.lastType=b,l.lastOffset=x,l.lastStartLoc=O,l.lastEndLoc=D,l.offset=o(),l.startLoc=i(),r.currentChar()===tr?d(l,13):I(r,l)}return{nextToken:k,currentOffset:o,currentPosition:i,context:c}}const D0="parser",L0=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function $0(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function F0(e={}){const t=e.location!==!1,{onError:n}=e;function r(v,E,_,y,...M){const F=v.currentPosition();if(F.offset+=y,F.column+=y,n){const A=t?nc(_,F):null,B=Ma(E,A,{domain:D0,args:M});n(B)}}function o(v,E,_){const y={type:v};return t&&(y.start=E,y.end=E,y.loc={start:_,end:_}),y}function i(v,E,_,y){t&&(v.end=E,v.loc&&(v.loc.end=_))}function s(v,E){const _=v.context(),y=o(3,_.offset,_.startLoc);return y.value=E,i(y,v.currentOffset(),v.currentPosition()),y}function a(v,E){const _=v.context(),{lastOffset:y,lastStartLoc:M}=_,F=o(5,y,M);return F.index=parseInt(E,10),v.nextToken(),i(F,v.currentOffset(),v.currentPosition()),F}function l(v,E){const _=v.context(),{lastOffset:y,lastStartLoc:M}=_,F=o(4,y,M);return F.key=E,v.nextToken(),i(F,v.currentOffset(),v.currentPosition()),F}function c(v,E){const _=v.context(),{lastOffset:y,lastStartLoc:M}=_,F=o(9,y,M);return F.value=E.replace(L0,$0),v.nextToken(),i(F,v.currentOffset(),v.currentPosition()),F}function u(v){const E=v.nextToken(),_=v.context(),{lastOffset:y,lastStartLoc:M}=_,F=o(8,y,M);return E.type!==11?(r(v,je.UNEXPECTED_EMPTY_LINKED_MODIFIER,_.lastStartLoc,0),F.value="",i(F,y,M),{nextConsumeToken:E,node:F}):(E.value==null&&r(v,je.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,yn(E)),F.value=E.value||"",i(F,v.currentOffset(),v.currentPosition()),{node:F})}function f(v,E){const _=v.context(),y=o(7,_.offset,_.startLoc);return y.value=E,i(y,v.currentOffset(),v.currentPosition()),y}function d(v){const E=v.context(),_=o(6,E.offset,E.startLoc);let y=v.nextToken();if(y.type===8){const M=u(v);_.modifier=M.node,y=M.nextConsumeToken||v.nextToken()}switch(y.type!==9&&r(v,je.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,yn(y)),y=v.nextToken(),y.type===2&&(y=v.nextToken()),y.type){case 10:y.value==null&&r(v,je.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,yn(y)),_.key=f(v,y.value||"");break;case 4:y.value==null&&r(v,je.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,yn(y)),_.key=l(v,y.value||"");break;case 5:y.value==null&&r(v,je.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,yn(y)),_.key=a(v,y.value||"");break;case 6:y.value==null&&r(v,je.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,yn(y)),_.key=c(v,y.value||"");break;default:{r(v,je.UNEXPECTED_EMPTY_LINKED_KEY,E.lastStartLoc,0);const M=v.context(),F=o(7,M.offset,M.startLoc);return F.value="",i(F,M.offset,M.startLoc),_.key=F,i(_,M.offset,M.startLoc),{nextConsumeToken:y,node:_}}}return i(_,v.currentOffset(),v.currentPosition()),{node:_}}function h(v){const E=v.context(),_=E.currentType===1?v.currentOffset():E.offset,y=E.currentType===1?E.endLoc:E.startLoc,M=o(2,_,y);M.items=[];let F=null;do{const V=F||v.nextToken();switch(F=null,V.type){case 0:V.value==null&&r(v,je.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,yn(V)),M.items.push(s(v,V.value||""));break;case 5:V.value==null&&r(v,je.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,yn(V)),M.items.push(a(v,V.value||""));break;case 4:V.value==null&&r(v,je.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,yn(V)),M.items.push(l(v,V.value||""));break;case 6:V.value==null&&r(v,je.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,yn(V)),M.items.push(c(v,V.value||""));break;case 7:{const J=d(v);M.items.push(J.node),F=J.nextConsumeToken||null;break}}}while(E.currentType!==13&&E.currentType!==1);const A=E.currentType===1?E.lastOffset:v.currentOffset(),B=E.currentType===1?E.lastEndLoc:v.currentPosition();return i(M,A,B),M}function m(v,E,_,y){const M=v.context();let F=y.items.length===0;const A=o(1,E,_);A.cases=[],A.cases.push(y);do{const B=h(v);F||(F=B.items.length===0),A.cases.push(B)}while(M.currentType!==13);return F&&r(v,je.MUST_HAVE_MESSAGES_IN_PLURAL,_,0),i(A,v.currentOffset(),v.currentPosition()),A}function p(v){const E=v.context(),{offset:_,startLoc:y}=E,M=h(v);return E.currentType===13?M:m(v,_,y,M)}function w(v){const E=A0(v,yt({},e)),_=E.context(),y=o(0,_.offset,_.startLoc);return t&&y.loc&&(y.loc.source=v),y.body=p(E),e.onCacheKey&&(y.cacheKey=e.onCacheKey(v)),_.currentType!==13&&r(E,je.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,v[_.offset]||""),i(y,E.currentOffset(),E.currentPosition()),y}return{parse:w}}function yn(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function B0(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function Kf(e,t){for(let n=0;n<e.length;n++)gu(e[n],t)}function gu(e,t){switch(e.type){case 1:Kf(e.cases,t),t.helper("plural");break;case 2:Kf(e.items,t);break;case 6:{gu(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function U0(e,t={}){const n=B0(e);n.helper("normalize"),e.body&&gu(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function H0(e){const t=e.body;return t.type===2?Xf(t):t.cases.forEach(n=>Xf(n)),e}function Xf(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=pu(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}function so(e){switch(e.t=e.type,e.type){case 0:{const t=e;so(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let r=0;r<n.length;r++)so(n[r]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let r=0;r<n.length;r++)so(n[r]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;so(t.key),t.k=t.key,delete t.key,t.modifier&&(so(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function V0(e,t){const{filename:n,breakLineCode:r,needIndent:o}=t,i=t.location!==!1,s={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:o,indentLevel:0};i&&e.loc&&(s.source=e.loc.source);const a=()=>s;function l(p,w){s.code+=p}function c(p,w=!0){const v=w?r:"";l(o?v+"  ".repeat(p):v)}function u(p=!0){const w=++s.indentLevel;p&&c(w)}function f(p=!0){const w=--s.indentLevel;p&&c(w)}function d(){c(s.indentLevel)}return{context:a,push:l,indent:u,deindent:f,newline:d,helper:p=>`_${p}`,needIndent:()=>s.needIndent}}function z0(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),ko(e,t.key),t.modifier?(e.push(", "),ko(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function W0(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const o=t.items.length;for(let i=0;i<o&&(ko(e,t.items[i]),i!==o-1);i++)e.push(", ");e.deindent(r()),e.push("])")}function j0(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const o=t.cases.length;for(let i=0;i<o&&(ko(e,t.cases[i]),i!==o-1);i++)e.push(", ");e.deindent(r()),e.push("])")}}function G0(e,t){t.body?ko(e,t.body):e.push("null")}function ko(e,t){const{helper:n}=e;switch(t.type){case 0:G0(e,t);break;case 1:j0(e,t);break;case 2:W0(e,t);break;case 6:z0(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const q0=(e,t={})=>{const n=pe(t.mode)?t.mode:"normal",r=pe(t.filename)?t.filename:"message.intl";t.sourceMap;const o=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,i=t.needIndent?t.needIndent:n!=="arrow",s=e.helpers||[],a=V0(e,{filename:r,breakLineCode:o,needIndent:i});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(i),s.length>0&&(a.push(`const { ${pu(s.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),ko(a,e),a.deindent(i),a.push("}"),delete e.helpers;const{code:l,map:c}=a.context();return{ast:e,code:l,map:c?c.toJSON():void 0}};function Y0(e,t={}){const n=yt({},t),r=!!n.jit,o=!!n.minify,i=n.optimize==null?!0:n.optimize,a=F0(n).parse(e);return r?(i&&H0(a),o&&so(a),{ast:a,code:""}):(U0(a,n),q0(a,n))}/*!
  * core-base v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function K0(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Br().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Br().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function ul(e){return n=>X0(n,e)}function X0(e,t){const n=J0(t);if(n==null)throw Ii(0);if(mu(n)===1){const i=eS(n);return e.plural(i.reduce((s,a)=>[...s,Zf(e,a)],[]))}else return Zf(e,n)}const Z0=["b","body"];function J0(e){return Nr(e,Z0)}const Q0=["c","cases"];function eS(e){return Nr(e,Q0,[])}function Zf(e,t){const n=nS(t);if(n!=null)return e.type==="text"?n:e.normalize([n]);{const r=oS(t).reduce((o,i)=>[...o,rc(e,i)],[]);return e.normalize(r)}}const tS=["s","static"];function nS(e){return Nr(e,tS)}const rS=["i","items"];function oS(e){return Nr(e,rS,[])}function rc(e,t){const n=mu(t);switch(n){case 3:return fs(t,n);case 9:return fs(t,n);case 4:{const r=t;if(un(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(un(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw Ii(n)}case 5:{const r=t;if(un(r,"i")&&dt(r.i))return e.interpolate(e.list(r.i));if(un(r,"index")&&dt(r.index))return e.interpolate(e.list(r.index));throw Ii(n)}case 6:{const r=t,o=lS(r),i=uS(r);return e.linked(rc(e,i),o?rc(e,o):void 0,e.type)}case 7:return fs(t,n);case 8:return fs(t,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const iS=["t","type"];function mu(e){return Nr(e,iS)}const sS=["v","value"];function fs(e,t){const n=Nr(e,sS);if(n)return n;throw Ii(t)}const aS=["m","modifier"];function lS(e){return Nr(e,aS)}const cS=["k","key"];function uS(e){const t=Nr(e,cS);if(t)return t;throw Ii(6)}function Nr(e,t,n){for(let r=0;r<t.length;r++){const o=t[r];if(un(e,o)&&e[o]!=null)return e[o]}return n}function Ii(e){return new Error(`unhandled node type: ${e}`)}const fS=e=>e;let ds=qe();function No(e){return He(e)&&mu(e)===0&&(un(e,"b")||un(e,"body"))}function dS(e,t={}){let n=!1;const r=t.onError||k0;return t.onError=o=>{n=!0,r(o)},{...Y0(e,t),detectError:n}}function hS(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&pe(e)){Fe(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||fS)(e),o=ds[r];if(o)return o;const{ast:i,detectError:s}=dS(e,{...t,location:!1,jit:!0}),a=ul(i);return s?a:ds[r]=a}else{const n=e.cacheKey;if(n){const r=ds[n];return r||(ds[n]=ul(e))}else return ul(e)}}let ki=null;function pS(e){ki=e}function gS(e,t,n){ki&&ki.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const mS=_S("function:translate");function _S(e){return t=>ki&&ki.emit(e,t)}const zn={INVALID_ARGUMENT:I0,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},vS=24;function Wn(e){return Ma(e,null,void 0)}function _u(e,t){return t.locale!=null?Jf(t.locale):Jf(e.locale)}let fl;function Jf(e){if(pe(e))return e;if(et(e)){if(e.resolvedOnce&&fl!=null)return fl;if(e.constructor.name==="Function"){const t=e();if(E0(t))throw Wn(zn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return fl=t}else throw Wn(zn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Wn(zn.NOT_SUPPORT_LOCALE_TYPE)}function yS(e,t,n){return[...new Set([n,...ht(t)?t:He(t)?Object.keys(t):pe(t)?[t]:[n]])]}function Ag(e,t,n){const r=pe(n)?n:Ni,o=e;o.__localeChainCache||(o.__localeChainCache=new Map);let i=o.__localeChainCache.get(r);if(!i){i=[];let s=[n];for(;ht(s);)s=Qf(i,s,t);const a=ht(t)||!Oe(t)?t:t.default?t.default:null;s=pe(a)?[a]:a,ht(s)&&Qf(i,s,!1),o.__localeChainCache.set(r,i)}return i}function Qf(e,t,n){let r=!0;for(let o=0;o<t.length&&Fe(r);o++){const i=t[o];pe(i)&&(r=bS(e,t[o],n))}return r}function bS(e,t,n){let r;const o=t.split("-");do{const i=o.join("-");r=SS(e,i,n),o.splice(-1,1)}while(o.length&&r===!0);return r}function SS(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const o=t.replace(/!/g,"");e.push(o),(ht(n)||Oe(n))&&n[o]&&(r=n[o])}return r}const Tr=[];Tr[0]={w:[0],i:[3,0],"[":[4],o:[7]};Tr[1]={w:[1],".":[2],"[":[4],o:[7]};Tr[2]={w:[2],i:[3,0],0:[3,0]};Tr[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Tr[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Tr[5]={"'":[4,0],o:8,l:[5,0]};Tr[6]={'"':[4,0],o:8,l:[6,0]};const ES=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function wS(e){return ES.test(e)}function CS(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function xS(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function IS(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:wS(t)?CS(t):"*"+t}function kS(e){const t=[];let n=-1,r=0,o=0,i,s,a,l,c,u,f;const d=[];d[0]=()=>{s===void 0?s=a:s+=a},d[1]=()=>{s!==void 0&&(t.push(s),s=void 0)},d[2]=()=>{d[0](),o++},d[3]=()=>{if(o>0)o--,r=4,d[0]();else{if(o=0,s===void 0||(s=IS(s),s===!1))return!1;d[1]()}};function h(){const m=e[n+1];if(r===5&&m==="'"||r===6&&m==='"')return n++,a="\\"+m,d[0](),!0}for(;r!==null;)if(n++,i=e[n],!(i==="\\"&&h())){if(l=xS(i),f=Tr[r],c=f[l]||f.l||8,c===8||(r=c[0],c[1]!==void 0&&(u=d[c[1]],u&&(a=i,u()===!1))))return;if(r===7)return t}}const ed=new Map;function NS(e,t){return He(e)?e[t]:null}function TS(e,t){if(!He(e))return null;let n=ed.get(t);if(n||(n=kS(t),n&&ed.set(t,n)),!n)return null;const r=n.length;let o=e,i=0;for(;i<r;){const s=o[n[i]];if(s===void 0||et(o))return null;o=s,i++}return o}const OS="11.1.2",Pa=-1,Ni="en-US",td="",nd=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function MS(){return{upper:(e,t)=>t==="text"&&pe(e)?e.toUpperCase():t==="vnode"&&He(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&pe(e)?e.toLowerCase():t==="vnode"&&He(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&pe(e)?nd(e):t==="vnode"&&He(e)&&"__v_isVNode"in e?nd(e.children):e}}let Dg;function PS(e){Dg=e}let Lg;function RS(e){Lg=e}let $g;function AS(e){$g=e}let Fg=null;const DS=e=>{Fg=e},LS=()=>Fg;let Bg=null;const rd=e=>{Bg=e},$S=()=>Bg;let od=0;function FS(e={}){const t=et(e.onWarn)?e.onWarn:C0,n=pe(e.version)?e.version:OS,r=pe(e.locale)||et(e.locale)?e.locale:Ni,o=et(r)?Ni:r,i=ht(e.fallbackLocale)||Oe(e.fallbackLocale)||pe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:o,s=Oe(e.messages)?e.messages:dl(o),a=Oe(e.datetimeFormats)?e.datetimeFormats:dl(o),l=Oe(e.numberFormats)?e.numberFormats:dl(o),c=yt(qe(),e.modifiers,MS()),u=e.pluralRules||qe(),f=et(e.missing)?e.missing:null,d=Fe(e.missingWarn)||Io(e.missingWarn)?e.missingWarn:!0,h=Fe(e.fallbackWarn)||Io(e.fallbackWarn)?e.fallbackWarn:!0,m=!!e.fallbackFormat,p=!!e.unresolving,w=et(e.postTranslation)?e.postTranslation:null,v=Oe(e.processor)?e.processor:null,E=Fe(e.warnHtmlMessage)?e.warnHtmlMessage:!0,_=!!e.escapeParameter,y=et(e.messageCompiler)?e.messageCompiler:Dg,M=et(e.messageResolver)?e.messageResolver:Lg||NS,F=et(e.localeFallbacker)?e.localeFallbacker:$g||yS,A=He(e.fallbackContext)?e.fallbackContext:void 0,B=e,V=He(B.__datetimeFormatters)?B.__datetimeFormatters:new Map,J=He(B.__numberFormatters)?B.__numberFormatters:new Map,Y=He(B.__meta)?B.__meta:{};od++;const P={version:n,cid:od,locale:r,fallbackLocale:i,messages:s,modifiers:c,pluralRules:u,missing:f,missingWarn:d,fallbackWarn:h,fallbackFormat:m,unresolving:p,postTranslation:w,processor:v,warnHtmlMessage:E,escapeParameter:_,messageCompiler:y,messageResolver:M,localeFallbacker:F,fallbackContext:A,onWarn:t,__meta:Y};return P.datetimeFormats=a,P.numberFormats=l,P.__datetimeFormatters=V,P.__numberFormatters=J,__INTLIFY_PROD_DEVTOOLS__&&gS(P,n,Y),P}const dl=e=>({[e]:qe()});function vu(e,t,n,r,o){const{missing:i,onWarn:s}=e;if(i!==null){const a=i(e,n,t,o);return pe(a)?a:t}else return t}function Yo(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function BS(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function US(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let r=n+1;r<t.length;r++)if(BS(e,t[r]))return!0;return!1}function id(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:o,onWarn:i,localeFallbacker:s}=e,{__datetimeFormatters:a}=e,[l,c,u,f]=oc(...t),d=Fe(u.missingWarn)?u.missingWarn:e.missingWarn;Fe(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const h=!!u.part,m=_u(e,u),p=s(e,o,m);if(!pe(l)||l==="")return new Intl.DateTimeFormat(m,f).format(c);let w={},v,E=null;const _="datetime format";for(let F=0;F<p.length&&(v=p[F],w=n[v]||{},E=w[l],!Oe(E));F++)vu(e,l,v,d,_);if(!Oe(E)||!pe(v))return r?Pa:l;let y=`${v}__${l}`;Oa(f)||(y=`${y}__${JSON.stringify(f)}`);let M=a.get(y);return M||(M=new Intl.DateTimeFormat(v,yt({},E,f)),a.set(y,M)),h?M.formatToParts(c):M.format(c)}const Ug=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function oc(...e){const[t,n,r,o]=e,i=qe();let s=qe(),a;if(pe(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Wn(zn.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw Wn(zn.INVALID_ISO_DATE_ARGUMENT)}}else if(y0(t)){if(isNaN(t.getTime()))throw Wn(zn.INVALID_DATE_ARGUMENT);a=t}else if(dt(t))a=t;else throw Wn(zn.INVALID_ARGUMENT);return pe(n)?i.key=n:Oe(n)&&Object.keys(n).forEach(l=>{Ug.includes(l)?s[l]=n[l]:i[l]=n[l]}),pe(r)?i.locale=r:Oe(r)&&(s=r),Oe(o)&&(s=o),[i.key||"",a,i,s]}function sd(e,t,n){const r=e;for(const o in n){const i=`${t}__${o}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function ad(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:o,onWarn:i,localeFallbacker:s}=e,{__numberFormatters:a}=e,[l,c,u,f]=ic(...t),d=Fe(u.missingWarn)?u.missingWarn:e.missingWarn;Fe(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const h=!!u.part,m=_u(e,u),p=s(e,o,m);if(!pe(l)||l==="")return new Intl.NumberFormat(m,f).format(c);let w={},v,E=null;const _="number format";for(let F=0;F<p.length&&(v=p[F],w=n[v]||{},E=w[l],!Oe(E));F++)vu(e,l,v,d,_);if(!Oe(E)||!pe(v))return r?Pa:l;let y=`${v}__${l}`;Oa(f)||(y=`${y}__${JSON.stringify(f)}`);let M=a.get(y);return M||(M=new Intl.NumberFormat(v,yt({},E,f)),a.set(y,M)),h?M.formatToParts(c):M.format(c)}const Hg=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function ic(...e){const[t,n,r,o]=e,i=qe();let s=qe();if(!dt(t))throw Wn(zn.INVALID_ARGUMENT);const a=t;return pe(n)?i.key=n:Oe(n)&&Object.keys(n).forEach(l=>{Hg.includes(l)?s[l]=n[l]:i[l]=n[l]}),pe(r)?i.locale=r:Oe(r)&&(s=r),Oe(o)&&(s=o),[i.key||"",a,i,s]}function ld(e,t,n){const r=e;for(const o in n){const i=`${t}__${o}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}const HS=e=>e,VS=e=>"",zS="text",WS=e=>e.length===0?"":pu(e),jS=w0;function cd(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function GS(e){const t=dt(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(dt(e.named.count)||dt(e.named.n))?dt(e.named.count)?e.named.count:dt(e.named.n)?e.named.n:t:t}function qS(e,t){t.count||(t.count=e),t.n||(t.n=e)}function YS(e={}){const t=e.locale,n=GS(e),r=He(e.pluralRules)&&pe(t)&&et(e.pluralRules[t])?e.pluralRules[t]:cd,o=He(e.pluralRules)&&pe(t)&&et(e.pluralRules[t])?cd:void 0,i=v=>v[r(n,v.length,o)],s=e.list||[],a=v=>s[v],l=e.named||qe();dt(e.pluralIndex)&&qS(n,l);const c=v=>l[v];function u(v,E){const _=et(e.messages)?e.messages(v,!!E):He(e.messages)?e.messages[v]:!1;return _||(e.parent?e.parent.message(v):VS)}const f=v=>e.modifiers?e.modifiers[v]:HS,d=Oe(e.processor)&&et(e.processor.normalize)?e.processor.normalize:WS,h=Oe(e.processor)&&et(e.processor.interpolate)?e.processor.interpolate:jS,m=Oe(e.processor)&&pe(e.processor.type)?e.processor.type:zS,w={list:a,named:c,plural:i,linked:(v,...E)=>{const[_,y]=E;let M="text",F="";E.length===1?He(_)?(F=_.modifier||F,M=_.type||M):pe(_)&&(F=_||F):E.length===2&&(pe(_)&&(F=_||F),pe(y)&&(M=y||M));const A=u(v,!0)(w),B=M==="vnode"&&ht(A)&&F?A[0]:A;return F?f(F)(B,M):B},message:u,type:m,interpolate:h,normalize:d,values:yt(qe(),s,l)};return w}const ud=()=>"",Jt=e=>et(e);function fd(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:o,messageCompiler:i,fallbackLocale:s,messages:a}=e,[l,c]=sc(...t),u=Fe(c.missingWarn)?c.missingWarn:e.missingWarn,f=Fe(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,d=Fe(c.escapeParameter)?c.escapeParameter:e.escapeParameter,h=!!c.resolvedMessage,m=pe(c.default)||Fe(c.default)?Fe(c.default)?i?l:()=>l:c.default:n?i?l:()=>l:null,p=n||m!=null&&(pe(m)||et(m)),w=_u(e,c);d&&KS(c);let[v,E,_]=h?[l,w,a[w]||qe()]:Vg(e,l,w,s,f,u),y=v,M=l;if(!h&&!(pe(y)||No(y)||Jt(y))&&p&&(y=m,M=y),!h&&(!(pe(y)||No(y)||Jt(y))||!pe(E)))return o?Pa:l;let F=!1;const A=()=>{F=!0},B=Jt(y)?y:zg(e,l,E,y,M,A);if(F)return y;const V=JS(e,E,_,c),J=YS(V),Y=XS(e,B,J),P=r?r(Y,l):Y;if(__INTLIFY_PROD_DEVTOOLS__){const oe={timestamp:Date.now(),key:pe(l)?l:Jt(y)?y.key:"",locale:E||(Jt(y)?y.locale:""),format:pe(y)?y:Jt(y)?y.source:"",message:P};oe.meta=yt({},e.__meta,LS()||{}),mS(oe)}return P}function KS(e){ht(e.list)?e.list=e.list.map(t=>pe(t)?qf(t):t):He(e.named)&&Object.keys(e.named).forEach(t=>{pe(e.named[t])&&(e.named[t]=qf(e.named[t]))})}function Vg(e,t,n,r,o,i){const{messages:s,onWarn:a,messageResolver:l,localeFallbacker:c}=e,u=c(e,r,n);let f=qe(),d,h=null;const m="translate";for(let p=0;p<u.length&&(d=u[p],f=s[d]||qe(),(h=l(f,t))===null&&(h=f[t]),!(pe(h)||No(h)||Jt(h)));p++)if(!US(d,u)){const w=vu(e,t,d,i,m);w!==t&&(h=w)}return[h,d,f]}function zg(e,t,n,r,o,i){const{messageCompiler:s,warnHtmlMessage:a}=e;if(Jt(r)){const c=r;return c.locale=c.locale||n,c.key=c.key||t,c}if(s==null){const c=()=>r;return c.locale=n,c.key=t,c}const l=s(r,ZS(e,n,o,r,a,i));return l.locale=n,l.key=t,l.source=r,l}function XS(e,t,n){return t(n)}function sc(...e){const[t,n,r]=e,o=qe();if(!pe(t)&&!dt(t)&&!Jt(t)&&!No(t))throw Wn(zn.INVALID_ARGUMENT);const i=dt(t)?String(t):(Jt(t),t);return dt(n)?o.plural=n:pe(n)?o.default=n:Oe(n)&&!Oa(n)?o.named=n:ht(n)&&(o.list=n),dt(r)?o.plural=r:pe(r)?o.default=r:Oe(r)&&yt(o,r),[i,o]}function ZS(e,t,n,r,o,i){return{locale:t,key:n,warnHtmlMessage:o,onError:s=>{throw i&&i(s),s},onCacheKey:s=>_0(t,n,s)}}function JS(e,t,n,r){const{modifiers:o,pluralRules:i,messageResolver:s,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=e,d={locale:t,modifiers:o,pluralRules:i,messages:(h,m)=>{let p=s(n,h);if(p==null&&(u||m)){const[,,w]=Vg(u||e,h,t,a,l,c);p=s(w,h)}if(pe(p)||No(p)){let w=!1;const E=zg(e,h,t,p,h,()=>{w=!0});return w?ud:E}else return Jt(p)?p:ud}};return e.processor&&(d.processor=e.processor),r.list&&(d.list=r.list),r.named&&(d.named=r.named),dt(r.plural)&&(d.pluralIndex=r.plural),d}K0();/*!
  * vue-i18n v11.1.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const QS="11.1.2";function eE(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Br().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Br().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Br().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Br().__INTLIFY_PROD_DEVTOOLS__=!1)}const Wt={UNEXPECTED_RETURN_TYPE:vS,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function qt(e,...t){return Ma(e,null,void 0)}const ac=kr("__translateVNode"),lc=kr("__datetimeParts"),cc=kr("__numberParts"),Wg=kr("__setPluralRules"),jg=kr("__injectWithOption"),uc=kr("__dispose");function Ti(e){if(!He(e))return e;for(const t in e)if(un(e,t))if(!t.includes("."))He(e[t])&&Ti(e[t]);else{const n=t.split("."),r=n.length-1;let o=e,i=!1;for(let s=0;s<r;s++){if(n[s]==="__proto__")throw new Error(`unsafe key: ${n[s]}`);if(n[s]in o||(o[n[s]]=qe()),!He(o[n[s]])){i=!0;break}o=o[n[s]]}i||(o[n[r]]=e[t],delete e[t]),He(o[n[r]])&&Ti(o[n[r]])}return e}function yu(e,t){const{messages:n,__i18n:r,messageResolver:o,flatJson:i}=t,s=Oe(n)?n:ht(r)?qe():{[e]:qe()};if(ht(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(s[l]=s[l]||qe(),Ts(c,s[l])):Ts(c,s)}else pe(a)&&Ts(JSON.parse(a),s)}),o==null&&i)for(const a in s)un(s,a)&&Ti(s[a]);return s}function Gg(e){return e.type}function qg(e,t,n){let r=He(t.messages)?t.messages:qe();"__i18nGlobal"in n&&(r=yu(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const o=Object.keys(r);o.length&&o.forEach(i=>{e.mergeLocaleMessage(i,r[i])});{if(He(t.datetimeFormats)){const i=Object.keys(t.datetimeFormats);i.length&&i.forEach(s=>{e.mergeDateTimeFormat(s,t.datetimeFormats[s])})}if(He(t.numberFormats)){const i=Object.keys(t.numberFormats);i.length&&i.forEach(s=>{e.mergeNumberFormat(s,t.numberFormats[s])})}}}function dd(e){return be(Ki,null,e,0)}const hd="__INTLIFY_META__",pd=()=>[],tE=()=>!1;let gd=0;function md(e){return(t,n,r,o)=>e(n,r,hn()||void 0,o)}const nE=()=>{const e=hn();let t=null;return e&&(t=Gg(e)[hd])?{[hd]:t}:null};function bu(e={}){const{__root:t,__injectWithOption:n}=e,r=t===void 0,o=e.flatJson,i=Ws?Ie:$s;let s=Fe(e.inheritLocale)?e.inheritLocale:!0;const a=i(t&&s?t.locale.value:pe(e.locale)?e.locale:Ni),l=i(t&&s?t.fallbackLocale.value:pe(e.fallbackLocale)||ht(e.fallbackLocale)||Oe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a.value),c=i(yu(a.value,e)),u=i(Oe(e.datetimeFormats)?e.datetimeFormats:{[a.value]:{}}),f=i(Oe(e.numberFormats)?e.numberFormats:{[a.value]:{}});let d=t?t.missingWarn:Fe(e.missingWarn)||Io(e.missingWarn)?e.missingWarn:!0,h=t?t.fallbackWarn:Fe(e.fallbackWarn)||Io(e.fallbackWarn)?e.fallbackWarn:!0,m=t?t.fallbackRoot:Fe(e.fallbackRoot)?e.fallbackRoot:!0,p=!!e.fallbackFormat,w=et(e.missing)?e.missing:null,v=et(e.missing)?md(e.missing):null,E=et(e.postTranslation)?e.postTranslation:null,_=t?t.warnHtmlMessage:Fe(e.warnHtmlMessage)?e.warnHtmlMessage:!0,y=!!e.escapeParameter;const M=t?t.modifiers:Oe(e.modifiers)?e.modifiers:{};let F=e.pluralRules||t&&t.pluralRules,A;A=(()=>{r&&rd(null);const R={version:QS,locale:a.value,fallbackLocale:l.value,messages:c.value,modifiers:M,pluralRules:F,missing:v===null?void 0:v,missingWarn:d,fallbackWarn:h,fallbackFormat:p,unresolving:!0,postTranslation:E===null?void 0:E,warnHtmlMessage:_,escapeParameter:y,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};R.datetimeFormats=u.value,R.numberFormats=f.value,R.__datetimeFormatters=Oe(A)?A.__datetimeFormatters:void 0,R.__numberFormatters=Oe(A)?A.__numberFormatters:void 0;const H=FS(R);return r&&rd(H),H})(),Yo(A,a.value,l.value);function V(){return[a.value,l.value,c.value,u.value,f.value]}const J=me({get:()=>a.value,set:R=>{A.locale=R,a.value=R}}),Y=me({get:()=>l.value,set:R=>{A.fallbackLocale=R,l.value=R,Yo(A,a.value,R)}}),P=me(()=>c.value),oe=me(()=>u.value),L=me(()=>f.value);function G(){return et(E)?E:null}function $(R){E=R,A.postTranslation=R}function W(){return w}function K(R){R!==null&&(v=md(R)),w=R,A.missing=v}const ne=(R,H,ce,ve,ke,at)=>{V();let st;try{__INTLIFY_PROD_DEVTOOLS__,r||(A.fallbackContext=t?$S():void 0),st=R(A)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(A.fallbackContext=void 0)}if(ce!=="translate exists"&&dt(st)&&st===Pa||ce==="translate exists"&&!st){const[Zt,on]=H();return t&&m?ve(t):ke(Zt)}else{if(at(st))return st;throw qt(Wt.UNEXPECTED_RETURN_TYPE)}};function re(...R){return ne(H=>Reflect.apply(fd,null,[H,...R]),()=>sc(...R),"translate",H=>Reflect.apply(H.t,H,[...R]),H=>H,H=>pe(H))}function se(...R){const[H,ce,ve]=R;if(ve&&!He(ve))throw qt(Wt.INVALID_ARGUMENT);return re(H,ce,yt({resolvedMessage:!0},ve||{}))}function ee(...R){return ne(H=>Reflect.apply(id,null,[H,...R]),()=>oc(...R),"datetime format",H=>Reflect.apply(H.d,H,[...R]),()=>td,H=>pe(H))}function ie(...R){return ne(H=>Reflect.apply(ad,null,[H,...R]),()=>ic(...R),"number format",H=>Reflect.apply(H.n,H,[...R]),()=>td,H=>pe(H))}function le(R){return R.map(H=>pe(H)||dt(H)||Fe(H)?dd(String(H)):H)}const ye={normalize:le,interpolate:R=>R,type:"vnode"};function U(...R){return ne(H=>{let ce;const ve=H;try{ve.processor=ye,ce=Reflect.apply(fd,null,[ve,...R])}finally{ve.processor=null}return ce},()=>sc(...R),"translate",H=>H[ac](...R),H=>[dd(H)],H=>ht(H))}function Q(...R){return ne(H=>Reflect.apply(ad,null,[H,...R]),()=>ic(...R),"number format",H=>H[cc](...R),pd,H=>pe(H)||ht(H))}function X(...R){return ne(H=>Reflect.apply(id,null,[H,...R]),()=>oc(...R),"datetime format",H=>H[lc](...R),pd,H=>pe(H)||ht(H))}function te(R){F=R,A.pluralRules=F}function q(R,H){return ne(()=>{if(!R)return!1;const ce=pe(H)?H:a.value,ve=S(ce),ke=A.messageResolver(ve,R);return No(ke)||Jt(ke)||pe(ke)},()=>[R],"translate exists",ce=>Reflect.apply(ce.te,ce,[R,H]),tE,ce=>Fe(ce))}function N(R){let H=null;const ce=Ag(A,l.value,a.value);for(let ve=0;ve<ce.length;ve++){const ke=c.value[ce[ve]]||{},at=A.messageResolver(ke,R);if(at!=null){H=at;break}}return H}function T(R){const H=N(R);return H??(t?t.tm(R)||{}:{})}function S(R){return c.value[R]||{}}function C(R,H){if(o){const ce={[R]:H};for(const ve in ce)un(ce,ve)&&Ti(ce[ve]);H=ce[R]}c.value[R]=H,A.messages=c.value}function I(R,H){c.value[R]=c.value[R]||{};const ce={[R]:H};if(o)for(const ve in ce)un(ce,ve)&&Ti(ce[ve]);H=ce[R],Ts(H,c.value[R]),A.messages=c.value}function k(R){return u.value[R]||{}}function b(R,H){u.value[R]=H,A.datetimeFormats=u.value,sd(A,R,H)}function x(R,H){u.value[R]=yt(u.value[R]||{},H),A.datetimeFormats=u.value,sd(A,R,H)}function O(R){return f.value[R]||{}}function D(R,H){f.value[R]=H,A.numberFormats=f.value,ld(A,R,H)}function Z(R,H){f.value[R]=yt(f.value[R]||{},H),A.numberFormats=f.value,ld(A,R,H)}gd++,t&&Ws&&(Ne(t.locale,R=>{s&&(a.value=R,A.locale=R,Yo(A,a.value,l.value))}),Ne(t.fallbackLocale,R=>{s&&(l.value=R,A.fallbackLocale=R,Yo(A,a.value,l.value))}));const j={id:gd,locale:J,fallbackLocale:Y,get inheritLocale(){return s},set inheritLocale(R){s=R,R&&t&&(a.value=t.locale.value,l.value=t.fallbackLocale.value,Yo(A,a.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:P,get modifiers(){return M},get pluralRules(){return F||{}},get isGlobal(){return r},get missingWarn(){return d},set missingWarn(R){d=R,A.missingWarn=d},get fallbackWarn(){return h},set fallbackWarn(R){h=R,A.fallbackWarn=h},get fallbackRoot(){return m},set fallbackRoot(R){m=R},get fallbackFormat(){return p},set fallbackFormat(R){p=R,A.fallbackFormat=p},get warnHtmlMessage(){return _},set warnHtmlMessage(R){_=R,A.warnHtmlMessage=R},get escapeParameter(){return y},set escapeParameter(R){y=R,A.escapeParameter=R},t:re,getLocaleMessage:S,setLocaleMessage:C,mergeLocaleMessage:I,getPostTranslationHandler:G,setPostTranslationHandler:$,getMissingHandler:W,setMissingHandler:K,[Wg]:te};return j.datetimeFormats=oe,j.numberFormats=L,j.rt=se,j.te=q,j.tm=T,j.d=ee,j.n=ie,j.getDateTimeFormat=k,j.setDateTimeFormat=b,j.mergeDateTimeFormat=x,j.getNumberFormat=O,j.setNumberFormat=D,j.mergeNumberFormat=Z,j[jg]=n,j[ac]=U,j[lc]=X,j[cc]=Q,j}function rE(e){const t=pe(e.locale)?e.locale:Ni,n=pe(e.fallbackLocale)||ht(e.fallbackLocale)||Oe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=et(e.missing)?e.missing:void 0,o=Fe(e.silentTranslationWarn)||Io(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,i=Fe(e.silentFallbackWarn)||Io(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,s=Fe(e.fallbackRoot)?e.fallbackRoot:!0,a=!!e.formatFallbackMessages,l=Oe(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,u=et(e.postTranslation)?e.postTranslation:void 0,f=pe(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,d=!!e.escapeParameterHtml,h=Fe(e.sync)?e.sync:!0;let m=e.messages;if(Oe(e.sharedMessages)){const M=e.sharedMessages;m=Object.keys(M).reduce((A,B)=>{const V=A[B]||(A[B]={});return yt(V,M[B]),A},m||{})}const{__i18n:p,__root:w,__injectWithOption:v}=e,E=e.datetimeFormats,_=e.numberFormats,y=e.flatJson;return{locale:t,fallbackLocale:n,messages:m,flatJson:y,datetimeFormats:E,numberFormats:_,missing:r,missingWarn:o,fallbackWarn:i,fallbackRoot:s,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:f,escapeParameter:d,messageResolver:e.messageResolver,inheritLocale:h,__i18n:p,__root:w,__injectWithOption:v}}function fc(e={}){const t=bu(rE(e)),{__extender:n}=e,r={id:t.id,get locale(){return t.locale.value},set locale(o){t.locale.value=o},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(o){t.fallbackLocale.value=o},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(o){t.setMissingHandler(o)},get silentTranslationWarn(){return Fe(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(o){t.missingWarn=Fe(o)?!o:o},get silentFallbackWarn(){return Fe(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(o){t.fallbackWarn=Fe(o)?!o:o},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(o){t.fallbackFormat=o},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(o){t.setPostTranslationHandler(o)},get sync(){return t.inheritLocale},set sync(o){t.inheritLocale=o},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(o){t.warnHtmlMessage=o!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(o){t.escapeParameter=o},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...o){return Reflect.apply(t.t,t,[...o])},rt(...o){return Reflect.apply(t.rt,t,[...o])},te(o,i){return t.te(o,i)},tm(o){return t.tm(o)},getLocaleMessage(o){return t.getLocaleMessage(o)},setLocaleMessage(o,i){t.setLocaleMessage(o,i)},mergeLocaleMessage(o,i){t.mergeLocaleMessage(o,i)},d(...o){return Reflect.apply(t.d,t,[...o])},getDateTimeFormat(o){return t.getDateTimeFormat(o)},setDateTimeFormat(o,i){t.setDateTimeFormat(o,i)},mergeDateTimeFormat(o,i){t.mergeDateTimeFormat(o,i)},n(...o){return Reflect.apply(t.n,t,[...o])},getNumberFormat(o){return t.getNumberFormat(o)},setNumberFormat(o,i){t.setNumberFormat(o,i)},mergeNumberFormat(o,i){t.mergeNumberFormat(o,i)}};return r.__extender=n,r}function oE(e,t,n){return{beforeCreate(){const r=hn();if(!r)throw qt(Wt.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const i=o.i18n;if(o.__i18n&&(i.__i18n=o.__i18n),i.__root=t,this===this.$root)this.$i18n=_d(e,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=fc(i);const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}}else if(o.__i18n)if(this===this.$root)this.$i18n=_d(e,o);else{this.$i18n=fc({__i18n:o.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=e;o.__i18nGlobal&&qg(t,o,o),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$te=(i,s)=>this.$i18n.te(i,s),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=hn();if(!r)throw qt(Wt.UNEXPECTED_ERROR);const o=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,o.__disposer&&(o.__disposer(),delete o.__disposer,delete o.__extender),n.__deleteInstance(r),delete this.$i18n}}}function _d(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[Wg](t.pluralizationRules||e.pluralizationRules);const n=yu(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const Su={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function iE({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,o)=>[...r,...o.type===Ge?o.children:[o]],[]):t.reduce((n,r)=>{const o=e[r];return o&&(n[r]=o()),n},qe())}function Yg(){return Ge}const sE=xe({name:"i18n-t",props:yt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>dt(e)||!isNaN(e)}},Su),setup(e,t){const{slots:n,attrs:r}=t,o=e.i18n||To({useScope:e.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(f=>f!=="_"),s=qe();e.locale&&(s.locale=e.locale),e.plural!==void 0&&(s.plural=pe(e.plural)?+e.plural:e.plural);const a=iE(t,i),l=o[ac](e.keypath,a,s),c=yt(qe(),r),u=pe(e.tag)||He(e.tag)?e.tag:Yg();return De(u,c,l)}}}),vd=sE;function aE(e){return ht(e)&&!pe(e[0])}function Kg(e,t,n,r){const{slots:o,attrs:i}=t;return()=>{const s={part:!0};let a=qe();e.locale&&(s.locale=e.locale),pe(e.format)?s.key=e.format:He(e.format)&&(pe(e.format.key)&&(s.key=e.format.key),a=Object.keys(e.format).reduce((d,h)=>n.includes(h)?yt(qe(),d,{[h]:e.format[h]}):d,qe()));const l=r(e.value,s,a);let c=[s.key];ht(l)?c=l.map((d,h)=>{const m=o[d.type],p=m?m({[d.type]:d.value,index:h,parts:l}):[d.value];return aE(p)&&(p[0].key=`${d.type}-${h}`),p}):pe(l)&&(c=[l]);const u=yt(qe(),i),f=pe(e.tag)||He(e.tag)?e.tag:Yg();return De(f,u,c)}}const lE=xe({name:"i18n-n",props:yt({value:{type:Number,required:!0},format:{type:[String,Object]}},Su),setup(e,t){const n=e.i18n||To({useScope:e.scope,__useComponent:!0});return Kg(e,t,Hg,(...r)=>n[cc](...r))}}),yd=lE;function cE(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function uE(e){const t=s=>{const{instance:a,value:l}=s;if(!a||!a.$)throw qt(Wt.UNEXPECTED_ERROR);const c=cE(e,a.$),u=bd(l);return[Reflect.apply(c.t,c,[...Sd(u)]),c]};return{created:(s,a)=>{const[l,c]=t(a);Ws&&e.global===c&&(s.__i18nWatcher=Ne(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),s.__composer=c,s.textContent=l},unmounted:s=>{Ws&&s.__i18nWatcher&&(s.__i18nWatcher(),s.__i18nWatcher=void 0,delete s.__i18nWatcher),s.__composer&&(s.__composer=void 0,delete s.__composer)},beforeUpdate:(s,{value:a})=>{if(s.__composer){const l=s.__composer,c=bd(a);s.textContent=Reflect.apply(l.t,l,[...Sd(c)])}},getSSRProps:s=>{const[a]=t(s);return{textContent:a}}}}function bd(e){if(pe(e))return{path:e};if(Oe(e)){if(!("path"in e))throw qt(Wt.REQUIRED_VALUE,"path");return e}else throw qt(Wt.INVALID_VALUE)}function Sd(e){const{path:t,locale:n,args:r,choice:o,plural:i}=e,s={},a=r||{};return pe(n)&&(s.locale=n),dt(o)&&(s.plural=o),dt(i)&&(s.plural=i),[t,a,s]}function fE(e,t,...n){const r=Oe(n[0])?n[0]:{};(Fe(r.globalInstall)?r.globalInstall:!0)&&([vd.name,"I18nT"].forEach(i=>e.component(i,vd)),[yd.name,"I18nN"].forEach(i=>e.component(i,yd)),[wd.name,"I18nD"].forEach(i=>e.component(i,wd))),e.directive("t",uE(t))}const dE=kr("global-vue-i18n");function hE(e={}){const t=__VUE_I18N_LEGACY_API__&&Fe(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=Fe(e.globalInjection)?e.globalInjection:!0,r=new Map,[o,i]=pE(e,t),s=kr("");function a(f){return r.get(f)||null}function l(f,d){r.set(f,d)}function c(f){r.delete(f)}const u={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(f,...d){if(f.__VUE_I18N_SYMBOL__=s,f.provide(f.__VUE_I18N_SYMBOL__,u),Oe(d[0])){const p=d[0];u.__composerExtend=p.__composerExtend,u.__vueI18nExtend=p.__vueI18nExtend}let h=null;!t&&n&&(h=EE(f,u.global)),__VUE_I18N_FULL_INSTALL__&&fE(f,u,...d),__VUE_I18N_LEGACY_API__&&t&&f.mixin(oE(i,i.__composer,u));const m=f.unmount;f.unmount=()=>{h&&h(),u.dispose(),m()}},get global(){return i},dispose(){o.stop()},__instances:r,__getInstance:a,__setInstance:l,__deleteInstance:c};return u}function To(e={}){const t=hn();if(t==null)throw qt(Wt.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw qt(Wt.NOT_INSTALLED);const n=gE(t),r=_E(n),o=Gg(t),i=mE(e,o);if(i==="global")return qg(r,e,o),r;if(i==="parent"){let l=vE(n,t,e.__useComponent);return l==null&&(l=r),l}const s=n;let a=s.__getInstance(t);if(a==null){const l=yt({},e);"__i18n"in o&&(l.__i18n=o.__i18n),r&&(l.__root=r),a=bu(l),s.__composerExtend&&(a[uc]=s.__composerExtend(a)),bE(s,t,a),s.__setInstance(t,a)}return a}function pE(e,t){const n=ji(),r=__VUE_I18N_LEGACY_API__&&t?n.run(()=>fc(e)):n.run(()=>bu(e));if(r==null)throw qt(Wt.UNEXPECTED_ERROR);return[n,r]}function gE(e){const t=St(e.isCE?dE:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw qt(e.isCE?Wt.NOT_INSTALLED_WITH_PROVIDE:Wt.UNEXPECTED_ERROR);return t}function mE(e,t){return Oa(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function _E(e){return e.mode==="composition"?e.global:e.global.__composer}function vE(e,t,n=!1){let r=null;const o=t.root;let i=yE(t,n);for(;i!=null;){const s=e;if(e.mode==="composition")r=s.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const a=s.__getInstance(i);a!=null&&(r=a.__composer,n&&r&&!r[jg]&&(r=null))}if(r!=null||o===i)break;i=i.parent}return r}function yE(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function bE(e,t,n){gn(()=>{},t),qi(()=>{const r=n;e.__deleteInstance(t);const o=r[uc];o&&(o(),delete r[uc])},t)}const SE=["locale","fallbackLocale","availableLocales"],Ed=["t","rt","d","n","tm","te"];function EE(e,t){const n=Object.create(null);return SE.forEach(o=>{const i=Object.getOwnPropertyDescriptor(t,o);if(!i)throw qt(Wt.UNEXPECTED_ERROR);const s=Je(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,o,s)}),e.config.globalProperties.$i18n=n,Ed.forEach(o=>{const i=Object.getOwnPropertyDescriptor(t,o);if(!i||!i.value)throw qt(Wt.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${o}`,i)}),()=>{delete e.config.globalProperties.$i18n,Ed.forEach(o=>{delete e.config.globalProperties[`$${o}`]})}}const wE=xe({name:"i18n-d",props:yt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Su),setup(e,t){const n=e.i18n||To({useScope:e.scope,__useComponent:!0});return Kg(e,t,Ug,(...r)=>n[lc](...r))}}),wd=wE;eE();PS(hS);RS(TS);AS(Ag);if(__INTLIFY_PROD_DEVTOOLS__){const e=Br();e.__INTLIFY__=!0,pS(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const CE={class:"confirm"},xE=["innerHTML"],IE={class:"choices"},kE=xe({__name:"ConfirmModal",props:{title:{},message:{},onConfirm:{type:Function},onCancel:{type:Function},confirmText:{},cancelText:{},isConfirmButtonCta:{type:Boolean}},setup(e){const t=e;function n(){t.onCancel?t.onCancel():Dt.close()}return(r,o)=>{const i=Yi("Button");return he(),gt(Ig,null,{header:Me(()=>[be(Pg,{closeButton:"",closeButtonAction:n},{default:Me(()=>[ae("h2",null,Qe(t.title),1)]),_:1})]),content:Me(()=>[ae("div",CE,[ae("p",{innerHTML:t.message},null,8,xE),ae("div",IE,[be(i,{class:"btn",onClick:n},{default:Me(()=>[ae("span",null,Qe(t.cancelText||ue(To)().t("UI.Modals.Confirm.Controls.cancel")),1)]),_:1}),be(i,{class:"btn",primary:t.isConfirmButtonCta,onClick:t.onConfirm},{default:Me(()=>[ae("span",null,Qe(t.confirmText||ue(To)().t("UI.Modals.Confirm.Controls.confirm")),1)]),_:1},8,["primary","onClick"])])])]),_:1})}}}),Xg=Kt(kE,[["__scopeId","data-v-9eb2e444"]]),NE={},TE={class:"panel"};function OE(e,t){return he(),Se("div",TE,[vt(e.$slots,"default",{},void 0,!0)])}const dc=Kt(NE,[["render",OE],["__scopeId","data-v-b30da15a"]]),Et=[];for(let e=0;e<256;++e)Et.push((e+256).toString(16).slice(1));function ME(e,t=0){return(Et[e[t+0]]+Et[e[t+1]]+Et[e[t+2]]+Et[e[t+3]]+"-"+Et[e[t+4]]+Et[e[t+5]]+"-"+Et[e[t+6]]+Et[e[t+7]]+"-"+Et[e[t+8]]+Et[e[t+9]]+"-"+Et[e[t+10]]+Et[e[t+11]]+Et[e[t+12]]+Et[e[t+13]]+Et[e[t+14]]+Et[e[t+15]]).toLowerCase()}let hl;const PE=new Uint8Array(16);function RE(){if(!hl){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");hl=crypto.getRandomValues.bind(crypto)}return hl(PE)}const AE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Cd={randomUUID:AE};function Eu(e,t,n){var o;if(Cd.randomUUID&&!e)return Cd.randomUUID();e=e||{};const r=e.random??((o=e.rng)==null?void 0:o.call(e))??RE();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ME(r)}class DE{constructor(t,n){Ut(this,"id");Ut(this,"name");Ut(this,"description");Ut(this,"createdAt");Ut(this,"updatedAt");Ut(this,"scenes");this.id=Eu(),this.name=t,this.description=n,this.createdAt=new Date,this.updatedAt=new Date,this.scenes=[]}}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Zg;const Ra=e=>Zg=e,Jg=Symbol();function hc(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ci;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ci||(ci={}));function LE(){const e=ji(!0),t=e.run(()=>Ie({}));let n=[],r=[];const o=_r({install(i){Ra(o),o._a=i,i.provide(Jg,o),i.config.globalProperties.$pinia=o,r.forEach(s=>n.push(s)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const Qg=()=>{};function xd(e,t,n,r=Qg){e.push(t);const o=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&Sa()&&ri(o),o}function to(e,...t){e.slice().forEach(n=>{n(...t)})}const $E=e=>e(),Id=Symbol(),pl=Symbol();function pc(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];hc(o)&&hc(r)&&e.hasOwnProperty(n)&&!Je(r)&&!mr(r)?e[n]=pc(o,r):e[n]=r}return e}const FE=Symbol();function BE(e){return!hc(e)||!e.hasOwnProperty(FE)}const{assign:or}=Object;function UE(e){return!!(Je(e)&&e.effect)}function HE(e,t,n,r){const{state:o,actions:i,getters:s}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=o?o():{});const u=$p(n.state.value[e]);return or(u,i,Object.keys(s||{}).reduce((f,d)=>(f[d]=_r(me(()=>{Ra(n);const h=n._s.get(e);return s[d].call(h,h)})),f),{}))}return l=em(e,c,t,n,r,!0),l}function em(e,t,n={},r,o,i){let s;const a=or({actions:{}},n),l={deep:!0};let c,u,f=[],d=[],h;const m=r.state.value[e];!i&&!m&&(r.state.value[e]={}),Ie({});let p;function w(B){let V;c=u=!1,typeof B=="function"?(B(r.state.value[e]),V={type:ci.patchFunction,storeId:e,events:h}):(pc(r.state.value[e],B),V={type:ci.patchObject,payload:B,storeId:e,events:h});const J=p=Symbol();tn().then(()=>{p===J&&(c=!0)}),u=!0,to(f,V,r.state.value[e])}const v=i?function(){const{state:V}=n,J=V?V():{};this.$patch(Y=>{or(Y,J)})}:Qg;function E(){s.stop(),f=[],d=[],r._s.delete(e)}const _=(B,V="")=>{if(Id in B)return B[pl]=V,B;const J=function(){Ra(r);const Y=Array.from(arguments),P=[],oe=[];function L(W){P.push(W)}function G(W){oe.push(W)}to(d,{args:Y,name:J[pl],store:M,after:L,onError:G});let $;try{$=B.apply(this&&this.$id===e?this:M,Y)}catch(W){throw to(oe,W),W}return $ instanceof Promise?$.then(W=>(to(P,W),W)).catch(W=>(to(oe,W),Promise.reject(W))):(to(P,$),$)};return J[Id]=!0,J[pl]=V,J},y={_p:r,$id:e,$onAction:xd.bind(null,d),$patch:w,$reset:v,$subscribe(B,V={}){const J=xd(f,B,V.detached,()=>Y()),Y=s.run(()=>Ne(()=>r.state.value[e],P=>{(V.flush==="sync"?u:c)&&B({storeId:e,type:ci.direct,events:h},P)},or({},l,V)));return J},$dispose:E},M=Bo(y);r._s.set(e,M);const A=(r._a&&r._a.runWithContext||$E)(()=>r._e.run(()=>(s=ji()).run(()=>t({action:_}))));for(const B in A){const V=A[B];if(Je(V)&&!UE(V)||mr(V))i||(m&&BE(V)&&(Je(V)?V.value=m[B]:pc(V,m[B])),r.state.value[e][B]=V);else if(typeof V=="function"){const J=_(V,B);A[B]=J,a.actions[B]=V}}return or(M,A),or($e(M),A),Object.defineProperty(M,"$state",{get:()=>r.state.value[e],set:B=>{w(V=>{or(V,B)})}}),r._p.forEach(B=>{or(M,s.run(()=>B({store:M,app:r._a,pinia:r,options:a})))}),m&&i&&n.hydrate&&n.hydrate(M.$state,m),c=!0,u=!0,M}/*! #__NO_SIDE_EFFECTS__ */function VE(e,t,n){let r;const o=typeof t=="function";r=o?n:t;function i(s,a){const l=Gy();return s=s||(l?St(Jg,null):null),s&&Ra(s),s=Zg,s._s.has(e)||(o?em(e,t,r,s):HE(e,r,s)),s._s.get(e)}return i.$id=e,i}const Aa=VE("projects",()=>{const e=Ie([]);Ne(e,i=>{localStorage.setItem("projects",JSON.stringify(i))},{deep:!0});function t(){const i=localStorage.getItem("projects");e.value=i?JSON.parse(i):[]}function n(i){return e.value.find(s=>s.id===i)}function r(i){e.value.push(i)}function o(i){e.value=e.value.filter(s=>s.id!==i)}return{projects:e,loadProjectsFromLocalStorage:t,getProjectById:n,addProject:r,removeProjectById:o}}),zE={},WE={class:"card"};function jE(e,t){return he(),Se("div",WE,[vt(e.$slots,"default",{},void 0,!0)])}const tm=Kt(zE,[["render",jE],["__scopeId","data-v-0d8c74de"]]),GE=xe({__name:"Badge",props:{color:{type:String,default:"var(--color-primary)"},useLightText:{type:Boolean,default:!0},useDarkText:{type:Boolean,default:!1}},setup(e){return(t,n)=>(he(),Se("div",{class:zt(["badge",{"text-light":e.useLightText,"text-dark":e.useDarkText}]),style:Bt({backgroundColor:e.color})},[vt(t.$slots,"default",{},void 0,!0)],6))}}),js=Kt(GE,[["__scopeId","data-v-093d32be"]]),qE={class:"flex flex-wrap"},YE=xe({__name:"ProjectCard",props:{project:{type:Object,required:!0}},setup(e){const t=e;function n(){Qr.push({name:Wo.PROJECT,params:{id:t.project.id}})}return(r,o)=>(he(),gt(tm,null,{default:Me(()=>[ae("h3",null,Qe(e.project.name),1),ae("p",null,Qe(e.project.description),1),ae("div",qE,[be(js,{color:"var(--color-surface-alt)",useLightText:!0},{default:Me(()=>[ae("span",null,"Created "+Qe(new Date(e.project.createdAt).toLocaleDateString()),1)]),_:1}),be(js,{color:"var(--color-surface-alt)",useLightText:!0},{default:Me(()=>[ae("span",null,"Modified "+Qe(new Date(e.project.updatedAt).toLocaleDateString()),1)]),_:1})]),be(Vn,{onClick:n},{default:Me(()=>o[0]||(o[0]=[ae("i",{class:"fas fa-edit"},null,-1),ae("span",null,"Edit",-1)])),_:1})]),_:1}))}}),KE={class:"page page--home"},XE={class:"flex"},ZE={class:"projects-list"},JE=xe({__name:"TheHomePage",setup(e){const t=Aa(),n=t.projects;function r(){const i=new DE("New Project","Lorem ipsum dolor sit amet, consectetur adipiscing elit.");t.addProject(i),Qr.push({name:Wo.PROJECT,params:{id:i.id}})}function o(){}return(i,s)=>(he(),Se("div",KE,[be(dc,{class:"controls-panel"},{default:Me(()=>[ae("div",XE,[be(Vn,{primary:"",onClick:r},{default:Me(()=>s[0]||(s[0]=[ae("i",{class:"fas fa-plus-circle"},null,-1),ae("span",null,"New Project",-1)])),_:1}),be(Vn,{onClick:o,disabled:""},{default:Me(()=>s[1]||(s[1]=[ae("i",{class:"fas fa-folder-open"},null,-1),ae("span",null,"Load Project",-1)])),_:1})])]),_:1}),ue(n).length>0?(he(),gt(dc,{key:0,class:"projects-panel"},{default:Me(()=>[s[2]||(s[2]=ae("h2",null,"Projects",-1)),ae("ul",ZE,[(he(!0),Se(Ge,null,wo(ue(n),a=>(he(),gt(YE,{project:a,key:a.id},null,8,["project"]))),128))])]),_:1})):mt("",!0),s[3]||(s[3]=ae("footer",null,null,-1))]))}}),QE=Kt(JE,[["__scopeId","data-v-3b78786d"]]),ew={class:"page page--lost"},tw=xe({__name:"TheLostPage",setup(e){function t(){Qr.push({name:Wo.HOME})}return(n,r)=>(he(),Se("div",ew,[r[1]||(r[1]=ae("h1",null,"404",-1)),r[2]||(r[2]=ae("p",null,"This page does not exist.",-1)),ae("button",{class:"btn btn--alt",onClick:r[0]||(r[0]=o=>t())}," Return to Home Page ")]))}});function Da(e){return Sa()?(ri(e),!0):!1}function Hn(e){return typeof e=="function"?e():ue(e)}const nw=typeof window<"u"&&typeof document<"u",rw=e=>typeof e<"u",ow=Object.prototype.toString,iw=e=>ow.call(e)==="[object Object]",sw=()=>{};function aw(e,t){function n(...r){return new Promise((o,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(o).catch(i)})}return n}const nm=e=>e();function lw(e=nm){const t=Ie(!0);function n(){t.value=!1}function r(){t.value=!0}const o=(...i)=>{t.value&&e(...i)};return{isActive:ru(t),pause:n,resume:r,eventFilter:o}}function kd(e,t=!1,n="Timeout"){return new Promise((r,o)=>{setTimeout(t?()=>o(n):r,e)})}function cw(e,t,n={}){const{eventFilter:r=nm,...o}=n;return Ne(e,aw(r,t),o)}function no(e,t,n={}){const{eventFilter:r,...o}=n,{eventFilter:i,pause:s,resume:a,isActive:l}=lw(r);return{stop:cw(e,t,{...o,eventFilter:i}),pause:s,resume:a,isActive:l}}function uw(e,t={}){if(!Je(e))return $p(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const r in e.value)n[r]=hy(()=>({get(){return e.value[r]},set(o){var i;if((i=Hn(t.replaceRef))!=null?i:!0)if(Array.isArray(e.value)){const a=[...e.value];a[r]=o,e.value=a}else{const a={...e.value,[r]:o};Object.setPrototypeOf(a,Object.getPrototypeOf(e.value)),e.value=a}else e.value[r]=o}}));return n}function gc(e,t=!1){function n(f,{flush:d="sync",deep:h=!1,timeout:m,throwOnTimeout:p}={}){let w=null;const E=[new Promise(_=>{w=Ne(e,y=>{f(y)!==t&&(w==null||w(),_(y))},{flush:d,deep:h,immediate:!0})})];return m!=null&&E.push(kd(m,p).then(()=>Hn(e)).finally(()=>w==null?void 0:w())),Promise.race(E)}function r(f,d){if(!Je(f))return n(y=>y===f,d);const{flush:h="sync",deep:m=!1,timeout:p,throwOnTimeout:w}=d??{};let v=null;const _=[new Promise(y=>{v=Ne([e,f],([M,F])=>{t!==(M===F)&&(v==null||v(),y(M))},{flush:h,deep:m,immediate:!0})})];return p!=null&&_.push(kd(p,w).then(()=>Hn(e)).finally(()=>(v==null||v(),Hn(e)))),Promise.race(_)}function o(f){return n(d=>!!d,f)}function i(f){return r(null,f)}function s(f){return r(void 0,f)}function a(f){return n(Number.isNaN,f)}function l(f,d){return n(h=>{const m=Array.from(h);return m.includes(f)||m.includes(Hn(f))},d)}function c(f){return u(1,f)}function u(f=1,d){let h=-1;return n(()=>(h+=1,h>=f),d)}return Array.isArray(Hn(e))?{toMatch:n,toContains:l,changed:c,changedTimes:u,get not(){return gc(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:o,toBeNull:i,toBeNaN:a,toBeUndefined:s,changed:c,changedTimes:u,get not(){return gc(e,!t)}}}function mc(e){return gc(e)}function fw(e){var t;const n=Hn(e);return(t=n==null?void 0:n.$el)!=null?t:n}const rm=nw?window:void 0;function om(...e){let t,n,r,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,o]=e,t=rm):[t,n,r,o]=e,!t)return sw;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],s=()=>{i.forEach(u=>u()),i.length=0},a=(u,f,d,h)=>(u.addEventListener(f,d,h),()=>u.removeEventListener(f,d,h)),l=Ne(()=>[fw(t),Hn(o)],([u,f])=>{if(s(),!u)return;const d=iw(f)?{...f}:f;i.push(...n.flatMap(h=>r.map(m=>a(u,h,m,d))))},{immediate:!0,flush:"post"}),c=()=>{l(),s()};return Da(c),c}function dw(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Nd(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:o=rm,eventName:i="keydown",passive:s=!1,dedupe:a=!1}=r,l=dw(t);return om(o,i,u=>{u.repeat&&Hn(a)||l(u)&&n(u)},s)}function hw(e){return JSON.parse(JSON.stringify(e))}function gl(e,t,n,r={}){var o,i,s;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:f,shouldEmit:d}=r,h=hn(),m=n||(h==null?void 0:h.emit)||((o=h==null?void 0:h.$emit)==null?void 0:o.bind(h))||((s=(i=h==null?void 0:h.proxy)==null?void 0:i.$emit)==null?void 0:s.bind(h==null?void 0:h.proxy));let p=c;t||(t="modelValue"),p=p||`update:${t.toString()}`;const w=_=>a?typeof a=="function"?a(_):hw(_):_,v=()=>rw(e[t])?w(e[t]):f,E=_=>{d?d(_)&&m(p,_):m(p,_)};if(l){const _=v(),y=Ie(_);let M=!1;return Ne(()=>e[t],F=>{M||(M=!0,y.value=w(F),tn(()=>M=!1))}),Ne(y,F=>{!M&&(F!==e[t]||u)&&E(F)},{deep:u}),y}else return me({get(){return v()},set(_){E(_)}})}var pw={value:()=>{}};function La(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Os(n)}function Os(e){this._=e}function gw(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Os.prototype=La.prototype={constructor:Os,on:function(e,t){var n=this._,r=gw(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=mw(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=Td(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Td(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Os(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function mw(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Td(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=pw,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var _c="http://www.w3.org/1999/xhtml";const Od={svg:"http://www.w3.org/2000/svg",xhtml:_c,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $a(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Od.hasOwnProperty(t)?{space:Od[t],local:e}:e}function _w(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===_c&&t.documentElement.namespaceURI===_c?t.createElement(e):t.createElementNS(n,e)}}function vw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function im(e){var t=$a(e);return(t.local?vw:_w)(t)}function yw(){}function wu(e){return e==null?yw:function(){return this.querySelector(e)}}function bw(e){typeof e!="function"&&(e=wu(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=new Array(s),l,c,u=0;u<s;++u)(l=i[u])&&(c=e.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Yt(r,this._parents)}function Sw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ew(){return[]}function sm(e){return e==null?Ew:function(){return this.querySelectorAll(e)}}function ww(e){return function(){return Sw(e.apply(this,arguments))}}function Cw(e){typeof e=="function"?e=ww(e):e=sm(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),o.push(l));return new Yt(r,o)}function am(e){return function(){return this.matches(e)}}function lm(e){return function(t){return t.matches(e)}}var xw=Array.prototype.find;function Iw(e){return function(){return xw.call(this.children,e)}}function kw(){return this.firstElementChild}function Nw(e){return this.select(e==null?kw:Iw(typeof e=="function"?e:lm(e)))}var Tw=Array.prototype.filter;function Ow(){return Array.from(this.children)}function Mw(e){return function(){return Tw.call(this.children,e)}}function Pw(e){return this.selectAll(e==null?Ow:Mw(typeof e=="function"?e:lm(e)))}function Rw(e){typeof e!="function"&&(e=am(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],l,c=0;c<s;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&a.push(l);return new Yt(r,this._parents)}function cm(e){return new Array(e.length)}function Aw(){return new Yt(this._enter||this._groups.map(cm),this._parents)}function Gs(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Gs.prototype={constructor:Gs,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Dw(e){return function(){return e}}function Lw(e,t,n,r,o,i){for(var s=0,a,l=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new Gs(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function $w(e,t,n,r,o,i,s){var a,l,c=new Map,u=t.length,f=i.length,d=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(d[a]=h=s.call(l,l.__data__,a,t)+"",c.has(h)?o[a]=l:c.set(h,l));for(a=0;a<f;++a)h=s.call(e,i[a],a,i)+"",(l=c.get(h))?(r[a]=l,l.__data__=i[a],c.delete(h)):n[a]=new Gs(e,i[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(d[a])===l&&(o[a]=l)}function Fw(e){return e.__data__}function Bw(e,t){if(!arguments.length)return Array.from(this,Fw);var n=t?$w:Lw,r=this._parents,o=this._groups;typeof e!="function"&&(e=Dw(e));for(var i=o.length,s=new Array(i),a=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],f=o[c],d=f.length,h=Uw(e.call(u,u&&u.__data__,c,r)),m=h.length,p=a[c]=new Array(m),w=s[c]=new Array(m),v=l[c]=new Array(d);n(u,f,p,w,v,h,t);for(var E=0,_=0,y,M;E<m;++E)if(y=p[E]){for(E>=_&&(_=E+1);!(M=w[_])&&++_<m;);y._next=M||null}}return s=new Yt(s,r),s._enter=a,s._exit=l,s}function Uw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Hw(){return new Yt(this._exit||this._groups.map(cm),this._parents)}function Vw(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function zw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),a=new Array(o),l=0;l<s;++l)for(var c=n[l],u=r[l],f=c.length,d=a[l]=new Array(f),h,m=0;m<f;++m)(h=c[m]||u[m])&&(d[m]=h);for(;l<o;++l)a[l]=n[l];return new Yt(a,this._parents)}function Ww(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function jw(e){e||(e=Gw);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],a=s.length,l=o[i]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new Yt(o,this._parents).order()}function Gw(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function qw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Yw(){return Array.from(this)}function Kw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function Xw(){let e=0;for(const t of this)++e;return e}function Zw(){return!this.node()}function Jw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,a;i<s;++i)(a=o[i])&&e.call(a,a.__data__,i,o);return this}function Qw(e){return function(){this.removeAttribute(e)}}function eC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tC(e,t){return function(){this.setAttribute(e,t)}}function nC(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function rC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function oC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function iC(e,t){var n=$a(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?eC:Qw:typeof t=="function"?n.local?oC:rC:n.local?nC:tC)(n,t))}function um(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function sC(e){return function(){this.style.removeProperty(e)}}function aC(e,t,n){return function(){this.style.setProperty(e,t,n)}}function lC(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function cC(e,t,n){return arguments.length>1?this.each((t==null?sC:typeof t=="function"?lC:aC)(e,t,n??"")):Oo(this.node(),e)}function Oo(e,t){return e.style.getPropertyValue(t)||um(e).getComputedStyle(e,null).getPropertyValue(t)}function uC(e){return function(){delete this[e]}}function fC(e,t){return function(){this[e]=t}}function dC(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function hC(e,t){return arguments.length>1?this.each((t==null?uC:typeof t=="function"?dC:fC)(e,t)):this.node()[e]}function fm(e){return e.trim().split(/^|\s+/)}function Cu(e){return e.classList||new dm(e)}function dm(e){this._node=e,this._names=fm(e.getAttribute("class")||"")}dm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function hm(e,t){for(var n=Cu(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function pm(e,t){for(var n=Cu(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function pC(e){return function(){hm(this,e)}}function gC(e){return function(){pm(this,e)}}function mC(e,t){return function(){(t.apply(this,arguments)?hm:pm)(this,e)}}function _C(e,t){var n=fm(e+"");if(arguments.length<2){for(var r=Cu(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?mC:t?pC:gC)(n,t))}function vC(){this.textContent=""}function yC(e){return function(){this.textContent=e}}function bC(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function SC(e){return arguments.length?this.each(e==null?vC:(typeof e=="function"?bC:yC)(e)):this.node().textContent}function EC(){this.innerHTML=""}function wC(e){return function(){this.innerHTML=e}}function CC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function xC(e){return arguments.length?this.each(e==null?EC:(typeof e=="function"?CC:wC)(e)):this.node().innerHTML}function IC(){this.nextSibling&&this.parentNode.appendChild(this)}function kC(){return this.each(IC)}function NC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function TC(){return this.each(NC)}function OC(e){var t=typeof e=="function"?e:im(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function MC(){return null}function PC(e,t){var n=typeof e=="function"?e:im(e),r=t==null?MC:typeof t=="function"?t:wu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function RC(){var e=this.parentNode;e&&e.removeChild(this)}function AC(){return this.each(RC)}function DC(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function LC(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $C(e){return this.select(e?LC:DC)}function FC(e){return arguments.length?this.property("__data__",e):this.node().__data__}function BC(e){return function(t){e.call(this,t,this.__data__)}}function UC(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function HC(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function VC(e,t,n){return function(){var r=this.__on,o,i=BC(t);if(r){for(var s=0,a=r.length;s<a;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function zC(e,t,n){var r=UC(e+""),o,i=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(o=0,u=a[l];o<i;++o)if((s=r[o]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?VC:HC,o=0;o<i;++o)this.each(a(r[o],t,n));return this}function gm(e,t,n){var r=um(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function WC(e,t){return function(){return gm(this,e,t)}}function jC(e,t){return function(){return gm(this,e,t.apply(this,arguments))}}function GC(e,t){return this.each((typeof t=="function"?jC:WC)(e,t))}function*qC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var mm=[null];function Yt(e,t){this._groups=e,this._parents=t}function Zi(){return new Yt([[document.documentElement]],mm)}function YC(){return this}Yt.prototype=Zi.prototype={constructor:Yt,select:bw,selectAll:Cw,selectChild:Nw,selectChildren:Pw,filter:Rw,data:Bw,enter:Aw,exit:Hw,join:Vw,merge:zw,selection:YC,order:Ww,sort:jw,call:qw,nodes:Yw,node:Kw,size:Xw,empty:Zw,each:Jw,attr:iC,style:cC,property:hC,classed:_C,text:SC,html:xC,raise:kC,lower:TC,append:OC,insert:PC,remove:AC,clone:$C,datum:FC,on:zC,dispatch:GC,[Symbol.iterator]:qC};function ln(e){return typeof e=="string"?new Yt([[document.querySelector(e)]],[document.documentElement]):new Yt([[e]],mm)}function KC(e){let t;for(;t=e.sourceEvent;)e=t;return e}function En(e,t){if(e=KC(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const XC={passive:!1},Oi={capture:!0,passive:!1};function ml(e){e.stopImmediatePropagation()}function vo(e){e.preventDefault(),e.stopImmediatePropagation()}function _m(e){var t=e.document.documentElement,n=ln(e).on("dragstart.drag",vo,Oi);"onselectstart"in t?n.on("selectstart.drag",vo,Oi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function vm(e,t){var n=e.document.documentElement,r=ln(e).on("dragstart.drag",null);t&&(r.on("click.drag",vo,Oi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const hs=e=>()=>e;function vc(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}vc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ZC(e){return!e.ctrlKey&&!e.button}function JC(){return this.parentNode}function QC(e,t){return t??{x:e.x,y:e.y}}function ex(){return navigator.maxTouchPoints||"ontouchstart"in this}function tx(){var e=ZC,t=JC,n=QC,r=ex,o={},i=La("start","drag","end"),s=0,a,l,c,u,f=0;function d(y){y.on("mousedown.drag",h).filter(r).on("touchstart.drag",w).on("touchmove.drag",v,XC).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(y,M){if(!(u||!e.call(this,y,M))){var F=_(this,t.call(this,y,M),y,M,"mouse");F&&(ln(y.view).on("mousemove.drag",m,Oi).on("mouseup.drag",p,Oi),_m(y.view),ml(y),c=!1,a=y.clientX,l=y.clientY,F("start",y))}}function m(y){if(vo(y),!c){var M=y.clientX-a,F=y.clientY-l;c=M*M+F*F>f}o.mouse("drag",y)}function p(y){ln(y.view).on("mousemove.drag mouseup.drag",null),vm(y.view,c),vo(y),o.mouse("end",y)}function w(y,M){if(e.call(this,y,M)){var F=y.changedTouches,A=t.call(this,y,M),B=F.length,V,J;for(V=0;V<B;++V)(J=_(this,A,y,M,F[V].identifier,F[V]))&&(ml(y),J("start",y,F[V]))}}function v(y){var M=y.changedTouches,F=M.length,A,B;for(A=0;A<F;++A)(B=o[M[A].identifier])&&(vo(y),B("drag",y,M[A]))}function E(y){var M=y.changedTouches,F=M.length,A,B;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),A=0;A<F;++A)(B=o[M[A].identifier])&&(ml(y),B("end",y,M[A]))}function _(y,M,F,A,B,V){var J=i.copy(),Y=En(V||F,M),P,oe,L;if((L=n.call(y,new vc("beforestart",{sourceEvent:F,target:d,identifier:B,active:s,x:Y[0],y:Y[1],dx:0,dy:0,dispatch:J}),A))!=null)return P=L.x-Y[0]||0,oe=L.y-Y[1]||0,function G($,W,K){var ne=Y,re;switch($){case"start":o[B]=G,re=s++;break;case"end":delete o[B],--s;case"drag":Y=En(K||W,M),re=s;break}J.call($,y,new vc($,{sourceEvent:W,subject:L,target:d,identifier:B,active:re,x:Y[0]+P,y:Y[1]+oe,dx:Y[0]-ne[0],dy:Y[1]-ne[1],dispatch:J}),A)}}return d.filter=function(y){return arguments.length?(e=typeof y=="function"?y:hs(!!y),d):e},d.container=function(y){return arguments.length?(t=typeof y=="function"?y:hs(y),d):t},d.subject=function(y){return arguments.length?(n=typeof y=="function"?y:hs(y),d):n},d.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:hs(!!y),d):r},d.on=function(){var y=i.on.apply(i,arguments);return y===i?d:y},d.clickDistance=function(y){return arguments.length?(f=(y=+y)*y,d):Math.sqrt(f)},d}function xu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ym(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ji(){}var Mi=.7,qs=1/Mi,yo="\\s*([+-]?\\d+)\\s*",Pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nx=/^#([0-9a-f]{3,8})$/,rx=new RegExp(`^rgb\\(${yo},${yo},${yo}\\)$`),ox=new RegExp(`^rgb\\(${Nn},${Nn},${Nn}\\)$`),ix=new RegExp(`^rgba\\(${yo},${yo},${yo},${Pi}\\)$`),sx=new RegExp(`^rgba\\(${Nn},${Nn},${Nn},${Pi}\\)$`),ax=new RegExp(`^hsl\\(${Pi},${Nn},${Nn}\\)$`),lx=new RegExp(`^hsla\\(${Pi},${Nn},${Nn},${Pi}\\)$`),Md={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xu(Ji,Ri,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pd,formatHex:Pd,formatHex8:cx,formatHsl:ux,formatRgb:Rd,toString:Rd});function Pd(){return this.rgb().formatHex()}function cx(){return this.rgb().formatHex8()}function ux(){return bm(this).formatHsl()}function Rd(){return this.rgb().formatRgb()}function Ri(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nx.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ad(t):n===3?new Vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ps(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ps(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rx.exec(e))?new Vt(t[1],t[2],t[3],1):(t=ox.exec(e))?new Vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ix.exec(e))?ps(t[1],t[2],t[3],t[4]):(t=sx.exec(e))?ps(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ax.exec(e))?$d(t[1],t[2]/100,t[3]/100,1):(t=lx.exec(e))?$d(t[1],t[2]/100,t[3]/100,t[4]):Md.hasOwnProperty(e)?Ad(Md[e]):e==="transparent"?new Vt(NaN,NaN,NaN,0):null}function Ad(e){return new Vt(e>>16&255,e>>8&255,e&255,1)}function ps(e,t,n,r){return r<=0&&(e=t=n=NaN),new Vt(e,t,n,r)}function fx(e){return e instanceof Ji||(e=Ri(e)),e?(e=e.rgb(),new Vt(e.r,e.g,e.b,e.opacity)):new Vt}function yc(e,t,n,r){return arguments.length===1?fx(e):new Vt(e,t,n,r??1)}function Vt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}xu(Vt,yc,ym(Ji,{brighter(e){return e=e==null?qs:Math.pow(qs,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mi:Math.pow(Mi,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vt(Wr(this.r),Wr(this.g),Wr(this.b),Ys(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dd,formatHex:Dd,formatHex8:dx,formatRgb:Ld,toString:Ld}));function Dd(){return`#${Ur(this.r)}${Ur(this.g)}${Ur(this.b)}`}function dx(){return`#${Ur(this.r)}${Ur(this.g)}${Ur(this.b)}${Ur((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ld(){const e=Ys(this.opacity);return`${e===1?"rgb(":"rgba("}${Wr(this.r)}, ${Wr(this.g)}, ${Wr(this.b)}${e===1?")":`, ${e})`}`}function Ys(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ur(e){return e=Wr(e),(e<16?"0":"")+e.toString(16)}function $d(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cn(e,t,n,r)}function bm(e){if(e instanceof cn)return new cn(e.h,e.s,e.l,e.opacity);if(e instanceof Ji||(e=Ri(e)),!e)return new cn;if(e instanceof cn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,a=i-o,l=(i+o)/2;return a?(t===i?s=(n-r)/a+(n<r)*6:n===i?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?i+o:2-i-o,s*=60):a=l>0&&l<1?0:s,new cn(s,a,l,e.opacity)}function hx(e,t,n,r){return arguments.length===1?bm(e):new cn(e,t,n,r??1)}function cn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xu(cn,hx,ym(Ji,{brighter(e){return e=e==null?qs:Math.pow(qs,e),new cn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mi:Math.pow(Mi,e),new cn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Vt(_l(e>=240?e-240:e+120,o,r),_l(e,o,r),_l(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new cn(Fd(this.h),gs(this.s),gs(this.l),Ys(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ys(this.opacity);return`${e===1?"hsl(":"hsla("}${Fd(this.h)}, ${gs(this.s)*100}%, ${gs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Fd(e){return e=(e||0)%360,e<0?e+360:e}function gs(e){return Math.max(0,Math.min(1,e||0))}function _l(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Sm=e=>()=>e;function px(e,t){return function(n){return e+n*t}}function gx(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function mx(e){return(e=+e)==1?Em:function(t,n){return n-t?gx(t,n,e):Sm(isNaN(t)?n:t)}}function Em(e,t){var n=t-e;return n?px(e,n):Sm(isNaN(e)?t:e)}const Bd=function e(t){var n=mx(t);function r(o,i){var s=n((o=yc(o)).r,(i=yc(i)).r),a=n(o.g,i.g),l=n(o.b,i.b),c=Em(o.opacity,i.opacity);return function(u){return o.r=s(u),o.g=a(u),o.b=l(u),o.opacity=c(u),o+""}}return r.gamma=e,r}(1);function lr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var bc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vl=new RegExp(bc.source,"g");function _x(e){return function(){return e}}function vx(e){return function(t){return e(t)+""}}function yx(e,t){var n=bc.lastIndex=vl.lastIndex=0,r,o,i,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=bc.exec(e))&&(o=vl.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),a[s]?a[s]+=i:a[++s]=i),(r=r[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,l.push({i:s,x:lr(r,o)})),n=vl.lastIndex;return n<t.length&&(i=t.slice(n),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?vx(l[0].x):_x(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}var Ud=180/Math.PI,Sc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wm(e,t,n,r,o,i){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Ud,skewX:Math.atan(l)*Ud,scaleX:s,scaleY:a}}var ms;function bx(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Sc:wm(t.a,t.b,t.c,t.d,t.e,t.f)}function Sx(e){return e==null||(ms||(ms=document.createElementNS("http://www.w3.org/2000/svg","g")),ms.setAttribute("transform",e),!(e=ms.transform.baseVal.consolidate()))?Sc:(e=e.matrix,wm(e.a,e.b,e.c,e.d,e.e,e.f))}function Cm(e,t,n,r){function o(c){return c.length?c.pop()+" ":""}function i(c,u,f,d,h,m){if(c!==f||u!==d){var p=h.push("translate(",null,t,null,n);m.push({i:p-4,x:lr(c,f)},{i:p-2,x:lr(u,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(o(f)+"rotate(",null,r)-2,x:lr(c,u)})):u&&f.push(o(f)+"rotate("+u+r)}function a(c,u,f,d){c!==u?d.push({i:f.push(o(f)+"skewX(",null,r)-2,x:lr(c,u)}):u&&f.push(o(f)+"skewX("+u+r)}function l(c,u,f,d,h,m){if(c!==f||u!==d){var p=h.push(o(h)+"scale(",null,",",null,")");m.push({i:p-4,x:lr(c,f)},{i:p-2,x:lr(u,d)})}else(f!==1||d!==1)&&h.push(o(h)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=e(c),u=e(u),i(c.translateX,c.translateY,u.translateX,u.translateY,f,d),s(c.rotate,u.rotate,f,d),a(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(h){for(var m=-1,p=d.length,w;++m<p;)f[(w=d[m]).i]=w.x(h);return f.join("")}}}var Ex=Cm(bx,"px, ","px)","deg)"),wx=Cm(Sx,", ",")",")"),Cx=1e-12;function Hd(e){return((e=Math.exp(e))+1/e)/2}function xx(e){return((e=Math.exp(e))-1/e)/2}function Ix(e){return((e=Math.exp(2*e))-1)/(e+1)}const kx=function e(t,n,r){function o(i,s){var a=i[0],l=i[1],c=i[2],u=s[0],f=s[1],d=s[2],h=u-a,m=f-l,p=h*h+m*m,w,v;if(p<Cx)v=Math.log(d/c)/t,w=function(A){return[a+A*h,l+A*m,c*Math.exp(t*A*v)]};else{var E=Math.sqrt(p),_=(d*d-c*c+r*p)/(2*c*n*E),y=(d*d-c*c-r*p)/(2*d*n*E),M=Math.log(Math.sqrt(_*_+1)-_),F=Math.log(Math.sqrt(y*y+1)-y);v=(F-M)/t,w=function(A){var B=A*v,V=Hd(M),J=c/(n*E)*(V*Ix(t*B+M)-xx(M));return[a+J*h,l+J*m,c*V/Hd(t*B+M)]}}return w.duration=v*1e3*t/Math.SQRT2,w}return o.rho=function(i){var s=Math.max(.001,+i),a=s*s,l=a*a;return e(s,a,l)},o}(Math.SQRT2,2,4);var Mo=0,Qo=0,Ko=0,xm=1e3,Ks,ei,Xs=0,qr=0,Fa=0,Ai=typeof performance=="object"&&performance.now?performance:Date,Im=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Iu(){return qr||(Im(Nx),qr=Ai.now()+Fa)}function Nx(){qr=0}function Zs(){this._call=this._time=this._next=null}Zs.prototype=km.prototype={constructor:Zs,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Iu():+n)+(t==null?0:+t),!this._next&&ei!==this&&(ei?ei._next=this:Ks=this,ei=this),this._call=e,this._time=n,Ec()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ec())}};function km(e,t,n){var r=new Zs;return r.restart(e,t,n),r}function Tx(){Iu(),++Mo;for(var e=Ks,t;e;)(t=qr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Mo}function Vd(){qr=(Xs=Ai.now())+Fa,Mo=Qo=0;try{Tx()}finally{Mo=0,Mx(),qr=0}}function Ox(){var e=Ai.now(),t=e-Xs;t>xm&&(Fa-=t,Xs=e)}function Mx(){for(var e,t=Ks,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ks=n);ei=e,Ec(r)}function Ec(e){if(!Mo){Qo&&(Qo=clearTimeout(Qo));var t=e-qr;t>24?(e<1/0&&(Qo=setTimeout(Vd,e-Ai.now()-Fa)),Ko&&(Ko=clearInterval(Ko))):(Ko||(Xs=Ai.now(),Ko=setInterval(Ox,xm)),Mo=1,Im(Vd))}}function zd(e,t,n){var r=new Zs;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Px=La("start","end","cancel","interrupt"),Rx=[],Nm=0,Wd=1,wc=2,Ms=3,jd=4,Cc=5,Ps=6;function Ba(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Ax(e,n,{name:t,index:r,group:o,on:Px,tween:Rx,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Nm})}function ku(e,t){var n=mn(e,t);if(n.state>Nm)throw new Error("too late; already scheduled");return n}function Mn(e,t){var n=mn(e,t);if(n.state>Ms)throw new Error("too late; already running");return n}function mn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ax(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=km(i,0,n.time);function i(c){n.state=Wd,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,f,d,h;if(n.state!==Wd)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===Ms)return zd(s);h.state===jd?(h.state=Ps,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=Ps,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(zd(function(){n.state===Ms&&(n.state=jd,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=wc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===wc){for(n.state=Ms,o=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=h);o.length=f+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Cc,1),f=-1,d=o.length;++f<d;)o[f].call(e,u);n.state===Cc&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Ps,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Rs(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>wc&&r.state<Cc,r.state=Ps,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function Dx(e){return this.each(function(){Rs(this,e)})}function Lx(e,t){var n,r;return function(){var o=Mn(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function $x(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Mn(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var a={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=a;break}l===c&&o.push(a)}i.tween=o}}function Fx(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=mn(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?Lx:$x)(n,e,t))}function Nu(e,t,n){var r=e._id;return e.each(function(){var o=Mn(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return mn(o,r).value[t]}}function Tm(e,t){var n;return(typeof t=="number"?lr:t instanceof Ri?Bd:(n=Ri(t))?(t=n,Bd):yx)(e,t)}function Bx(e){return function(){this.removeAttribute(e)}}function Ux(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Hx(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function Vx(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function zx(e,t,n){var r,o,i;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===o?i:(o=l,i=t(r=s,a)))}}function Wx(e,t,n){var r,o,i;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===o?i:(o=l,i=t(r=s,a)))}}function jx(e,t){var n=$a(e),r=n==="transform"?wx:Tm;return this.attrTween(e,typeof t=="function"?(n.local?Wx:zx)(n,r,Nu(this,"attr."+e,t)):t==null?(n.local?Ux:Bx)(n):(n.local?Vx:Hx)(n,r,t))}function Gx(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function qx(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Yx(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&qx(e,i)),n}return o._value=t,o}function Kx(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Gx(e,i)),n}return o._value=t,o}function Xx(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=$a(e);return this.tween(n,(r.local?Yx:Kx)(r,t))}function Zx(e,t){return function(){ku(this,e).delay=+t.apply(this,arguments)}}function Jx(e,t){return t=+t,function(){ku(this,e).delay=t}}function Qx(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Zx:Jx)(t,e)):mn(this.node(),t).delay}function eI(e,t){return function(){Mn(this,e).duration=+t.apply(this,arguments)}}function tI(e,t){return t=+t,function(){Mn(this,e).duration=t}}function nI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?eI:tI)(t,e)):mn(this.node(),t).duration}function rI(e,t){if(typeof t!="function")throw new Error;return function(){Mn(this,e).ease=t}}function oI(e){var t=this._id;return arguments.length?this.each(rI(t,e)):mn(this.node(),t).ease}function iI(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Mn(this,e).ease=n}}function sI(e){if(typeof e!="function")throw new Error;return this.each(iI(this._id,e))}function aI(e){typeof e!="function"&&(e=am(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],l,c=0;c<s;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&a.push(l);return new Xn(r,this._parents,this._name,this._id)}function lI(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),a=0;a<i;++a)for(var l=t[a],c=n[a],u=l.length,f=s[a]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;a<r;++a)s[a]=t[a];return new Xn(s,this._parents,this._name,this._id)}function cI(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function uI(e,t,n){var r,o,i=cI(t)?ku:Mn;return function(){var s=i(this,e),a=s.on;a!==r&&(o=(r=a).copy()).on(t,n),s.on=o}}function fI(e,t){var n=this._id;return arguments.length<2?mn(this.node(),n).on.on(e):this.each(uI(n,e,t))}function dI(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function hI(){return this.on("end.remove",dI(this._id))}function pI(e){var t=this._name,n=this._id;typeof e!="function"&&(e=wu(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var a=r[s],l=a.length,c=i[s]=new Array(l),u,f,d=0;d<l;++d)(u=a[d])&&(f=e.call(u,u.__data__,d,a))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,Ba(c[d],t,n,d,c,mn(u,n)));return new Xn(i,this._parents,t,n)}function gI(e){var t=this._name,n=this._id;typeof e!="function"&&(e=sm(e));for(var r=this._groups,o=r.length,i=[],s=[],a=0;a<o;++a)for(var l=r[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=e.call(u,u.__data__,f,l),h,m=mn(u,n),p=0,w=d.length;p<w;++p)(h=d[p])&&Ba(h,t,n,p,d,m);i.push(d),s.push(u)}return new Xn(i,s,t,n)}var mI=Zi.prototype.constructor;function _I(){return new mI(this._groups,this._parents)}function vI(e,t){var n,r,o;return function(){var i=Oo(this,e),s=(this.style.removeProperty(e),Oo(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Om(e){return function(){this.style.removeProperty(e)}}function yI(e,t,n){var r,o=n+"",i;return function(){var s=Oo(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function bI(e,t,n){var r,o,i;return function(){var s=Oo(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Oo(this,e))),s===l?null:s===r&&l===o?i:(o=l,i=t(r=s,a))}}function SI(e,t){var n,r,o,i="style."+t,s="end."+i,a;return function(){var l=Mn(this,e),c=l.on,u=l.value[i]==null?a||(a=Om(t)):void 0;(c!==n||o!==u)&&(r=(n=c).copy()).on(s,o=u),l.on=r}}function EI(e,t,n){var r=(e+="")=="transform"?Ex:Tm;return t==null?this.styleTween(e,vI(e,r)).on("end.style."+e,Om(e)):typeof t=="function"?this.styleTween(e,bI(e,r,Nu(this,"style."+e,t))).each(SI(this._id,e)):this.styleTween(e,yI(e,r,t),n).on("end.style."+e,null)}function wI(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function CI(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&wI(e,s,n)),r}return i._value=t,i}function xI(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,CI(e,t,n??""))}function II(e){return function(){this.textContent=e}}function kI(e){return function(){var t=e(this);this.textContent=t??""}}function NI(e){return this.tween("text",typeof e=="function"?kI(Nu(this,"text",e)):II(e==null?"":e+""))}function TI(e){return function(t){this.textContent=e.call(this,t)}}function OI(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&TI(o)),t}return r._value=e,r}function MI(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,OI(e))}function PI(){for(var e=this._name,t=this._id,n=Mm(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=mn(l,t);Ba(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Xn(r,this._parents,e,n)}function RI(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var a={value:s},l={value:function(){--o===0&&i()}};n.each(function(){var c=Mn(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),o===0&&i()})}var AI=0;function Xn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Mm(){return++AI}var Ln=Zi.prototype;Xn.prototype={constructor:Xn,select:pI,selectAll:gI,selectChild:Ln.selectChild,selectChildren:Ln.selectChildren,filter:aI,merge:lI,selection:_I,transition:PI,call:Ln.call,nodes:Ln.nodes,node:Ln.node,size:Ln.size,empty:Ln.empty,each:Ln.each,on:fI,attr:jx,attrTween:Xx,style:EI,styleTween:xI,text:NI,textTween:MI,remove:hI,tween:Fx,delay:Qx,duration:nI,ease:oI,easeVarying:sI,end:RI,[Symbol.iterator]:Ln[Symbol.iterator]};function DI(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var LI={time:null,delay:0,duration:250,ease:DI};function $I(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function FI(e){var t,n;e instanceof Xn?(t=e._id,e=e._name):(t=Mm(),(n=LI).time=Iu(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,l,c=0;c<a;++c)(l=s[c])&&Ba(l,e,t,c,s,n||$I(l,t));return new Xn(r,this._parents,e,t)}Zi.prototype.interrupt=Dx;Zi.prototype.transition=FI;const _s=e=>()=>e;function BI(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function jn(e,t,n){this.k=e,this.x=t,this.y=n}jn.prototype={constructor:jn,scale:function(e){return e===1?this:new jn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new jn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Po=new jn(1,0,0);jn.prototype;function yl(e){e.stopImmediatePropagation()}function Xo(e){e.preventDefault(),e.stopImmediatePropagation()}function UI(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function HI(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Gd(){return this.__zoom||Po}function VI(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function zI(){return navigator.maxTouchPoints||"ontouchstart"in this}function WI(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function jI(){var e=UI,t=HI,n=WI,r=VI,o=zI,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=kx,c=La("start","zoom","end"),u,f,d,h=500,m=150,p=0,w=10;function v(L){L.property("__zoom",Gd).on("wheel.zoom",B,{passive:!1}).on("mousedown.zoom",V).on("dblclick.zoom",J).filter(o).on("touchstart.zoom",Y).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",oe).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(L,G,$,W){var K=L.selection?L.selection():L;K.property("__zoom",Gd),L!==K?M(L,G,$,W):K.interrupt().each(function(){F(this,arguments).event(W).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},v.scaleBy=function(L,G,$,W){v.scaleTo(L,function(){var K=this.__zoom.k,ne=typeof G=="function"?G.apply(this,arguments):G;return K*ne},$,W)},v.scaleTo=function(L,G,$,W){v.transform(L,function(){var K=t.apply(this,arguments),ne=this.__zoom,re=$==null?y(K):typeof $=="function"?$.apply(this,arguments):$,se=ne.invert(re),ee=typeof G=="function"?G.apply(this,arguments):G;return n(_(E(ne,ee),re,se),K,s)},$,W)},v.translateBy=function(L,G,$,W){v.transform(L,function(){return n(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof $=="function"?$.apply(this,arguments):$),t.apply(this,arguments),s)},null,W)},v.translateTo=function(L,G,$,W,K){v.transform(L,function(){var ne=t.apply(this,arguments),re=this.__zoom,se=W==null?y(ne):typeof W=="function"?W.apply(this,arguments):W;return n(Po.translate(se[0],se[1]).scale(re.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof $=="function"?-$.apply(this,arguments):-$),ne,s)},W,K)};function E(L,G){return G=Math.max(i[0],Math.min(i[1],G)),G===L.k?L:new jn(G,L.x,L.y)}function _(L,G,$){var W=G[0]-$[0]*L.k,K=G[1]-$[1]*L.k;return W===L.x&&K===L.y?L:new jn(L.k,W,K)}function y(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function M(L,G,$,W){L.on("start.zoom",function(){F(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(W).end()}).tween("zoom",function(){var K=this,ne=arguments,re=F(K,ne).event(W),se=t.apply(K,ne),ee=$==null?y(se):typeof $=="function"?$.apply(K,ne):$,ie=Math.max(se[1][0]-se[0][0],se[1][1]-se[0][1]),le=K.__zoom,_e=typeof G=="function"?G.apply(K,ne):G,ye=l(le.invert(ee).concat(ie/le.k),_e.invert(ee).concat(ie/_e.k));return function(U){if(U===1)U=_e;else{var Q=ye(U),X=ie/Q[2];U=new jn(X,ee[0]-Q[0]*X,ee[1]-Q[1]*X)}re.zoom(null,U)}})}function F(L,G,$){return!$&&L.__zooming||new A(L,G)}function A(L,G){this.that=L,this.args=G,this.active=0,this.sourceEvent=null,this.extent=t.apply(L,G),this.taps=0}A.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,G){return this.mouse&&L!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var G=ln(this.that).datum();c.call(L,this.that,new BI(L,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:c}),G)}};function B(L,...G){if(!e.apply(this,arguments))return;var $=F(this,G).event(L),W=this.__zoom,K=Math.max(i[0],Math.min(i[1],W.k*Math.pow(2,r.apply(this,arguments)))),ne=En(L);if($.wheel)($.mouse[0][0]!==ne[0]||$.mouse[0][1]!==ne[1])&&($.mouse[1]=W.invert($.mouse[0]=ne)),clearTimeout($.wheel);else{if(W.k===K)return;$.mouse=[ne,W.invert(ne)],Rs(this),$.start()}Xo(L),$.wheel=setTimeout(re,m),$.zoom("mouse",n(_(E(W,K),$.mouse[0],$.mouse[1]),$.extent,s));function re(){$.wheel=null,$.end()}}function V(L,...G){if(d||!e.apply(this,arguments))return;var $=L.currentTarget,W=F(this,G,!0).event(L),K=ln(L.view).on("mousemove.zoom",ee,!0).on("mouseup.zoom",ie,!0),ne=En(L,$),re=L.clientX,se=L.clientY;_m(L.view),yl(L),W.mouse=[ne,this.__zoom.invert(ne)],Rs(this),W.start();function ee(le){if(Xo(le),!W.moved){var _e=le.clientX-re,ye=le.clientY-se;W.moved=_e*_e+ye*ye>p}W.event(le).zoom("mouse",n(_(W.that.__zoom,W.mouse[0]=En(le,$),W.mouse[1]),W.extent,s))}function ie(le){K.on("mousemove.zoom mouseup.zoom",null),vm(le.view,W.moved),Xo(le),W.event(le).end()}}function J(L,...G){if(e.apply(this,arguments)){var $=this.__zoom,W=En(L.changedTouches?L.changedTouches[0]:L,this),K=$.invert(W),ne=$.k*(L.shiftKey?.5:2),re=n(_(E($,ne),W,K),t.apply(this,G),s);Xo(L),a>0?ln(this).transition().duration(a).call(M,re,W,L):ln(this).call(v.transform,re,W,L)}}function Y(L,...G){if(e.apply(this,arguments)){var $=L.touches,W=$.length,K=F(this,G,L.changedTouches.length===W).event(L),ne,re,se,ee;for(yl(L),re=0;re<W;++re)se=$[re],ee=En(se,this),ee=[ee,this.__zoom.invert(ee),se.identifier],K.touch0?!K.touch1&&K.touch0[2]!==ee[2]&&(K.touch1=ee,K.taps=0):(K.touch0=ee,ne=!0,K.taps=1+!!u);u&&(u=clearTimeout(u)),ne&&(K.taps<2&&(f=ee[0],u=setTimeout(function(){u=null},h)),Rs(this),K.start())}}function P(L,...G){if(this.__zooming){var $=F(this,G).event(L),W=L.changedTouches,K=W.length,ne,re,se,ee;for(Xo(L),ne=0;ne<K;++ne)re=W[ne],se=En(re,this),$.touch0&&$.touch0[2]===re.identifier?$.touch0[0]=se:$.touch1&&$.touch1[2]===re.identifier&&($.touch1[0]=se);if(re=$.that.__zoom,$.touch1){var ie=$.touch0[0],le=$.touch0[1],_e=$.touch1[0],ye=$.touch1[1],U=(U=_e[0]-ie[0])*U+(U=_e[1]-ie[1])*U,Q=(Q=ye[0]-le[0])*Q+(Q=ye[1]-le[1])*Q;re=E(re,Math.sqrt(U/Q)),se=[(ie[0]+_e[0])/2,(ie[1]+_e[1])/2],ee=[(le[0]+ye[0])/2,(le[1]+ye[1])/2]}else if($.touch0)se=$.touch0[0],ee=$.touch0[1];else return;$.zoom("touch",n(_(re,se,ee),$.extent,s))}}function oe(L,...G){if(this.__zooming){var $=F(this,G).event(L),W=L.changedTouches,K=W.length,ne,re;for(yl(L),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),ne=0;ne<K;++ne)re=W[ne],$.touch0&&$.touch0[2]===re.identifier?delete $.touch0:$.touch1&&$.touch1[2]===re.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(re=En(re,this),Math.hypot(f[0]-re[0],f[1]-re[1])<w)){var se=ln(this).on("dblclick.zoom");se&&se.apply(this,arguments)}}}return v.wheelDelta=function(L){return arguments.length?(r=typeof L=="function"?L:_s(+L),v):r},v.filter=function(L){return arguments.length?(e=typeof L=="function"?L:_s(!!L),v):e},v.touchable=function(L){return arguments.length?(o=typeof L=="function"?L:_s(!!L),v):o},v.extent=function(L){return arguments.length?(t=typeof L=="function"?L:_s([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),v):t},v.scaleExtent=function(L){return arguments.length?(i[0]=+L[0],i[1]=+L[1],v):[i[0],i[1]]},v.translateExtent=function(L){return arguments.length?(s[0][0]=+L[0][0],s[1][0]=+L[1][0],s[0][1]=+L[0][1],s[1][1]=+L[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(L){return arguments.length?(n=L,v):n},v.duration=function(L){return arguments.length?(a=+L,v):a},v.interpolate=function(L){return arguments.length?(l=L,v):l},v.on=function(){var L=c.on.apply(c,arguments);return L===c?v:L},v.clickDistance=function(L){return arguments.length?(p=(L=+L)*L,v):Math.sqrt(p)},v.tapDistance=function(L){return arguments.length?(w=+L,v):w},v}var ge=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(ge||{}),Tu=(e=>(e.Partial="partial",e.Full="full",e))(Tu||{}),Lr=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Lr||{}),Sr=(e=>(e.Strict="strict",e.Loose="loose",e))(Sr||{}),xc=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(xc||{}),ui=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(ui||{});function Ic(e){var t,n;const r=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,o=typeof(r==null?void 0:r.hasAttribute)=="function"?r.hasAttribute("contenteditable"):!1,i=typeof(r==null?void 0:r.closest)=="function"?r.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||o||!!i}function GI(e){return e.ctrlKey||e.metaKey||e.shiftKey}function qd(e,t,n,r){const o=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(s=>s.trim().toLowerCase());if(o.length===1)return e.toLowerCase()===t.toLowerCase();r||n.add(e.toLowerCase());const i=o.every((s,a)=>n.has(s)&&Array.from(n.values())[a]===o[a]);return r&&n.delete(e.toLowerCase()),i}function qI(e,t){return n=>{if(!n.code&&!n.key)return!1;const r=YI(n.code,e);return Array.isArray(e)?e.some(o=>qd(n[r],o,t,n.type==="keyup")):qd(n[r],e,t,n.type==="keyup")}}function YI(e,t){return t.includes(e)?"code":"key"}function fi(e,t){const n=Ze(()=>Re(t==null?void 0:t.actInsideInputWithModifier)??!1),r=Ze(()=>Re(t==null?void 0:t.target)??window),o=Ie(Re(e)===!0);let i=!1;const s=new Set;let a=c(Re(e));Ne(()=>Re(e),(u,f)=>{typeof f=="boolean"&&typeof u!="boolean"&&l(),a=c(u)},{immediate:!0}),om(["blur","contextmenu"],l),Nd((...u)=>a(...u),u=>{i=GI(u),!((!i||i&&!n.value)&&Ic(u))&&(u.preventDefault(),o.value=!0)},{eventName:"keydown",target:r}),Nd((...u)=>a(...u),u=>{if(o.value){if((!i||i&&!n.value)&&Ic(u))return;i=!1,o.value=!1}},{eventName:"keyup",target:r});function l(){i=!1,s.clear(),o.value=Re(e)===!0}function c(u){return u===null?(l(),()=>!1):typeof u=="boolean"?(l(),o.value=u,()=>!1):Array.isArray(u)||typeof u=="string"?qI(u,s):u}return o}const Pm="vue-flow__node-desc",Rm="vue-flow__edge-desc",KI="vue-flow__aria-live",Am=["Enter"," ","Escape"],bo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Js(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function Qs(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)}function Ua(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Yr(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Dm(e,t){return{x:Yr(e.x,t[0][0],t[1][0]),y:Yr(e.y,t[0][1],t[1][1])}}function Yd(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function Er(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function jr(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!Er(e)}function ti(e){return jr(e)&&"computedPosition"in e}function vs(e){return!Number.isNaN(e)&&Number.isFinite(e)}function XI(e){return vs(e.width)&&vs(e.height)&&vs(e.x)&&vs(e.y)}function ZI(e,t,n){const r={id:e.id.toString(),type:e.type??"default",dimensions:_r({width:0,height:0}),computedPosition:_r({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:ut(e.data)?e.data:{},events:_r(ut(e.events)?e.events:{})};return Object.assign(t??r,e,{id:e.id.toString(),parentNode:n})}function Lm(e,t,n){var r,o;const i={id:e.id.toString(),type:e.type??(t==null?void 0:t.type)??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(r=e.sourceHandle)==null?void 0:r.toString(),targetHandle:(o=e.targetHandle)==null?void 0:o.toString(),updatable:e.updatable??(n==null?void 0:n.updatable),selectable:e.selectable??(n==null?void 0:n.selectable),focusable:e.focusable??(n==null?void 0:n.focusable),data:ut(e.data)?e.data:{},events:_r(ut(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??(n==null?void 0:n.interactionWidth),...n??{}};return Object.assign(t??i,e,{id:e.id.toString()})}function $m(e,t,n,r){const o=typeof e=="string"?e:e.id,i=new Set,s=r==="source"?"target":"source";for(const a of n)a[s]===o&&i.add(a[r]);return t.filter(a=>i.has(a.id))}function JI(...e){if(e.length===3){const[i,s,a]=e;return $m(i,s,a,"target")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(i=>Er(i)&&i.source===r).map(i=>n.find(s=>jr(s)&&s.id===i.target))}function QI(...e){if(e.length===3){const[i,s,a]=e;return $m(i,s,a,"source")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(i=>Er(i)&&i.target===r).map(i=>n.find(s=>jr(s)&&s.id===i.source))}function Fm({source:e,sourceHandle:t,target:n,targetHandle:r}){return`vueflow__edge-${e}${t??""}-${n}${r??""}`}function e1(e,t){return t.some(n=>Er(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function kc({x:e,y:t},{x:n,y:r,zoom:o}){return{x:e*o+n,y:t*o+r}}function Di({x:e,y:t},{x:n,y:r,zoom:o},i=!1,s=[1,1]){const a={x:(e-n)/o,y:(t-r)/o};return i?Ha(a,s):a}function t1(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function Bm({x:e,y:t,width:n,height:r}){return{x:e,y:t,x2:e+n,y2:t+r}}function n1({x:e,y:t,x2:n,y2:r}){return{x:e,y:t,width:n-e,height:r-t}}function Um(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const r=e[n];t=t1(t,Bm({...r.computedPosition,...r.dimensions}))}return n1(t)}function Hm(e,t,n={x:0,y:0,zoom:1},r=!1,o=!1){const i={...Di(t,n),width:t.width/n.zoom,height:t.height/n.zoom},s=[];for(const a of e){const{dimensions:l,selectable:c=!0,hidden:u=!1}=a,f=l.width??a.width??null,d=l.height??a.height??null;if(o&&!c||u)continue;const h=Qs(i,Js(a)),m=f===null||d===null,p=r&&h>0,w=(f??0)*(d??0);(m||p||h>=w||a.dragging)&&s.push(a)}return s}function Vm(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const r of e)n.add(r.id);return t.filter(r=>n.has(r.source)||n.has(r.target))}function Kd(e,t,n,r,o,i=.1,s={x:0,y:0}){const a=t/(e.width*(1+i)),l=n/(e.height*(1+i)),c=Math.min(a,l),u=Yr(c,r,o),f=e.x+e.width/2,d=e.y+e.height/2,h=t/2-f*u+(s.x??0),m=n/2-d*u+(s.y??0);return{x:h,y:m,zoom:u}}function r1(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function zm(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:zm(n,t):!1}function Li(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`}function Xd(e,t,n){return e<t?Yr(Math.abs(e-t),1,t)/t:e>n?-Yr(Math.abs(e-n),1,t)/t:0}function Wm(e,t,n=15,r=40){const o=Xd(e.x,r,t.width-r)*n,i=Xd(e.y,r,t.height-r)*n;return[o,i]}function bl(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,r=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||r>0||e.position.x<0||e.position.y<0){let o={};if(typeof t.style=="function"?o={...t.style(t)}:t.style&&(o={...t.style}),o.width=o.width??`${t.dimensions.width}px`,o.height=o.height??`${t.dimensions.height}px`,n>0)if(typeof o.width=="string"){const i=Number(o.width.replace("px",""));o.width=`${i+n}px`}else o.width+=n;if(r>0)if(typeof o.height=="string"){const i=Number(o.height.replace("px",""));o.height=`${i+r}px`}else o.height+=r;if(e.position.x<0){const i=Math.abs(e.position.x);if(t.position.x=t.position.x-i,typeof o.width=="string"){const s=Number(o.width.replace("px",""));o.width=`${s+i}px`}else o.width+=i;e.position.x=0}if(e.position.y<0){const i=Math.abs(e.position.y);if(t.position.y=t.position.y-i,typeof o.height=="string"){const s=Number(o.height.replace("px",""));o.height=`${s+i}px`}else o.height+=i;e.position.y=0}t.dimensions.width=Number(o.width.toString().replace("px","")),t.dimensions.height=Number(o.height.toString().replace("px","")),typeof t.style=="function"?t.style=i=>{const s=t.style;return{...s(i),...o}}:t.style={...t.style,...o}}}}function Zd(e,t){var n,r;const o=e.filter(s=>s.type==="add"||s.type==="remove");for(const s of o)if(s.type==="add")t.findIndex(l=>l.id===s.item.id)===-1&&t.push(s.item);else if(s.type==="remove"){const a=t.findIndex(l=>l.id===s.id);a!==-1&&t.splice(a,1)}const i=t.map(s=>s.id);for(const s of t)for(const a of e)if(a.id===s.id)switch(a.type){case"select":s.selected=a.selected;break;case"position":if(ti(s)&&(typeof a.position<"u"&&(s.position=a.position),typeof a.dragging<"u"&&(s.dragging=a.dragging),s.expandParent&&s.parentNode)){const l=t[i.indexOf(s.parentNode)];l&&ti(l)&&bl(s,l)}break;case"dimensions":if(ti(s)&&(typeof a.dimensions<"u"&&(s.dimensions=a.dimensions),typeof a.updateStyle<"u"&&a.updateStyle&&(s.style={...s.style||{},width:`${(n=a.dimensions)==null?void 0:n.width}px`,height:`${(r=a.dimensions)==null?void 0:r.height}px`}),typeof a.resizing<"u"&&(s.resizing=a.resizing),s.expandParent&&s.parentNode)){const l=t[i.indexOf(s.parentNode)];l&&ti(l)&&(!!l.dimensions.width&&!!l.dimensions.height?bl(s,l):tn(()=>{bl(s,l)}))}break}return t}function ir(e,t){return{id:e,type:"select",selected:t}}function Jd(e){return{item:e,type:"add"}}function Qd(e){return{id:e,type:"remove"}}function eh(e,t,n,r,o){return{id:e,source:t,target:n,sourceHandle:r||null,targetHandle:o||null,type:"remove"}}function cr(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(ir(i.id,s)))}return r}function de(e){const t=new Set;let n=!1;const r=()=>t.size>0;e&&(n=!0,t.add(e));const o=a=>{t.delete(a)};return{on:a=>{e&&n&&t.delete(e),t.add(a);const l=()=>{o(a),e&&n&&t.add(e)};return Da(l),{off:l}},off:o,trigger:a=>Promise.all(Array.from(t).map(l=>l(a))),hasListeners:r,fns:t}}function th(e,t,n){let r=e;do{if(r&&r.matches(t))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function o1(e,t,n,r,o){var i,s;const a=[];for(const l of e)(l.selected||l.id===o)&&(!l.parentNode||!zm(l,r))&&(l.draggable||t&&typeof l.draggable>"u")&&a.push(_r({id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-((i=l.computedPosition)==null?void 0:i.x)||0,y:n.y-((s=l.computedPosition)==null?void 0:s.y)||0},from:l.computedPosition,extent:l.extent,parentNode:l.parentNode,dimensions:l.dimensions,expandParent:l.expandParent}));return a}function Sl({id:e,dragItems:t,findNode:n}){const r=[];for(const o of t){const i=n(o.id);i&&r.push(i)}return[e?r.find(o=>o.id===e):r[0],r]}function jm(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function i1(e,t,n){const[r,o,i,s]=typeof e!="string"?jm(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+s,n.computedPosition.y+r],[n.computedPosition.x+n.dimensions.width-o,n.computedPosition.y+n.dimensions.height-i]]:!1}function s1(e,t,n,r){let o=e.extent||n;if((o==="parent"||!Array.isArray(o)&&(o==null?void 0:o.range)==="parent")&&!e.expandParent)if(e.parentNode&&r&&e.dimensions.width&&e.dimensions.height){const i=i1(o,e,r);i&&(o=i)}else t(new _t(pt.NODE_EXTENT_INVALID,e.id)),o=n;else if(Array.isArray(o)){const i=(r==null?void 0:r.computedPosition.x)||0,s=(r==null?void 0:r.computedPosition.y)||0;o=[[o[0][0]+i,o[0][1]+s],[o[1][0]+i,o[1][1]+s]]}else if(o!=="parent"&&(o!=null&&o.range)&&Array.isArray(o.range)){const[i,s,a,l]=jm(o.padding),c=(r==null?void 0:r.computedPosition.x)||0,u=(r==null?void 0:r.computedPosition.y)||0;o=[[o.range[0][0]+c+l,o.range[0][1]+u+i],[o.range[1][0]+c-s,o.range[1][1]+u-a]]}return o==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:o}function a1({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function Ou(e,t,n,r,o){const i=a1(e.dimensions,s1(e,n,r,o)),s=Dm(t,i);return{position:{x:s.x-((o==null?void 0:o.computedPosition.x)||0),y:s.y-((o==null?void 0:o.computedPosition.y)||0)},computedPosition:s}}function Ro(e,t,n=ge.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.computedPosition.x,i=((t==null?void 0:t.y)??0)+e.computedPosition.y,{width:s,height:a}=t??u1(e);if(r)return{x:o+s/2,y:i+a/2};switch((t==null?void 0:t.position)??n){case ge.Top:return{x:o+s/2,y:i};case ge.Right:return{x:o+s,y:i+a/2};case ge.Bottom:return{x:o+s/2,y:i+a};case ge.Left:return{x:o,y:i+a/2}}}function nh(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function l1({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:s,height:a,viewport:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=Bm({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:s/l.zoom,height:a/l.zoom}),f=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),d=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(f*d)>0}function c1(e,t,n=!1){const r=typeof e.zIndex=="number";let o=r?e.zIndex:0;const i=t(e.source),s=t(e.target);return!i||!s?0:(n&&(o=r?e.zIndex:Math.max(i.computedPosition.z||0,s.computedPosition.z||0)),o)}var pt=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(pt||{});const rh={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class _t extends Error{constructor(t,...n){var r;super((r=rh[t])==null?void 0:r.call(rh,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function Mu(e){return"clientX"in e}function Gm(e){return"sourceEvent"in e}function vr(e,t){var n,r;const o=Mu(e),i=o?e.clientX:(n=e.touches)==null?void 0:n[0].clientX,s=o?e.clientY:(r=e.touches)==null?void 0:r[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}}const ea=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function u1(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function Ha(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const f1=()=>!0;function El(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function d1(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())Qs(o,Js(i))>0&&r.push(i);return r}const h1=250;function p1(e,t,n,r){var o,i;let s=[],a=Number.POSITIVE_INFINITY;const l=d1(e,n,t+h1);for(const c of l){const u=[...((o=c.handleBounds)==null?void 0:o.source)??[],...((i=c.handleBounds)==null?void 0:i.target)??[]];for(const f of u){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:h}=Ro(c,f,f.position,!0),m=Math.sqrt((d-e.x)**2+(h-e.y)**2);m>t||(m<a?(s=[{...f,x:d,y:h}],a=m):m===a&&s.push({...f,x:d,y:h}))}}if(!s.length)return null;if(s.length>1){const c=r.type==="source"?"target":"source";return s.find(u=>u.type===c)??s[0]}return s[0]}function oh(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:a,flowId:l,isValidConnection:c=f1},u,f,d){const h=i==="target",m=t?s.querySelector(`.${a}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:p,y:w}=vr(e),v=s.elementFromPoint(p,w),E=v!=null&&v.classList.contains(`${a}-flow__handle`)?v:m,_={handleDomNode:E,isValid:!1,connection:null,toHandle:null};if(E){const y=qm(void 0,E),M=E.getAttribute("data-nodeid"),F=E.getAttribute("data-handleid"),A=E.classList.contains("connectable"),B=E.classList.contains("connectableend");if(!M||!y)return _;const V={source:h?M:r,sourceHandle:h?F:o,target:h?r:M,targetHandle:h?o:F};_.connection=V;const Y=A&&B&&(n===Sr.Strict?h&&y==="source"||!h&&y==="target":M!==r||F!==o);_.isValid=Y&&c(V,{nodes:f,edges:u,sourceNode:d(r),targetNode:d(M)}),_.toHandle=t}return _}function qm(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function g1(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function m1(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function _1(e,t,n,r,o,i=!1){var s,a,l;const c=r.get(e);if(!c)return null;const u=o===Sr.Strict?(s=c.handleBounds)==null?void 0:s[t]:[...((a=c.handleBounds)==null?void 0:a.source)??[],...((l=c.handleBounds)==null?void 0:l.target)??[]],f=(n?u==null?void 0:u.find(d=>d.id===n):u==null?void 0:u[0])??null;return f&&i?{...f,...Ro(c,f,f.position,!0)}:f}const Nc={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top},v1=["production","prod"];function Va(e,...t){Ym()&&console.warn(`[Vue Flow]: ${e}`,...t)}function Ym(){return!v1.includes("production")}function ih(e,t,n,r){const o=t.querySelectorAll(`.vue-flow__handle.${e}`);return Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),position:s.getAttribute("data-handlepos"),nodeId:s.getAttribute("data-nodeid"),type:e,x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Ua(s)}})}function Tc(e,t,n,r,o,i=!1,s){o.value=!1,e.selected?(i||e.selected&&t)&&(r([e]),tn(()=>{s.blur()})):n([e])}function ut(e){return typeof ue(e)<"u"}function y1(e,t,n,r){if(!e||!e.source||!e.target)return n(new _t(pt.EDGE_INVALID,(e==null?void 0:e.id)??"[ID UNKNOWN]")),!1;let o;return Er(e)?o=e:o={...e,id:Fm(e)},o=Lm(o,void 0,r),e1(o,t)?!1:o}function b1(e,t,n,r,o){if(!t.source||!t.target)return o(new _t(pt.EDGE_INVALID,e.id)),!1;if(!n)return o(new _t(pt.EDGE_NOT_FOUND,e.id)),!1;const{id:i,...s}=e;return{...s,id:r?Fm(t):i,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function sh(e,t,n){const r={},o=[];for(let i=0;i<e.length;++i){const s=e[i];if(!jr(s)){n(new _t(pt.NODE_INVALID,s==null?void 0:s.id)||`[ID UNKNOWN|INDEX ${i}]`);continue}const a=ZI(s,t(s.id),s.parentNode);s.parentNode&&(r[s.parentNode]=!0),o[i]=a}for(const i of o){const s=t(i.parentNode)||o.find(a=>a.id===i.parentNode);i.parentNode&&!s&&n(new _t(pt.NODE_MISSING_PARENT,i.id,i.parentNode)),(i.parentNode||r[i.id])&&(r[i.id]&&(i.isParent=!0),s&&(s.isParent=!0))}return o}function ah(e,t,n,r,o,i){let s=o;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${o}-${e}`;const l=r.get(s)||new Map;if(r.set(s,l.set(n,t)),i){s=`${o}-${e}-${i}`;const c=r.get(s)||new Map;r.set(s,c.set(n,t))}}function wl(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:a=null}=r,l={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:a},c=`${o}-${s}--${i}-${a}`,u=`${i}-${a}--${o}-${s}`;ah("source",l,u,e,o,s),ah("target",l,c,e,i,a),t.set(r.id,r)}}function lh(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Cl(e,t,n,r,o,i,s,a){const l=[];for(const c of e){const u=Er(c)?c:y1(c,a,o,i);if(!u)continue;const f=n(u.source),d=n(u.target);if(!f||!d){o(new _t(pt.EDGE_SOURCE_TARGET_MISSING,u.id,u.source,u.target));continue}if(!f){o(new _t(pt.EDGE_SOURCE_MISSING,u.id,u.source));continue}if(!d){o(new _t(pt.EDGE_TARGET_MISSING,u.id,u.target));continue}if(t&&!t(u,{edges:a,nodes:s,sourceNode:f,targetNode:d})){o(new _t(pt.EDGE_INVALID,u.id));continue}const h=r(u.id);l.push({...Lm(u,h,i),sourceNode:f,targetNode:d})}return l}const ch=Symbol("vueFlow"),Km=Symbol("nodeId"),Xm=Symbol("nodeRef"),S1=Symbol("edgeId"),E1=Symbol("edgeRef"),za=Symbol("slots");function Zm(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:r,noDragClassName:o,nodes:i,nodeExtent:s,nodeDragThreshold:a,viewport:l,autoPanOnNodeDrag:c,autoPanSpeed:u,nodesDraggable:f,panBy:d,findNode:h,multiSelectionActive:m,nodesSelectionActive:p,selectNodesOnDrag:w,removeSelectedElements:v,addSelectedNodes:E,updateNodePositions:_,emits:y}=rt(),{onStart:M,onDrag:F,onStop:A,onClick:B,el:V,disabled:J,id:Y,selectable:P,dragHandle:oe}=e,L=Ie(!1);let G=[],$,W=null,K={x:void 0,y:void 0},ne={x:0,y:0},re=null,se=!1,ee=0,ie=!1;const le=x1(),_e=({x:q,y:N})=>{K={x:q,y:N};let T=!1;if(G=G.map(S=>{const C={x:q-S.distance.x,y:N-S.distance.y},{computedPosition:I}=Ou(S,n.value?Ha(C,r.value):C,y.error,s.value,S.parentNode?h(S.parentNode):void 0);return T=T||S.position.x!==I.x||S.position.y!==I.y,S.position=I,S}),!!T&&(_(G,!0,!0),L.value=!0,re)){const[S,C]=Sl({id:Y,dragItems:G,findNode:h});F({event:re,node:S,nodes:C})}},ye=()=>{if(!W)return;const[q,N]=Wm(ne,W,u.value);if(q!==0||N!==0){const T={x:(K.x??0)-q/l.value.zoom,y:(K.y??0)-N/l.value.zoom};d({x:q,y:N})&&_e(T)}ee=requestAnimationFrame(ye)},U=(q,N)=>{se=!0;const T=h(Y);!w.value&&!m.value&&T&&(T.selected||v()),T&&Re(P)&&w.value&&Tc(T,m.value,E,v,p,!1,N);const S=le(q.sourceEvent);if(K=S,G=o1(i.value,f.value,S,h,Y),G.length){const[C,I]=Sl({id:Y,dragItems:G,findNode:h});M({event:q.sourceEvent,node:C,nodes:I})}},Q=(q,N)=>{var T;q.sourceEvent.type==="touchmove"&&q.sourceEvent.touches.length>1||(a.value===0&&U(q,N),K=le(q.sourceEvent),W=((T=t.value)==null?void 0:T.getBoundingClientRect())||null,ne=vr(q.sourceEvent,W))},X=(q,N)=>{const T=le(q.sourceEvent);if(!ie&&se&&c.value&&(ie=!0,ye()),!se){const S=T.xSnapped-(K.x??0),C=T.ySnapped-(K.y??0);Math.sqrt(S*S+C*C)>a.value&&U(q,N)}(K.x!==T.xSnapped||K.y!==T.ySnapped)&&G.length&&se&&(re=q.sourceEvent,ne=vr(q.sourceEvent,W),_e(T))},te=q=>{if(!Gm(q)&&!se&&!L.value&&!m.value){const N=q,T=le(N),S=T.xSnapped-(K.x??0),C=T.ySnapped-(K.y??0),I=Math.sqrt(S*S+C*C);I!==0&&I<=a.value&&(B==null||B(N));return}if(L.value=!1,ie=!1,se=!1,K={x:void 0,y:void 0},cancelAnimationFrame(ee),G.length){_(G,!1,!1);const[N,T]=Sl({id:Y,dragItems:G,findNode:h});A({event:q.sourceEvent,node:N,nodes:T})}};return Ne([()=>Re(J),V],([q,N],T,S)=>{if(N){const C=ln(N);q||($=tx().on("start",I=>Q(I,N)).on("drag",I=>X(I,N)).on("end",I=>te(I)).filter(I=>{const k=I.target,b=Re(oe);return!I.button&&(!o.value||!th(k,`.${o.value}`,N)&&(!b||th(k,b,N)))}),C.call($)),S(()=>{C.on(".drag",null),$&&($.on("start",null),$.on("drag",null),$.on("end",null))})}}),L}function w1(){return{doubleClick:de(),click:de(),mouseEnter:de(),mouseMove:de(),mouseLeave:de(),contextMenu:de(),updateStart:de(),update:de(),updateEnd:de()}}function C1(e,t){const n=w1();return n.doubleClick.on(r=>{var o,i;t.edgeDoubleClick(r),(i=(o=e.events)==null?void 0:o.doubleClick)==null||i.call(o,r)}),n.click.on(r=>{var o,i;t.edgeClick(r),(i=(o=e.events)==null?void 0:o.click)==null||i.call(o,r)}),n.mouseEnter.on(r=>{var o,i;t.edgeMouseEnter(r),(i=(o=e.events)==null?void 0:o.mouseEnter)==null||i.call(o,r)}),n.mouseMove.on(r=>{var o,i;t.edgeMouseMove(r),(i=(o=e.events)==null?void 0:o.mouseMove)==null||i.call(o,r)}),n.mouseLeave.on(r=>{var o,i;t.edgeMouseLeave(r),(i=(o=e.events)==null?void 0:o.mouseLeave)==null||i.call(o,r)}),n.contextMenu.on(r=>{var o,i;t.edgeContextMenu(r),(i=(o=e.events)==null?void 0:o.contextMenu)==null||i.call(o,r)}),n.updateStart.on(r=>{var o,i;t.edgeUpdateStart(r),(i=(o=e.events)==null?void 0:o.updateStart)==null||i.call(o,r)}),n.update.on(r=>{var o,i;t.edgeUpdate(r),(i=(o=e.events)==null?void 0:o.update)==null||i.call(o,r)}),n.updateEnd.on(r=>{var o,i;t.edgeUpdateEnd(r),(i=(o=e.events)==null?void 0:o.updateEnd)==null||i.call(o,r)}),Object.entries(n).reduce((r,[o,i])=>(r.emit[o]=i.trigger,r.on[o]=i.on,r),{emit:{},on:{}})}function x1(){const{viewport:e,snapGrid:t,snapToGrid:n}=rt();return r=>{const o=Gm(r)?r.sourceEvent:r,{x:i,y:s}=vr(o),a=Di({x:i,y:s},e.value),{x:l,y:c}=n.value?Ha(a,t.value):a;return{xSnapped:l,ySnapped:c,...a}}}function ys(){return!0}function Jm({handleId:e,nodeId:t,type:n,isValidConnection:r,edgeUpdaterType:o,onEdgeUpdate:i,onEdgeUpdateEnd:s}){const{id:a,vueFlowRef:l,connectionMode:c,connectionRadius:u,connectOnClick:f,connectionClickStartHandle:d,nodesConnectable:h,autoPanOnConnect:m,autoPanSpeed:p,findNode:w,panBy:v,startConnection:E,updateConnection:_,endConnection:y,emits:M,viewport:F,edges:A,nodes:B,isValidConnection:V,nodeLookup:J}=rt();let Y=null,P=!1,oe=null;function L($){var W;const K=Re(n)==="target",ne=Mu($),re=Yd($.target);if(ne&&$.button===0||!ne){let se=function(Z){S=vr(Z,q),_e=p1(Di(S,F.value,!1,[1,1]),u.value,J.value,k),C||(I(),C=!0);const j=oh(Z,{handle:_e,connectionMode:c.value,fromNodeId:Re(t),fromHandleId:Re(e),fromType:K?"target":"source",isValidConnection:le,doc:re,lib:"vue",flowId:a,nodeLookup:J.value},A.value,B.value,w);oe=j.handleDomNode,Y=j.connection,P=m1(!!_e,j.isValid);const R={...D,isValid:P,to:_e&&P?kc({x:_e.x,y:_e.y},F.value):S,toHandle:j.toHandle,toPosition:P&&j.toHandle?j.toHandle.position:Nc[k.position],toNode:j.toHandle?J.value.get(j.toHandle.nodeId):null};if(!(P&&_e&&(D!=null&&D.toHandle)&&R.toHandle&&D.toHandle.type===R.toHandle.type&&D.toHandle.nodeId===R.toHandle.nodeId&&D.toHandle.id===R.toHandle.id&&D.to.x===R.to.x&&D.to.y===R.to.y)){if(_(_e&&P?kc({x:_e.x,y:_e.y},F.value):S,j.toHandle,g1(!!_e,P)),D=R,!_e&&!P&&!oe)return El(T);Y&&Y.source!==Y.target&&oe&&(El(T),T=oe,oe.classList.add("connecting","vue-flow__handle-connecting"),oe.classList.toggle("valid",!!P),oe.classList.toggle("vue-flow__handle-valid",!!P))}},ee=function(Z){(_e||oe)&&Y&&P&&(i?i(Z,Y):M.connect(Y)),M.connectEnd(Z),o&&(s==null||s(Z)),El(T),cancelAnimationFrame(ye),y(Z),C=!1,P=!1,Y=null,oe=null,re.removeEventListener("mousemove",se),re.removeEventListener("mouseup",ee),re.removeEventListener("touchmove",se),re.removeEventListener("touchend",ee)};const ie=w(Re(t));let le=Re(r)||V.value||ys;!le&&ie&&(le=(K?ie.isValidSourcePos:ie.isValidTargetPos)||ys);let _e,ye=0;const{x:U,y:Q}=vr($),X=re==null?void 0:re.elementFromPoint(U,Q),te=qm(Re(o),X),q=(W=l.value)==null?void 0:W.getBoundingClientRect();if(!q||!te)return;const N=_1(Re(t),te,Re(e),J.value,c.value);if(!N)return;let T,S=vr($,q),C=!1;const I=()=>{if(!m.value)return;const[Z,j]=Wm(S,q,p.value);v({x:Z,y:j}),ye=requestAnimationFrame(I)},k={...N,nodeId:Re(t),type:te,position:N.position},b=J.value.get(Re(t)),O={inProgress:!0,isValid:null,from:Ro(b,k,ge.Left,!0),fromHandle:k,fromPosition:k.position,fromNode:b,to:S,toHandle:null,toPosition:Nc[k.position],toNode:null};E({nodeId:Re(t),id:Re(e),type:te,position:(X==null?void 0:X.getAttribute("data-handlepos"))||ge.Top},{x:U-q.left,y:Q-q.top}),M.connectStart({event:$,nodeId:Re(t),handleId:Re(e),handleType:te});let D=O;re.addEventListener("mousemove",se),re.addEventListener("mouseup",ee),re.addEventListener("touchmove",se),re.addEventListener("touchend",ee)}}function G($){var W,K;if(!f.value)return;const ne=Re(n)==="target";if(!d.value){M.clickConnectStart({event:$,nodeId:Re(t),handleId:Re(e)}),E({nodeId:Re(t),type:Re(n),id:Re(e),position:ge.Top},void 0,!0);return}let re=Re(r)||V.value||ys;const se=w(Re(t));if(!re&&se&&(re=(ne?se.isValidSourcePos:se.isValidTargetPos)||ys),se&&(typeof se.connectable>"u"?h.value:se.connectable)===!1)return;const ee=Yd($.target),ie=oh($,{handle:{nodeId:Re(t),id:Re(e),type:Re(n),position:ge.Top},connectionMode:c.value,fromNodeId:d.value.nodeId,fromHandleId:d.value.id||null,fromType:d.value.type,isValidConnection:re,doc:ee,lib:"vue",flowId:a,nodeLookup:J.value},A.value,B.value,w),le=((W=ie.connection)==null?void 0:W.source)===((K=ie.connection)==null?void 0:K.target);ie.isValid&&ie.connection&&!le&&M.connect(ie.connection),M.clickConnectEnd($),y($,!0)}return{handlePointerDown:L,handleClick:G}}function I1(){return St(Km,"")}function Qm(e){const t=e??I1()??"",n=St(Xm,Ie(null)),{findNode:r,edges:o,emits:i}=rt(),s=r(t);return s||i.error(new _t(pt.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:s,parentNode:me(()=>r(s.parentNode)),connectedEdges:me(()=>Vm([s],o.value))}}function k1(){return{doubleClick:de(),click:de(),mouseEnter:de(),mouseMove:de(),mouseLeave:de(),contextMenu:de(),dragStart:de(),drag:de(),dragStop:de()}}function N1(e,t){const n=k1();return n.doubleClick.on(r=>{var o,i;t.nodeDoubleClick(r),(i=(o=e.events)==null?void 0:o.doubleClick)==null||i.call(o,r)}),n.click.on(r=>{var o,i;t.nodeClick(r),(i=(o=e.events)==null?void 0:o.click)==null||i.call(o,r)}),n.mouseEnter.on(r=>{var o,i;t.nodeMouseEnter(r),(i=(o=e.events)==null?void 0:o.mouseEnter)==null||i.call(o,r)}),n.mouseMove.on(r=>{var o,i;t.nodeMouseMove(r),(i=(o=e.events)==null?void 0:o.mouseMove)==null||i.call(o,r)}),n.mouseLeave.on(r=>{var o,i;t.nodeMouseLeave(r),(i=(o=e.events)==null?void 0:o.mouseLeave)==null||i.call(o,r)}),n.contextMenu.on(r=>{var o,i;t.nodeContextMenu(r),(i=(o=e.events)==null?void 0:o.contextMenu)==null||i.call(o,r)}),n.dragStart.on(r=>{var o,i;t.nodeDragStart(r),(i=(o=e.events)==null?void 0:o.dragStart)==null||i.call(o,r)}),n.drag.on(r=>{var o,i;t.nodeDrag(r),(i=(o=e.events)==null?void 0:o.drag)==null||i.call(o,r)}),n.dragStop.on(r=>{var o,i;t.nodeDragStop(r),(i=(o=e.events)==null?void 0:o.dragStop)==null||i.call(o,r)}),Object.entries(n).reduce((r,[o,i])=>(r.emit[o]=i.trigger,r.on[o]=i.on,r),{emit:{},on:{}})}function e_(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:r,snapGrid:o,snapToGrid:i,nodesDraggable:s,emits:a}=rt();return(l,c=!1)=>{const u=i.value?o.value[0]:5,f=i.value?o.value[1]:5,d=c?4:1,h=l.x*u*d,m=l.y*f*d,p=[];for(const w of e.value)if(w.draggable||s&&typeof w.draggable>"u"){const v={x:w.computedPosition.x+h,y:w.computedPosition.y+m},{computedPosition:E}=Ou(w,v,a.error,t.value,w.parentNode?r(w.parentNode):void 0);p.push({id:w.id,position:E,from:w.position,distance:{x:l.x,y:l.y},dimensions:w.dimensions})}n(p,!0,!1)}}const xl=.1;function nr(){return Va("Viewport not initialized yet."),Promise.resolve(!1)}const T1={zoomIn:nr,zoomOut:nr,zoomTo:nr,fitView:nr,setCenter:nr,fitBounds:nr,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:nr,setTransform:nr,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function O1(e){function t(r,o){return new Promise(i=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.scaleBy(Il(e.d3Selection,o,()=>{i(!0)}),r):i(!1)})}function n(r,o,i,s){return new Promise(a=>{const{x:l,y:c}=Dm({x:-r,y:-o},e.translateExtent),u=Po.translate(-l,-c).scale(i);e.d3Selection&&e.d3Zoom?e.d3Zoom.transform(Il(e.d3Selection,s,()=>{a(!0)}),u):a(!1)})}return me(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:o=>t(1.2,o==null?void 0:o.duration),zoomOut:o=>t(1/1.2,o==null?void 0:o.duration),zoomTo:(o,i)=>new Promise(s=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.scaleTo(Il(e.d3Selection,i==null?void 0:i.duration,()=>{s(!0)}),o):s(!1)}),setViewport:(o,i)=>n(o.x,o.y,o.zoom,i==null?void 0:i.duration),setTransform:(o,i)=>n(o.x,o.y,o.zoom,i==null?void 0:i.duration),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(o={padding:xl,includeHiddenNodes:!1,duration:0})=>{var i,s;const a=[];for(const d of e.nodes)d.dimensions.width&&d.dimensions.height&&((o==null?void 0:o.includeHiddenNodes)||!d.hidden)&&(!((i=o.nodes)!=null&&i.length)||(s=o.nodes)!=null&&s.length&&o.nodes.includes(d.id))&&a.push(d);if(!a.length)return Promise.resolve(!1);const l=Um(a),{x:c,y:u,zoom:f}=Kd(l,e.dimensions.width,e.dimensions.height,o.minZoom??e.minZoom,o.maxZoom??e.maxZoom,o.padding??xl,o.offset);return n(c,u,f,o==null?void 0:o.duration)},setCenter:(o,i,s)=>{const a=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:e.maxZoom,l=e.dimensions.width/2-o*a,c=e.dimensions.height/2-i*a;return n(l,c,a,s==null?void 0:s.duration)},fitBounds:(o,i={padding:xl})=>{const{x:s,y:a,zoom:l}=Kd(o,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,i.padding);return n(s,a,l,i==null?void 0:i.duration)},project:o=>Di(o,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:o=>{if(e.vueFlowRef){const{x:i,y:s}=e.vueFlowRef.getBoundingClientRect(),a={x:o.x-i,y:o.y-s};return Di(a,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:o=>{if(e.vueFlowRef){const{x:i,y:s}=e.vueFlowRef.getBoundingClientRect(),a={x:o.x+i,y:o.y+s};return kc(a,e.viewport)}return{x:0,y:0}}}:T1)}function Il(e,t=0,n){return e.transition().duration(t).on("end",n)}function M1(e,t,n){const r=ji(!0);return r.run(()=>{const o=()=>{r.run(()=>{let p,w,v=!!(n.nodes.value.length||n.edges.value.length);p=no([e.modelValue,()=>{var E,_;return(_=(E=e.modelValue)==null?void 0:E.value)==null?void 0:_.length}],([E])=>{E&&Array.isArray(E)&&(w==null||w.pause(),n.setElements(E),!w&&!v&&E.length?v=!0:w==null||w.resume())}),w=no([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([E,_])=>{var y;(y=e.modelValue)!=null&&y.value&&Array.isArray(e.modelValue.value)&&(p==null||p.pause(),e.modelValue.value=[...E,..._],tn(()=>{p==null||p.resume()}))},{immediate:v}),ri(()=>{p==null||p.stop(),w==null||w.stop()})})},i=()=>{r.run(()=>{let p,w,v=!!n.nodes.value.length;p=no([e.nodes,()=>{var E,_;return(_=(E=e.nodes)==null?void 0:E.value)==null?void 0:_.length}],([E])=>{E&&Array.isArray(E)&&(w==null||w.pause(),n.setNodes(E),!w&&!v&&E.length?v=!0:w==null||w.resume())}),w=no([n.nodes,()=>n.nodes.value.length],([E])=>{var _;(_=e.nodes)!=null&&_.value&&Array.isArray(e.nodes.value)&&(p==null||p.pause(),e.nodes.value=[...E],tn(()=>{p==null||p.resume()}))},{immediate:v}),ri(()=>{p==null||p.stop(),w==null||w.stop()})})},s=()=>{r.run(()=>{let p,w,v=!!n.edges.value.length;p=no([e.edges,()=>{var E,_;return(_=(E=e.edges)==null?void 0:E.value)==null?void 0:_.length}],([E])=>{E&&Array.isArray(E)&&(w==null||w.pause(),n.setEdges(E),!w&&!v&&E.length?v=!0:w==null||w.resume())}),w=no([n.edges,()=>n.edges.value.length],([E])=>{var _;(_=e.edges)!=null&&_.value&&Array.isArray(e.edges.value)&&(p==null||p.pause(),e.edges.value=[...E],tn(()=>{p==null||p.resume()}))},{immediate:v}),ri(()=>{p==null||p.stop(),w==null||w.stop()})})},a=()=>{r.run(()=>{Ne(()=>t.maxZoom,()=>{t.maxZoom&&ut(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},l=()=>{r.run(()=>{Ne(()=>t.minZoom,()=>{t.minZoom&&ut(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},c=()=>{r.run(()=>{Ne(()=>t.translateExtent,()=>{t.translateExtent&&ut(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},u=()=>{r.run(()=>{Ne(()=>t.nodeExtent,()=>{t.nodeExtent&&ut(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},f=()=>{r.run(()=>{Ne(()=>t.applyDefault,()=>{ut(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},d=()=>{r.run(()=>{const p=async w=>{let v=w;typeof t.autoConnect=="function"&&(v=await t.autoConnect(w)),v!==!1&&n.addEdges([v])};Ne(()=>t.autoConnect,()=>{ut(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),Ne(n.autoConnect,(w,v,E)=>{w?n.onConnect(p):n.hooks.value.connect.off(p),E(()=>{n.hooks.value.connect.off(p)})},{immediate:!0})})},h=()=>{const p=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const w of Object.keys(t)){const v=w;if(!p.includes(v)){const E=Ze(()=>t[v]),_=n[v];Je(_)&&r.run(()=>{Ne(E,y=>{ut(y)&&(_.value=y)},{immediate:!0})})}}};(()=>{o(),i(),s(),l(),a(),c(),u(),f(),d(),h()})()}),()=>r.stop()}function P1(){return{edgesChange:de(),nodesChange:de(),nodeDoubleClick:de(),nodeClick:de(),nodeMouseEnter:de(),nodeMouseMove:de(),nodeMouseLeave:de(),nodeContextMenu:de(),nodeDragStart:de(),nodeDrag:de(),nodeDragStop:de(),nodesInitialized:de(),miniMapNodeClick:de(),miniMapNodeDoubleClick:de(),miniMapNodeMouseEnter:de(),miniMapNodeMouseMove:de(),miniMapNodeMouseLeave:de(),connect:de(),connectStart:de(),connectEnd:de(),clickConnectStart:de(),clickConnectEnd:de(),paneReady:de(),init:de(),move:de(),moveStart:de(),moveEnd:de(),selectionDragStart:de(),selectionDrag:de(),selectionDragStop:de(),selectionContextMenu:de(),selectionStart:de(),selectionEnd:de(),viewportChangeStart:de(),viewportChange:de(),viewportChangeEnd:de(),paneScroll:de(),paneClick:de(),paneContextMenu:de(),paneMouseEnter:de(),paneMouseMove:de(),paneMouseLeave:de(),edgeContextMenu:de(),edgeMouseEnter:de(),edgeMouseMove:de(),edgeMouseLeave:de(),edgeDoubleClick:de(),edgeClick:de(),edgeUpdateStart:de(),edgeUpdate:de(),edgeUpdateEnd:de(),updateNodeInternals:de(),error:de(e=>Va(e.message))}}function R1(e,t){Xp(()=>{for(const[n,r]of Object.entries(t.value)){const o=i=>{e(n,i)};r.fns.add(o),Da(()=>{r.off(o)})}})}function t_(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Tu.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:ui.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Lr.Bezier,style:{}},connectionMode:Sr.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:ea()?"Meta":"Control",zoomActivationKeyCode:ea()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:P1(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const A1=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function D1(e,t,n){const r=O1(e),o=S=>{const C=S??[];e.hooks.updateNodeInternals.trigger(C)},i=S=>QI(S,e.nodes,e.edges),s=S=>JI(S,e.nodes,e.edges),a=S=>Vm(S,e.edges),l=({id:S,type:C,nodeId:I})=>{var k;return Array.from(((k=e.connectionLookup.get(`${I}-${C}-${S??null}`))==null?void 0:k.values())??[])},c=S=>{if(S)return t.value.get(S)},u=S=>{if(S)return n.value.get(S)},f=(S,C,I)=>{var k,b;const x=[];for(const O of S){const D={id:O.id,type:"position",dragging:I,from:O.from};if(C&&(D.position=O.position,O.parentNode)){const Z=c(O.parentNode);D.position={x:D.position.x-(((k=Z==null?void 0:Z.computedPosition)==null?void 0:k.x)??0),y:D.position.y-(((b=Z==null?void 0:Z.computedPosition)==null?void 0:b.y)??0)}}x.push(D)}x!=null&&x.length&&e.hooks.nodesChange.trigger(x)},d=S=>{if(!e.vueFlowRef)return;const C=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!C)return;const I=window.getComputedStyle(C),{m22:k}=new window.DOMMatrixReadOnly(I.transform),b=[];for(let x=0;x<S.length;++x){const O=S[x],D=c(O.id);if(D){const Z=Ua(O.nodeElement);if(!!(Z.width&&Z.height&&(D.dimensions.width!==Z.width||D.dimensions.height!==Z.height||O.forceUpdate))){const R=O.nodeElement.getBoundingClientRect();D.dimensions=Z,D.handleBounds.source=ih("source",O.nodeElement,R,k),D.handleBounds.target=ih("target",O.nodeElement,R,k),b.push({id:D.id,type:"dimensions",dimensions:Z})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&r.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),b.length&&e.hooks.nodesChange.trigger(b)},h=(S,C)=>{const I=new Set,k=new Set;for(const O of S)jr(O)?I.add(O.id):Er(O)&&k.add(O.id);const b=cr(t.value,I,!0),x=cr(n.value,k);if(e.multiSelectionActive){for(const O of I)b.push(ir(O,C));for(const O of k)x.push(ir(O,C))}b.length&&e.hooks.nodesChange.trigger(b),x.length&&e.hooks.edgesChange.trigger(x)},m=S=>{if(e.multiSelectionActive){const C=S.map(I=>ir(I.id,!0));e.hooks.nodesChange.trigger(C);return}e.hooks.nodesChange.trigger(cr(t.value,new Set(S.map(C=>C.id)),!0)),e.hooks.edgesChange.trigger(cr(n.value))},p=S=>{if(e.multiSelectionActive){const C=S.map(I=>ir(I.id,!0));e.hooks.edgesChange.trigger(C);return}e.hooks.edgesChange.trigger(cr(n.value,new Set(S.map(C=>C.id)))),e.hooks.nodesChange.trigger(cr(t.value,new Set,!0))},w=S=>{h(S,!0)},v=S=>{const I=(S||e.nodes).map(k=>(k.selected=!1,ir(k.id,!1)));e.hooks.nodesChange.trigger(I)},E=S=>{const I=(S||e.edges).map(k=>(k.selected=!1,ir(k.id,!1)));e.hooks.edgesChange.trigger(I)},_=S=>{if(!S||!S.length)return h([],!1);const C=S.reduce((I,k)=>{const b=ir(k.id,!1);return jr(k)?I.nodes.push(b):I.edges.push(b),I},{nodes:[],edges:[]});C.nodes.length&&e.hooks.nodesChange.trigger(C.nodes),C.edges.length&&e.hooks.edgesChange.trigger(C.edges)},y=S=>{var C;(C=e.d3Zoom)==null||C.scaleExtent([S,e.maxZoom]),e.minZoom=S},M=S=>{var C;(C=e.d3Zoom)==null||C.scaleExtent([e.minZoom,S]),e.maxZoom=S},F=S=>{var C;(C=e.d3Zoom)==null||C.translateExtent(S),e.translateExtent=S},A=S=>{e.nodeExtent=S,o()},B=S=>{var C;(C=e.d3Zoom)==null||C.clickDistance(S)},V=S=>{e.nodesDraggable=S,e.nodesConnectable=S,e.elementsSelectable=S},J=S=>{const C=S instanceof Function?S(e.nodes):S;!e.initialized&&!C.length||(e.nodes=sh(C,c,e.hooks.error.trigger))},Y=S=>{const C=S instanceof Function?S(e.edges):S;if(!e.initialized&&!C.length)return;const I=Cl(C,e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);wl(e.connectionLookup,n.value,I),e.edges=I},P=S=>{const C=S instanceof Function?S([...e.nodes,...e.edges]):S;!e.initialized&&!C.length||(J(C.filter(jr)),Y(C.filter(Er)))},oe=S=>{let C=S instanceof Function?S(e.nodes):S;C=Array.isArray(C)?C:[C];const I=sh(C,c,e.hooks.error.trigger),k=[];for(const b of I)k.push(Jd(b));k.length&&e.hooks.nodesChange.trigger(k)},L=S=>{let C=S instanceof Function?S(e.edges):S;C=Array.isArray(C)?C:[C];const I=Cl(C,e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),k=[];for(const b of I)k.push(Jd(b));k.length&&e.hooks.edgesChange.trigger(k)},G=(S,C=!0,I=!1)=>{const k=S instanceof Function?S(e.nodes):S,b=Array.isArray(k)?k:[k],x=[],O=[];function D(j){const R=a(j);for(const H of R)(!ut(H.deletable)||H.deletable)&&O.push(eh(H.id,H.source,H.target,H.sourceHandle,H.targetHandle))}function Z(j){const R=[];for(const H of e.nodes)H.parentNode===j&&R.push(H);if(R.length){for(const H of R)x.push(Qd(H.id));C&&D(R);for(const H of R)Z(H.id)}}for(const j of b){const R=typeof j=="string"?c(j):j;R&&(ut(R.deletable)&&!R.deletable||(x.push(Qd(R.id)),C&&D([R]),I&&Z(R.id)))}O.length&&e.hooks.edgesChange.trigger(O),x.length&&e.hooks.nodesChange.trigger(x)},$=S=>{const C=S instanceof Function?S(e.edges):S,I=Array.isArray(C)?C:[C],k=[];for(const b of I){const x=typeof b=="string"?u(b):b;x&&(ut(x.deletable)&&!x.deletable||k.push(eh(typeof b=="string"?b:b.id,x.source,x.target,x.sourceHandle,x.targetHandle)))}e.hooks.edgesChange.trigger(k)},W=(S,C,I=!0)=>{const k=u(S.id),b=b1(S,C,k,I,e.hooks.error.trigger);if(b){const[x]=Cl([b],e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges.splice(e.edges.indexOf(k),1,x),wl(e.connectionLookup,n.value,[x]),x}return!1},K=(S,C,I={replace:!1})=>{const k=u(S);if(!k)return;const b=typeof C=="function"?C(k):C;k.data=I.replace?b:{...k.data,...b}},ne=S=>Zd(S,e.nodes),re=S=>{const C=Zd(S,e.edges);return wl(e.connectionLookup,n.value,C),C},se=(S,C,I={replace:!1})=>{const k=c(S);if(!k)return;const b=typeof C=="function"?C(k):C;I.replace?e.nodes.splice(e.nodes.indexOf(k),1,b):Object.assign(k,b)},ee=(S,C,I={replace:!1})=>{const k=c(S);if(!k)return;const b=typeof C=="function"?C(k):C;k.data=I.replace?b:{...k.data,...b}},ie=(S,C,I=!1)=>{I?e.connectionClickStartHandle=S:e.connectionStartHandle=S,e.connectionEndHandle=null,e.connectionStatus=null,C&&(e.connectionPosition=C)},le=(S,C=null,I=null)=>{e.connectionStartHandle&&(e.connectionPosition=S,e.connectionEndHandle=C,e.connectionStatus=I)},_e=(S,C)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,C?e.connectionClickStartHandle=null:e.connectionStartHandle=null},ye=S=>{const C=XI(S),I=C?null:ti(S)?S:c(S.id);return!C&&!I?[null,null,C]:[C?S:Js(I),I,C]},U=(S,C=!0,I=e.nodes)=>{const[k,b,x]=ye(S);if(!k)return[];const O=[];for(const D of I||e.nodes){if(!x&&(D.id===b.id||!D.computedPosition))continue;const Z=Js(D),j=Qs(Z,k);(C&&j>0||j>=Number(k.width)*Number(k.height))&&O.push(D)}return O},Q=(S,C,I=!0)=>{const[k]=ye(S);if(!k)return!1;const b=Qs(k,C);return I&&b>0||b>=Number(k.width)*Number(k.height)},X=S=>{const{viewport:C,dimensions:I,d3Zoom:k,d3Selection:b,translateExtent:x}=e;if(!k||!b||!S.x&&!S.y)return!1;const O=Po.translate(C.x+S.x,C.y+S.y).scale(C.zoom),D=[[0,0],[I.width,I.height]],Z=k.constrain()(O,D,x),j=e.viewport.x!==Z.x||e.viewport.y!==Z.y||e.viewport.zoom!==Z.k;return k.transform(b,Z),j},te=S=>{const C=S instanceof Function?S(e):S,I=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];ut(C.defaultEdgeOptions)&&(e.defaultEdgeOptions=C.defaultEdgeOptions);const k=C.modelValue||C.nodes||C.edges?[]:void 0;k&&(C.modelValue&&k.push(...C.modelValue),C.nodes&&k.push(...C.nodes),C.edges&&k.push(...C.edges),P(k));const b=()=>{ut(C.maxZoom)&&M(C.maxZoom),ut(C.minZoom)&&y(C.minZoom),ut(C.translateExtent)&&F(C.translateExtent)};for(const x of Object.keys(C)){const O=x,D=C[O];![...A1,...I].includes(O)&&ut(D)&&(e[O]=D)}mc(()=>e.d3Zoom).not.toBeNull().then(b),e.initialized||(e.initialized=!0)};return{updateNodePositions:f,updateNodeDimensions:d,setElements:P,setNodes:J,setEdges:Y,addNodes:oe,addEdges:L,removeNodes:G,removeEdges:$,findNode:c,findEdge:u,updateEdge:W,updateEdgeData:K,updateNode:se,updateNodeData:ee,applyEdgeChanges:re,applyNodeChanges:ne,addSelectedElements:w,addSelectedNodes:m,addSelectedEdges:p,setMinZoom:y,setMaxZoom:M,setTranslateExtent:F,setNodeExtent:A,setPaneClickDistance:B,removeSelectedElements:_,removeSelectedNodes:v,removeSelectedEdges:E,startConnection:ie,updateConnection:le,endConnection:_e,setInteractive:V,setState:te,getIntersectingNodes:U,getIncomers:i,getOutgoers:s,getConnectedEdges:a,getHandleConnections:l,isNodeIntersecting:Q,panBy:X,fitView:S=>r.value.fitView(S),zoomIn:S=>r.value.zoomIn(S),zoomOut:S=>r.value.zoomOut(S),zoomTo:(S,C)=>r.value.zoomTo(S,C),setViewport:(S,C)=>r.value.setViewport(S,C),setTransform:(S,C)=>r.value.setTransform(S,C),getViewport:()=>r.value.getViewport(),getTransform:()=>r.value.getTransform(),setCenter:(S,C,I)=>r.value.setCenter(S,C,I),fitBounds:(S,C)=>r.value.fitBounds(S,C),project:S=>r.value.project(S),screenToFlowCoordinate:S=>r.value.screenToFlowCoordinate(S),flowToScreenCoordinate:S=>r.value.flowToScreenCoordinate(S),toObject:()=>{const S=[],C=[];for(const I of e.nodes){const{computedPosition:k,handleBounds:b,selected:x,dimensions:O,isParent:D,resizing:Z,dragging:j,events:R,...H}=I;S.push(H)}for(const I of e.edges){const{selected:k,sourceNode:b,targetNode:x,events:O,...D}=I;C.push(D)}return JSON.parse(JSON.stringify({nodes:S,edges:C,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:S=>new Promise(C=>{const{nodes:I,edges:k,position:b,zoom:x,viewport:O}=S;if(I&&J(I),k&&Y(k),O!=null&&O.x&&(O!=null&&O.y)||b){const D=(O==null?void 0:O.x)||b[0],Z=(O==null?void 0:O.y)||b[1],j=(O==null?void 0:O.zoom)||x||e.viewport.zoom;return mc(()=>r.value.viewportInitialized).toBe(!0).then(()=>{r.value.setViewport({x:D,y:Z,zoom:j}).then(()=>{C(!0)})})}else C(!0)}),updateNodeInternals:o,viewportHelper:r,$reset:()=>{const S=t_();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const C=Po.translate(S.defaultViewport.x??0,S.defaultViewport.y??0).scale(Yr(S.defaultViewport.zoom??1,S.minZoom,S.maxZoom)),I=e.viewportRef.getBoundingClientRect(),k=[[0,0],[I.width,I.height]],b=e.d3Zoom.constrain()(C,k,S.translateExtent);e.d3Zoom.transform(e.d3Selection,b)}te(S)},$destroy:()=>{}}}const L1=["data-id","data-handleid","data-nodeid","data-handlepos"],$1={name:"Handle",compatConfig:{MODE:3}},$i=xe({...$1,props:{id:{default:null},type:{},position:{default:()=>ge.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=Fy(e,["position","connectable","connectableStart","connectableEnd","id"]),r=Ze(()=>n.type??"source"),o=Ze(()=>n.isValidConnection??null),{id:i,connectionStartHandle:s,connectionClickStartHandle:a,connectionEndHandle:l,vueFlowRef:c,nodesConnectable:u,noDragClassName:f,noPanClassName:d}=rt(),{id:h,node:m,nodeEl:p,connectedEdges:w}=Qm(),v=Ie(),E=Ze(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),_=Ze(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),y=Ze(()=>{var Y,P,oe,L,G,$;return((Y=s.value)==null?void 0:Y.nodeId)===h&&((P=s.value)==null?void 0:P.id)===e.id&&((oe=s.value)==null?void 0:oe.type)===r.value||((L=l.value)==null?void 0:L.nodeId)===h&&((G=l.value)==null?void 0:G.id)===e.id&&(($=l.value)==null?void 0:$.type)===r.value}),M=Ze(()=>{var Y,P,oe;return((Y=a.value)==null?void 0:Y.nodeId)===h&&((P=a.value)==null?void 0:P.id)===e.id&&((oe=a.value)==null?void 0:oe.type)===r.value}),{handlePointerDown:F,handleClick:A}=Jm({nodeId:h,handleId:e.id,isValidConnection:o,type:r}),B=me(()=>typeof e.connectable=="string"&&e.connectable==="single"?!w.value.some(Y=>{const P=Y[`${r.value}Handle`];return Y[r.value]!==h?!1:P?P===e.id:!0}):typeof e.connectable=="number"?w.value.filter(Y=>{const P=Y[`${r.value}Handle`];return Y[r.value]!==h?!1:P?P===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(m,w.value):ut(e.connectable)?e.connectable:u.value);gn(()=>{var Y;if(!m.dimensions.width||!m.dimensions.height)return;const P=(Y=m.handleBounds[r.value])==null?void 0:Y.find(ne=>ne.id===e.id);if(!c.value||P)return;const oe=c.value.querySelector(".vue-flow__transformationpane");if(!p.value||!v.value||!oe||!e.id)return;const L=p.value.getBoundingClientRect(),G=v.value.getBoundingClientRect(),$=window.getComputedStyle(oe),{m22:W}=new window.DOMMatrixReadOnly($.transform),K={id:e.id,position:e.position,x:(G.left-L.left)/W,y:(G.top-L.top)/W,type:r.value,nodeId:h,...Ua(v.value)};m.handleBounds[r.value]=[...m.handleBounds[r.value]??[],K]}),qi(()=>{const Y=m.handleBounds[r.value];Y&&(m.handleBounds[r.value]=Y.filter(P=>P.id!==e.id))});function V(Y){const P=Mu(Y);B.value&&E.value&&(P&&Y.button===0||!P)&&F(Y)}function J(Y){!h||!a.value&&!E.value||B.value&&A(Y)}return t({handleClick:A,handlePointerDown:F,onClick:J,onPointerDown:V}),(Y,P)=>(he(),Se("div",{ref_key:"handle",ref:v,"data-id":`${ue(i)}-${ue(h)}-${e.id}-${r.value}`,"data-handleid":e.id,"data-nodeid":ue(h),"data-handlepos":Y.position,class:zt(["vue-flow__handle",[`vue-flow__handle-${Y.position}`,`vue-flow__handle-${e.id}`,ue(f),ue(d),r.value,{connectable:B.value,connecting:M.value,connectablestart:E.value,connectableend:_.value,connectionindicator:B.value&&(E.value&&!y.value||_.value&&y.value)}]]),onMousedown:V,onTouchstartPassive:V,onClick:J},[vt(Y.$slots,"default",{id:Y.id})],42,L1))}}),Wa=function({sourcePosition:e=ge.Bottom,targetPosition:t=ge.Top,label:n,connectable:r=!0,isValidTargetPos:o,isValidSourcePos:i,data:s}){const a=s.label||n;return[De($i,{type:"target",position:t,connectable:r,isValidConnection:o}),typeof a!="string"&&a?De(a):De(Ge,[a]),De($i,{type:"source",position:e,connectable:r,isValidConnection:i})]};Wa.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Wa.inheritAttrs=!1;Wa.compatConfig={MODE:3};const F1=Wa,ja=function({targetPosition:e=ge.Top,label:t,connectable:n=!0,isValidTargetPos:r,data:o}){const i=o.label||t;return[De($i,{type:"target",position:e,connectable:n,isValidConnection:r}),typeof i!="string"&&i?De(i):De(Ge,[i])]};ja.props=["targetPosition","label","isValidTargetPos","connectable","data"];ja.inheritAttrs=!1;ja.compatConfig={MODE:3};const B1=ja,Ga=function({sourcePosition:e=ge.Bottom,label:t,connectable:n=!0,isValidSourcePos:r,data:o}){const i=o.label||t;return[typeof i!="string"&&i?De(i):De(Ge,[i]),De($i,{type:"source",position:e,connectable:n,isValidConnection:r})]};Ga.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Ga.inheritAttrs=!1;Ga.compatConfig={MODE:3};const U1=Ga,H1=["transform"],V1=["width","height","x","y","rx","ry"],z1=["y"],W1={name:"EdgeText",compatConfig:{MODE:3}},j1=xe({...W1,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=Ie({x:0,y:0,width:0,height:0}),n=Ie(null),r=me(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);gn(o),Ne([()=>e.x,()=>e.y,n,()=>e.label],o);function o(){if(!n.value)return;const i=n.value.getBBox();(i.width!==t.value.width||i.height!==t.value.height)&&(t.value=i)}return(i,s)=>(he(),Se("g",{transform:r.value,class:"vue-flow__edge-textwrapper"},[i.labelShowBg?(he(),Se("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*i.labelBgPadding[0]}px`,height:`${t.value.height+2*i.labelBgPadding[1]}px`,x:-i.labelBgPadding[0],y:-i.labelBgPadding[1],style:Bt(i.labelBgStyle),rx:i.labelBgBorderRadius,ry:i.labelBgBorderRadius},null,12,V1)):mt("",!0),ae("text",ka(i.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:i.labelStyle}),[vt(i.$slots,"default",{},()=>[typeof i.label!="string"?(he(),gt(Qp(i.label),{key:0})):(he(),Se(Ge,{key:1},[Fr(Qe(i.label),1)],64))])],16,z1)],8,H1))}}),G1=["id","d","marker-end","marker-start"],q1=["d","stroke-width"],Y1={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Qi=xe({...Y1,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=Ie(null),r=Ie(null),o=Ie(null),i=$y();return t({pathEl:n,interactionEl:r,labelEl:o}),(s,a)=>(he(),Se(Ge,null,[ae("path",ka(ue(i),{id:s.id,ref_key:"pathEl",ref:n,d:s.path,class:"vue-flow__edge-path","marker-end":s.markerEnd,"marker-start":s.markerStart}),null,16,G1),s.interactionWidth?(he(),Se("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:s.path,"stroke-width":s.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,q1)):mt("",!0),s.label&&s.labelX&&s.labelY?(he(),gt(j1,{key:1,ref_key:"labelEl",ref:o,x:s.labelX,y:s.labelY,label:s.label,"label-show-bg":s.labelShowBg,"label-bg-style":s.labelBgStyle,"label-bg-padding":s.labelBgPadding,"label-bg-border-radius":s.labelBgBorderRadius,"label-style":s.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):mt("",!0)],64))}});function n_({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[i,a,o,s]}function r_({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:a}){const l=e*.125+o*.375+s*.375+n*.125,c=t*.125+i*.375+a*.375+r*.125,u=Math.abs(l-e),f=Math.abs(c-t);return[l,c,u,f]}function bs(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function uh({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){let s,a;switch(e){case ge.Left:s=t-bs(t-r,i),a=n;break;case ge.Right:s=t+bs(r-t,i),a=n;break;case ge.Top:s=t,a=n-bs(n-o,i);break;case ge.Bottom:s=t,a=n+bs(o-n,i);break}return[s,a]}function Pu(e){const{sourceX:t,sourceY:n,sourcePosition:r=ge.Bottom,targetX:o,targetY:i,targetPosition:s=ge.Top,curvature:a=.25}=e,[l,c]=uh({pos:r,x1:t,y1:n,x2:o,y2:i,c:a}),[u,f]=uh({pos:s,x1:o,y1:i,x2:t,y2:n,c:a}),[d,h,m,p]=r_({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:f});return[`M${t},${n} C${l},${c} ${u},${f} ${o},${i}`,d,h,m,p]}function fh({pos:e,x1:t,y1:n,x2:r,y2:o}){let i,s;switch(e){case ge.Left:case ge.Right:i=.5*(t+r),s=n;break;case ge.Top:case ge.Bottom:i=t,s=.5*(n+o);break}return[i,s]}function o_(e){const{sourceX:t,sourceY:n,sourcePosition:r=ge.Bottom,targetX:o,targetY:i,targetPosition:s=ge.Top}=e,[a,l]=fh({pos:r,x1:t,y1:n,x2:o,y2:i}),[c,u]=fh({pos:s,x1:o,y1:i,x2:t,y2:n}),[f,d,h,m]=r_({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${n} C${a},${l} ${c},${u} ${o},${i}`,f,d,h,m]}const dh={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}};function K1({source:e,sourcePosition:t=ge.Bottom,target:n}){return t===ge.Left||t===ge.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function hh(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function X1({source:e,sourcePosition:t=ge.Bottom,target:n,targetPosition:r=ge.Top,center:o,offset:i}){const s=dh[t],a=dh[r],l={x:e.x+s.x*i,y:e.y+s.y*i},c={x:n.x+a.x*i,y:n.y+a.y*i},u=K1({source:l,sourcePosition:t,target:c}),f=u.x!==0?"x":"y",d=u[f];let h,m,p;const w={x:0,y:0},v={x:0,y:0},[E,_,y,M]=n_({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*a[f]===-1){m=o.x??E,p=o.y??_;const A=[{x:m,y:l.y},{x:m,y:c.y}],B=[{x:l.x,y:p},{x:c.x,y:p}];s[f]===d?h=f==="x"?A:B:h=f==="x"?B:A}else{const A=[{x:l.x,y:c.y}],B=[{x:c.x,y:l.y}];if(f==="x"?h=s.x===d?B:A:h=s.y===d?A:B,t===r){const oe=Math.abs(e[f]-n[f]);if(oe<=i){const L=Math.min(i-1,i-oe);s[f]===d?w[f]=(l[f]>e[f]?-1:1)*L:v[f]=(c[f]>n[f]?-1:1)*L}}if(t!==r){const oe=f==="x"?"y":"x",L=s[f]===a[oe],G=l[oe]>c[oe],$=l[oe]<c[oe];(s[f]===1&&(!L&&G||L&&$)||s[f]!==1&&(!L&&$||L&&G))&&(h=f==="x"?A:B)}const V={x:l.x+w.x,y:l.y+w.y},J={x:c.x+v.x,y:c.y+v.y},Y=Math.max(Math.abs(V.x-h[0].x),Math.abs(J.x-h[0].x)),P=Math.max(Math.abs(V.y-h[0].y),Math.abs(J.y-h[0].y));Y>=P?(m=(V.x+J.x)/2,p=h[0].y):(m=h[0].x,p=(V.y+J.y)/2)}return[[e,{x:l.x+w.x,y:l.y+w.y},...h,{x:c.x+v.x,y:c.y+v.y},n],m,p,y,M]}function Z1(e,t,n,r){const o=Math.min(hh(e,t)/2,hh(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${i+o*c},${s}Q ${i},${s} ${i},${s+o*u}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${s+o*l}Q ${i},${s} ${i+o*a},${s}`}function Oc(e){const{sourceX:t,sourceY:n,sourcePosition:r=ge.Bottom,targetX:o,targetY:i,targetPosition:s=ge.Top,borderRadius:a=5,centerX:l,centerY:c,offset:u=20}=e,[f,d,h,m,p]=X1({source:{x:t,y:n},sourcePosition:r,target:{x:o,y:i},targetPosition:s,center:{x:l,y:c},offset:u});return[f.reduce((v,E,_)=>{let y;return _>0&&_<f.length-1?y=Z1(f[_-1],E,f[_+1],a):y=`${_===0?"M":"L"}${E.x} ${E.y}`,v+=y,v},""),d,h,m,p]}function J1(e){const{sourceX:t,sourceY:n,targetX:r,targetY:o}=e,[i,s,a,l]=n_({sourceX:t,sourceY:n,targetX:r,targetY:o});return[`M ${t},${n}L ${r},${o}`,i,s,a,l]}const Q1=xe({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=J1(e);return De(Qi,{path:n,labelX:r,labelY:o,...t,...e})}}}),ek=Q1,tk=xe({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=Oc({...e,sourcePosition:e.sourcePosition??ge.Bottom,targetPosition:e.targetPosition??ge.Top});return De(Qi,{path:n,labelX:r,labelY:o,...t,...e})}}}),i_=tk,nk=xe({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>De(i_,{...e,...t,borderRadius:0})}}),rk=nk,ok=xe({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=Pu({...e,sourcePosition:e.sourcePosition??ge.Bottom,targetPosition:e.targetPosition??ge.Top});return De(Qi,{path:n,labelX:r,labelY:o,...t,...e})}}}),ik=ok,sk=xe({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,o]=o_({...e,sourcePosition:e.sourcePosition??ge.Bottom,targetPosition:e.targetPosition??ge.Top});return De(Qi,{path:n,labelX:r,labelY:o,...t,...e})}}}),ak=sk,lk={input:U1,default:F1,output:B1},ck={default:ik,straight:ek,step:rk,smoothstep:i_,simplebezier:ak};function uk(e,t,n){const r=me(()=>p=>t.value.get(p)),o=me(()=>p=>n.value.get(p)),i=me(()=>{const p={...ck,...e.edgeTypes},w=Object.keys(p);for(const v of e.edges)v.type&&!w.includes(v.type)&&(p[v.type]=v.type);return p}),s=me(()=>{const p={...lk,...e.nodeTypes},w=Object.keys(p);for(const v of e.nodes)v.type&&!w.includes(v.type)&&(p[v.type]=v.type);return p}),a=me(()=>e.onlyRenderVisibleElements?Hm(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),l=me(()=>{if(e.onlyRenderVisibleElements){const p=[];for(const w of e.edges){const v=t.value.get(w.source),E=t.value.get(w.target);l1({sourcePos:v.computedPosition||{x:0,y:0},targetPos:E.computedPosition||{x:0,y:0},sourceWidth:v.dimensions.width,sourceHeight:v.dimensions.height,targetWidth:E.dimensions.width,targetHeight:E.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&p.push(w)}return p}return e.edges}),c=me(()=>[...a.value,...l.value]),u=me(()=>{const p=[];for(const w of e.nodes)w.selected&&p.push(w);return p}),f=me(()=>{const p=[];for(const w of e.edges)w.selected&&p.push(w);return p}),d=me(()=>[...u.value,...f.value]),h=me(()=>{const p=[];for(const w of e.nodes)w.dimensions.width&&w.dimensions.height&&w.handleBounds!==void 0&&p.push(w);return p}),m=me(()=>a.value.length>0&&h.value.length===a.value.length);return{getNode:r,getEdge:o,getElements:c,getEdgeTypes:i,getNodeTypes:s,getEdges:l,getNodes:a,getSelectedElements:d,getSelectedNodes:u,getSelectedEdges:f,getNodesInitialized:h,areNodesInitialized:m}}class $r{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=hn())==null?void 0:t.appContext.app,r=(n==null?void 0:n.config.globalProperties.$vueFlowStorage)??$r.instance;return $r.instance=r??new $r,n&&(n.config.globalProperties.$vueFlowStorage=$r.instance),$r.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const r=t_(),o=Bo(r),i={};for(const[d,h]of Object.entries(o.hooks)){const m=`on${d.charAt(0).toUpperCase()+d.slice(1)}`;i[m]=h.on}const s={};for(const[d,h]of Object.entries(o.hooks))s[d]=h.trigger;const a=me(()=>{const d=new Map;for(const h of o.nodes)d.set(h.id,h);return d}),l=me(()=>{const d=new Map;for(const h of o.edges)d.set(h.id,h);return d}),c=uk(o,a,l),u=D1(o,a,l);u.setState({...o,...n});const f={...i,...c,...u,...uw(o),nodeLookup:a,edgeLookup:l,emits:s,id:t,vueFlowVersion:"1.42.1",$destroy:()=>{this.remove(t)}};return this.set(t,f),f}getId(){return`vue-flow-${this.currentId++}`}}function rt(e){const t=$r.getInstance(),n=Sa(),r=typeof e=="object",o=r?e:{id:e},i=o.id,s=i??(n==null?void 0:n.vueFlowId);let a;if(n){const l=St(ch,null);typeof l<"u"&&l!==null&&(!s||l.id===s)&&(a=l)}if(a||s&&(a=t.get(s)),!a||s&&a.id!==s){const l=i??t.getId(),c=t.create(l,o);a=c,(n??ji(!0)).run(()=>{Ne(c.applyDefault,(f,d,h)=>{const m=w=>{c.applyNodeChanges(w)},p=w=>{c.applyEdgeChanges(w)};f?(c.onNodesChange(m),c.onEdgesChange(p)):(c.hooks.value.nodesChange.off(m),c.hooks.value.edgesChange.off(p)),h(()=>{c.hooks.value.nodesChange.off(m),c.hooks.value.edgesChange.off(p)})},{immediate:!0}),Da(()=>{if(a){const f=t.get(a.id);f?f.$destroy():Va(`No store instance found for id ${a.id} in storage.`)}})})}else r&&a.setState(o);if(n&&(kn(ch,a),n.vueFlowId=a.id),r){const l=hn();(l==null?void 0:l.type.name)!=="VueFlow"&&a.emits.error(new _t(pt.USEVUEFLOW_OPTIONS))}return a}function fk(e){const{emits:t,dimensions:n}=rt();let r;gn(()=>{const o=e.value,i=()=>{if(!o)return;const s=Ua(o);(s.width===0||s.height===0)&&t.error(new _t(pt.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:s.width||500,height:s.height||500}};i(),window.addEventListener("resize",i),o&&(r=new ResizeObserver(()=>i()),r.observe(o)),lu(()=>{window.removeEventListener("resize",i),r&&o&&r.unobserve(o)})})}const dk={name:"UserSelection",compatConfig:{MODE:3}},hk=xe({...dk,props:{userSelectionRect:{}},setup(e){return(t,n)=>(he(),Se("div",{class:"vue-flow__selection vue-flow__container",style:Bt({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),pk=["tabIndex"],gk={name:"NodesSelection",compatConfig:{MODE:3}},mk=xe({...gk,setup(e){const{emits:t,viewport:n,getSelectedNodes:r,noPanClassName:o,disableKeyboardA11y:i,userSelectionActive:s}=rt(),a=e_(),l=Ie(null),c=Zm({el:l,onStart(m){t.selectionDragStart(m)},onDrag(m){t.selectionDrag(m)},onStop(m){t.selectionDragStop(m)}});gn(()=>{var m;i.value||(m=l.value)==null||m.focus({preventScroll:!0})});const u=me(()=>Um(r.value)),f=me(()=>({width:`${u.value.width}px`,height:`${u.value.height}px`,top:`${u.value.y}px`,left:`${u.value.x}px`}));function d(m){t.selectionContextMenu({event:m,nodes:r.value})}function h(m){i||bo[m.key]&&(m.preventDefault(),a({x:bo[m.key].x,y:bo[m.key].y},m.shiftKey))}return(m,p)=>!ue(s)&&u.value.width&&u.value.height?(he(),Se("div",{key:0,class:zt(["vue-flow__nodesselection vue-flow__container",ue(o)]),style:Bt({transform:`translate(${ue(n).x}px,${ue(n).y}px) scale(${ue(n).zoom})`})},[ae("div",{ref_key:"el",ref:l,class:zt([{dragging:ue(c)},"vue-flow__nodesselection-rect"]),style:Bt(f.value),tabIndex:ue(i)?void 0:-1,onContextmenu:d,onKeydown:h},null,46,pk)],6)):mt("",!0)}});function _k(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const vk={name:"Pane",compatConfig:{MODE:3}},yk=xe({...vk,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:r,emits:o,userSelectionActive:i,removeSelectedElements:s,userSelectionRect:a,elementsSelectable:l,nodesSelectionActive:c,getSelectedEdges:u,getSelectedNodes:f,removeNodes:d,removeEdges:h,selectionMode:m,deleteKeyCode:p,multiSelectionKeyCode:w,multiSelectionActive:v,edgeLookup:E,nodeLookup:_,connectionLookup:y,defaultEdgeOptions:M}=rt(),F=Ie(null),A=Ie(new Set),B=Ie(new Set),V=Ie(),J=Ze(()=>l.value&&(e.isSelecting||i.value));let Y=!1,P=!1;const oe=fi(p,{actInsideInputWithModifier:!1}),L=fi(w);Ne(oe,ee=>{ee&&(d(f.value),h(u.value),c.value=!1)}),Ne(L,ee=>{v.value=ee});function G(ee,ie){return le=>{le.target===ie&&(ee==null||ee(le))}}function $(ee){if(Y){Y=!1;return}o.paneClick(ee),s(),c.value=!1}function W(ee){ee.preventDefault(),ee.stopPropagation(),o.paneContextMenu(ee)}function K(ee){o.paneScroll(ee)}function ne(ee){var ie,le,_e;if(V.value=(ie=t.value)==null?void 0:ie.getBoundingClientRect(),!l.value||!e.isSelecting||ee.button!==0||ee.target!==F.value||!V.value)return;(_e=(le=ee.target)==null?void 0:le.setPointerCapture)==null||_e.call(le,ee.pointerId);const{x:ye,y:U}=_k(ee,V.value);P=!0,Y=!1,s(),a.value={width:0,height:0,startX:ye,startY:U,x:ye,y:U},o.selectionStart(ee)}function re(ee){var ie;if(!V.value||!a.value)return;Y=!0;const{x:le,y:_e}=vr(ee,V.value),{startX:ye=0,startY:U=0}=a.value,Q={startX:ye,startY:U,x:le<ye?le:ye,y:_e<U?_e:U,width:Math.abs(le-ye),height:Math.abs(_e-U)},X=A.value,te=B.value;A.value=new Set(Hm(n.value,Q,r.value,m.value===Tu.Partial,!0).map(N=>N.id)),B.value=new Set;const q=((ie=M.value)==null?void 0:ie.selectable)??!0;for(const N of A.value){const T=y.value.get(N);if(T)for(const{edgeId:S}of T.values()){const C=E.value.get(S);C&&(C.selectable??q)&&B.value.add(S)}}if(!lh(X,A.value)){const N=cr(_.value,A.value,!0);o.nodesChange(N)}if(!lh(te,B.value)){const N=cr(E.value,B.value);o.edgesChange(N)}a.value=Q,i.value=!0,c.value=!1}function se(ee){var ie;ee.button!==0||!P||((ie=ee.target)==null||ie.releasePointerCapture(ee.pointerId),!i.value&&a.value&&ee.target===F.value&&$(ee),i.value=!1,a.value=null,c.value=A.value.size>0,o.selectionEnd(ee),e.selectionKeyPressed&&(Y=!1),P=!1)}return(ee,ie)=>(he(),Se("div",{ref_key:"container",ref:F,class:zt(["vue-flow__pane vue-flow__container",{selection:ee.isSelecting}]),onClick:ie[0]||(ie[0]=le=>J.value?void 0:G($,F.value)(le)),onContextmenu:ie[1]||(ie[1]=le=>G(W,F.value)(le)),onWheelPassive:ie[2]||(ie[2]=le=>G(K,F.value)(le)),onPointerenter:ie[3]||(ie[3]=le=>J.value?void 0:ue(o).paneMouseEnter(le)),onPointerdown:ie[4]||(ie[4]=le=>J.value?ne(le):ue(o).paneMouseMove(le)),onPointermove:ie[5]||(ie[5]=le=>J.value?re(le):ue(o).paneMouseMove(le)),onPointerup:ie[6]||(ie[6]=le=>J.value?se(le):void 0),onPointerleave:ie[7]||(ie[7]=le=>ue(o).paneMouseLeave(le))},[vt(ee.$slots,"default"),ue(i)&&ue(a)?(he(),gt(hk,{key:0,"user-selection-rect":ue(a)},null,8,["user-selection-rect"])):mt("",!0),ue(c)&&ue(f).length?(he(),gt(mk,{key:1})):mt("",!0)],34))}}),bk={name:"Transform",compatConfig:{MODE:3}},Sk=xe({...bk,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:r}=rt(),o=me(()=>n.value?!r.value:!1),i=me(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(s,a)=>(he(),Se("div",{class:"vue-flow__transformationpane vue-flow__container",style:Bt({transform:i.value,opacity:o.value?0:void 0})},[vt(s.$slots,"default")],4))}}),Ek={name:"Viewport",compatConfig:{MODE:3}},wk=xe({...Ek,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:r,translateExtent:o,zoomActivationKeyCode:i,selectionKeyCode:s,panActivationKeyCode:a,panOnScroll:l,panOnScrollMode:c,panOnScrollSpeed:u,panOnDrag:f,zoomOnDoubleClick:d,zoomOnPinch:h,zoomOnScroll:m,preventScrolling:p,noWheelClassName:w,noPanClassName:v,emits:E,connectionStartHandle:_,userSelectionActive:y,paneDragging:M,d3Zoom:F,d3Selection:A,d3ZoomHandler:B,viewport:V,viewportRef:J,paneClickDistance:Y}=rt();fk(J);const P=Ie(!1),oe=Ie(!1);let L=null,G=!1,$=0,W={x:0,y:0,zoom:0};const K=fi(a),ne=fi(s),re=fi(i),se=Ze(()=>(!ne.value||ne.value&&s.value===!0)&&(K.value||f.value)),ee=Ze(()=>K.value||l.value),ie=Ze(()=>ne.value||s.value===!0&&se.value!==!0);gn(()=>{if(!J.value){Va("Viewport element is missing");return}const X=J.value,te=X.getBoundingClientRect(),q=jI().clickDistance(Y.value).scaleExtent([t.value,n.value]).translateExtent(o.value),N=ln(X).call(q),T=N.on("wheel.zoom"),S=Po.translate(r.value.x??0,r.value.y??0).scale(Yr(r.value.zoom??1,t.value,n.value)),C=[[0,0],[te.width,te.height]],I=q.constrain()(S,C,o.value);q.transform(N,I),q.wheelDelta(_e),F.value=q,A.value=N,B.value=T,V.value={x:I.x,y:I.y,zoom:I.k},q.on("start",k=>{var b;if(!k.sourceEvent)return null;$=k.sourceEvent.button,P.value=!0;const x=U(k.transform);((b=k.sourceEvent)==null?void 0:b.type)==="mousedown"&&(M.value=!0),W=x,E.viewportChangeStart(x),E.moveStart({event:k,flowTransform:x})}),q.on("end",k=>{if(!k.sourceEvent)return null;if(P.value=!1,M.value=!1,le(se.value,$??0)&&!G&&E.paneContextMenu(k.sourceEvent),G=!1,ye(W,k.transform)){const b=U(k.transform);W=b,E.viewportChangeEnd(b),E.moveEnd({event:k,flowTransform:b})}}),q.filter(k=>{var b;const x=re.value||m.value,O=h.value&&k.ctrlKey,D=k.button;if(D===1&&k.type==="mousedown"&&(Q(k,"vue-flow__node")||Q(k,"vue-flow__edge")))return!0;if(!se.value&&!x&&!ee.value&&!d.value&&!h.value||y.value||!d.value&&k.type==="dblclick"||Q(k,w.value)&&k.type==="wheel"||Q(k,v.value)&&(k.type!=="wheel"||ee.value&&k.type==="wheel"&&!re.value)||!h.value&&k.ctrlKey&&k.type==="wheel"||!x&&!ee.value&&!O&&k.type==="wheel")return!1;if(!h&&k.type==="touchstart"&&((b=k.touches)==null?void 0:b.length)>1)return k.preventDefault(),!1;if(!se.value&&(k.type==="mousedown"||k.type==="touchstart")||s.value===!0&&Array.isArray(f.value)&&f.value.includes(0)&&D===0||Array.isArray(f.value)&&!f.value.includes(D)&&(k.type==="mousedown"||k.type==="touchstart"))return!1;const Z=Array.isArray(f.value)&&f.value.includes(D)||s.value===!0&&Array.isArray(f.value)&&!f.value.includes(0)||!D||D<=1;return(!k.ctrlKey||K.value||k.type==="wheel")&&Z}),Ne([y,se],()=>{y.value&&!P.value?q.on("zoom",null):y.value||q.on("zoom",k=>{V.value={x:k.transform.x,y:k.transform.y,zoom:k.transform.k};const b=U(k.transform);G=le(se.value,$??0),E.viewportChange(b),E.move({event:k,flowTransform:b})})},{immediate:!0}),Ne([y,ee,c,re,h,p,w],()=>{ee.value&&!re.value&&!y.value?N.on("wheel.zoom",k=>{if(Q(k,w.value))return!1;const b=re.value||m.value,x=h.value&&k.ctrlKey;if(!(!p.value||ee.value||b||x))return!1;k.preventDefault(),k.stopImmediatePropagation();const D=N.property("__zoom").k||1,Z=ea();if(!K.value&&k.ctrlKey&&h.value&&Z){const ve=En(k),ke=_e(k),at=D*2**ke;q.scaleTo(N,at,ve,k);return}const j=k.deltaMode===1?20:1;let R=c.value===ui.Vertical?0:k.deltaX*j,H=c.value===ui.Horizontal?0:k.deltaY*j;!Z&&k.shiftKey&&c.value!==ui.Vertical&&!R&&H&&(R=H,H=0),q.translateBy(N,-(R/D)*u.value,-(H/D)*u.value);const ce=U(N.property("__zoom"));L&&clearTimeout(L),oe.value?(E.move({event:k,flowTransform:ce}),E.viewportChange(ce),L=setTimeout(()=>{E.moveEnd({event:k,flowTransform:ce}),E.viewportChangeEnd(ce),oe.value=!1},150)):(oe.value=!0,E.moveStart({event:k,flowTransform:ce}),E.viewportChangeStart(ce))},{passive:!1}):typeof T<"u"&&N.on("wheel.zoom",function(k,b){const x=!p.value&&k.type==="wheel"&&!k.ctrlKey,O=re.value||m.value,D=h.value&&k.ctrlKey;if(!O&&!l.value&&!D&&k.type==="wheel"||x||Q(k,w.value))return null;k.preventDefault(),T.call(this,k,b)},{passive:!1})},{immediate:!0})});function le(X,te){return te===2&&Array.isArray(X)&&X.includes(2)}function _e(X){const te=X.ctrlKey&&ea()?10:1;return-X.deltaY*(X.deltaMode===1?.05:X.deltaMode?1:.002)*te}function ye(X,te){return X.x!==te.x&&!Number.isNaN(te.x)||X.y!==te.y&&!Number.isNaN(te.y)||X.zoom!==te.k&&!Number.isNaN(te.k)}function U(X){return{x:X.x,y:X.y,zoom:X.k}}function Q(X,te){return X.target.closest(`.${te}`)}return(X,te)=>(he(),Se("div",{ref_key:"viewportRef",ref:J,class:"vue-flow__viewport vue-flow__container"},[be(yk,{"is-selecting":ie.value,"selection-key-pressed":ue(ne),class:zt({connecting:!!ue(_),dragging:ue(M),draggable:ue(f)===!0||Array.isArray(ue(f))&&ue(f).includes(0)})},{default:Me(()=>[be(Sk,null,{default:Me(()=>[vt(X.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),Ck=["id"],xk=["id"],Ik=["id"],kk={name:"A11yDescriptions",compatConfig:{MODE:3}},Nk=xe({...kk,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:r}=rt();return(o,i)=>(he(),Se(Ge,null,[ae("div",{id:`${ue(Pm)}-${ue(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Qe(ue(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,Ck),ae("div",{id:`${ue(Rm)}-${ue(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,xk),ue(n)?mt("",!0):(he(),Se("div",{key:0,id:`${ue(KI)}-${ue(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},Qe(ue(r)),9,Ik))],64))}});function Tk(){const e=rt();Ne(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function Ok(e,t,n){return n===ge.Left?e-t:n===ge.Right?e+t:e}function Mk(e,t,n){return n===ge.Top?e-t:n===ge.Bottom?e+t:e}const Ru=function({radius:e=10,centerX:t=0,centerY:n=0,position:r=ge.Top,type:o}){return De("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${o}`,cx:Ok(t,e,r),cy:Mk(n,e,r),r:e,stroke:"transparent",fill:"transparent"})};Ru.props=["radius","centerX","centerY","position","type"];Ru.compatConfig={MODE:3};const ph=Ru,Pk=xe({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:r,edgeUpdaterRadius:o,emits:i,nodesSelectionActive:s,noPanClassName:a,getEdgeTypes:l,removeSelectedEdges:c,findEdge:u,findNode:f,isValidConnection:d,multiSelectionActive:h,disableKeyboardA11y:m,elementsSelectable:p,edgesUpdatable:w,edgesFocusable:v,hooks:E}=rt(),_=me(()=>u(e.id)),{emit:y,on:M}=C1(_.value,i),F=St(za),A=hn(),B=Ie(!1),V=Ie(!1),J=Ie(""),Y=Ie(null),P=Ie("source"),oe=Ie(null),L=Ze(()=>typeof _.value.selectable>"u"?p.value:_.value.selectable),G=Ze(()=>typeof _.value.updatable>"u"?w.value:_.value.updatable),$=Ze(()=>typeof _.value.focusable>"u"?v.value:_.value.focusable);kn(S1,e.id),kn(E1,oe);const W=me(()=>_.value.class instanceof Function?_.value.class(_.value):_.value.class),K=me(()=>_.value.style instanceof Function?_.value.style(_.value):_.value.style),ne=me(()=>{const C=_.value.type||"default",I=F==null?void 0:F[`edge-${C}`];if(I)return I;let k=_.value.template??l.value[C];if(typeof k=="string"&&A){const b=Object.keys(A.appContext.components);b&&b.includes(C)&&(k=Yi(C,!1))}return k&&typeof k!="string"?k:(i.error(new _t(pt.EDGE_TYPE_MISSING,k)),!1)}),{handlePointerDown:re}=Jm({nodeId:J,handleId:Y,type:P,isValidConnection:d,edgeUpdaterType:P,onEdgeUpdate:ie,onEdgeUpdateEnd:le});return()=>{const C=f(_.value.source),I=f(_.value.target),k="pathOptions"in _.value?_.value.pathOptions:{};if(!C&&!I)return i.error(new _t(pt.EDGE_SOURCE_TARGET_MISSING,_.value.id,_.value.source,_.value.target)),null;if(!C)return i.error(new _t(pt.EDGE_SOURCE_MISSING,_.value.id,_.value.source)),null;if(!I)return i.error(new _t(pt.EDGE_TARGET_MISSING,_.value.id,_.value.target)),null;if(!_.value||_.value.hidden||C.hidden||I.hidden)return null;let b;r.value===Sr.Strict?b=C.handleBounds.source:b=[...C.handleBounds.source||[],...C.handleBounds.target||[]];const x=nh(b,_.value.sourceHandle);let O;r.value===Sr.Strict?O=I.handleBounds.target:O=[...I.handleBounds.target||[],...I.handleBounds.source||[]];const D=nh(O,_.value.targetHandle),Z=(x==null?void 0:x.position)||ge.Bottom,j=(D==null?void 0:D.position)||ge.Top,{x:R,y:H}=Ro(C,x,Z),{x:ce,y:ve}=Ro(I,D,j);return _.value.sourceX=R,_.value.sourceY=H,_.value.targetX=ce,_.value.targetY=ve,De("g",{ref:oe,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${ne.value===!1?"default":_.value.type||"default"}`,a.value,W.value,{updating:B.value,selected:_.value.selected,animated:_.value.animated,inactive:!L.value&&!E.value.edgeClick.hasListeners()}],onClick:ye,onContextmenu:U,onDblclick:Q,onMouseenter:X,onMousemove:te,onMouseleave:q,onKeyDown:$.value?S:void 0,tabIndex:$.value?0:void 0,"aria-label":_.value.ariaLabel===null?void 0:_.value.ariaLabel||`Edge from ${_.value.source} to ${_.value.target}`,"aria-describedby":$.value?`${Rm}-${t}`:void 0,role:$.value?"button":"img"},[V.value?null:De(ne.value===!1?l.value.default:ne.value,{id:e.id,sourceNode:C,targetNode:I,source:_.value.source,target:_.value.target,type:_.value.type,updatable:G.value,selected:_.value.selected,animated:_.value.animated,label:_.value.label,labelStyle:_.value.labelStyle,labelShowBg:_.value.labelShowBg,labelBgStyle:_.value.labelBgStyle,labelBgPadding:_.value.labelBgPadding,labelBgBorderRadius:_.value.labelBgBorderRadius,data:_.value.data,events:{..._.value.events,...M},style:K.value,markerStart:`url('#${Li(_.value.markerStart,t)}')`,markerEnd:`url('#${Li(_.value.markerEnd,t)}')`,sourcePosition:Z,targetPosition:j,sourceX:R,sourceY:H,targetX:ce,targetY:ve,sourceHandleId:_.value.sourceHandle,targetHandleId:_.value.targetHandle,interactionWidth:_.value.interactionWidth,...k}),[G.value==="source"||G.value===!0?[De("g",{onMousedown:N,onMouseenter:se,onMouseout:ee},De(ph,{position:Z,centerX:R,centerY:H,radius:o.value,type:"source","data-type":"source"}))]:null,G.value==="target"||G.value===!0?[De("g",{onMousedown:T,onMouseenter:se,onMouseout:ee},De(ph,{position:j,centerX:ce,centerY:ve,radius:o.value,type:"target","data-type":"target"}))]:null]])};function se(){B.value=!0}function ee(){B.value=!1}function ie(C,I){y.update({event:C,edge:_.value,connection:I})}function le(C){y.updateEnd({event:C,edge:_.value}),V.value=!1}function _e(C,I){C.button===0&&(V.value=!0,J.value=I?_.value.target:_.value.source,Y.value=(I?_.value.targetHandle:_.value.sourceHandle)??"",P.value=I?"target":"source",y.updateStart({event:C,edge:_.value}),re(C))}function ye(C){var I;const k={event:C,edge:_.value};L.value&&(s.value=!1,_.value.selected&&h.value?(c([_.value]),(I=oe.value)==null||I.blur()):n([_.value])),y.click(k)}function U(C){y.contextMenu({event:C,edge:_.value})}function Q(C){y.doubleClick({event:C,edge:_.value})}function X(C){y.mouseEnter({event:C,edge:_.value})}function te(C){y.mouseMove({event:C,edge:_.value})}function q(C){y.mouseLeave({event:C,edge:_.value})}function N(C){_e(C,!0)}function T(C){_e(C,!1)}function S(C){var I;!m.value&&Am.includes(C.key)&&L.value&&(C.key==="Escape"?((I=oe.value)==null||I.blur(),c([u(e.id)])):n([u(e.id)]))}}}),Rk=Pk,Ak=xe({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:r,connectionEndHandle:o,connectionPosition:i,connectionLineType:s,connectionLineStyle:a,connectionLineOptions:l,connectionStatus:c,viewport:u,findNode:f}=rt(),d=(e=St(za))==null?void 0:e["connection-line"],h=me(()=>{var E;return f((E=r.value)==null?void 0:E.nodeId)}),m=me(()=>{var E;return f((E=o.value)==null?void 0:E.nodeId)??null}),p=me(()=>({x:(i.value.x-u.value.x)/u.value.zoom,y:(i.value.y-u.value.y)/u.value.zoom})),w=me(()=>l.value.markerStart?`url(#${Li(l.value.markerStart,t)})`:""),v=me(()=>l.value.markerEnd?`url(#${Li(l.value.markerEnd,t)})`:"");return()=>{var E,_,y;if(!h.value||!r.value)return null;const M=r.value.id,F=r.value.type,A=h.value.handleBounds;let B=(A==null?void 0:A[F])||[];if(n.value===Sr.Loose){const K=(A==null?void 0:A[F==="source"?"target":"source"])||[];B=[...B,...K]}if(!B)return null;const V=(M?B.find(K=>K.id===M):B[0])??null,J=(V==null?void 0:V.position)||ge.Top,{x:Y,y:P}=Ro(h.value,V,J);let oe=null;m.value&&(n.value===Sr.Strict?oe=((E=m.value.handleBounds[F==="source"?"target":"source"])==null?void 0:E.find(K=>{var ne;return K.id===((ne=o.value)==null?void 0:ne.id)}))||null:oe=((_=[...m.value.handleBounds.source||[],...m.value.handleBounds.target||[]])==null?void 0:_.find(K=>{var ne;return K.id===((ne=o.value)==null?void 0:ne.id)}))||null);const L=((y=o.value)==null?void 0:y.position)??(J?Nc[J]:null);if(!J||!L)return null;const G=s.value??l.value.type??Lr.Bezier;let $="";const W={sourceX:Y,sourceY:P,sourcePosition:J,targetX:p.value.x,targetY:p.value.y,targetPosition:L};return G===Lr.Bezier?[$]=Pu(W):G===Lr.Step?[$]=Oc({...W,borderRadius:0}):G===Lr.SmoothStep?[$]=Oc(W):G===Lr.SimpleBezier?[$]=o_(W):$=`M${Y},${P} ${p.value.x},${p.value.y}`,De("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},De("g",{class:"vue-flow__connection"},d?De(d,{sourceX:Y,sourceY:P,sourcePosition:J,targetX:p.value.x,targetY:p.value.y,targetPosition:L,sourceNode:h.value,sourceHandle:V,targetNode:m.value,targetHandle:oe,markerEnd:v.value,markerStart:w.value,connectionStatus:c.value}):De("path",{d:$,class:[l.value.class,c,"vue-flow__connection-path"],style:{...a.value,...l.value.style},"marker-end":v.value,"marker-start":w.value})))}}}),Dk=Ak,Lk=["id","markerWidth","markerHeight","markerUnits","orient"],$k={name:"MarkerType",compatConfig:{MODE:3}},Fk=xe({...$k,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(he(),Se("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===ue(xc).ArrowClosed?(he(),Se("polyline",{key:0,style:Bt({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):mt("",!0),t.type===ue(xc).Arrow?(he(),Se("polyline",{key:1,style:Bt({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):mt("",!0)],8,Lk))}}),Bk={class:"vue-flow__marker vue-flow__container"},Uk={name:"MarkerDefinitions",compatConfig:{MODE:3}},Hk=xe({...Uk,setup(e){const{id:t,edges:n,connectionLineOptions:r,defaultMarkerColor:o}=rt(),i=me(()=>{const s=new Set,a=[],l=c=>{if(c){const u=Li(c,t);s.has(u)||(typeof c=="object"?a.push({...c,id:u,color:c.color||o.value}):a.push({id:u,color:o.value,type:c}),s.add(u))}};for(const c of[r.value.markerEnd,r.value.markerStart])l(c);for(const c of n.value)for(const u of[c.markerStart,c.markerEnd])l(u);return a.sort((c,u)=>c.id.localeCompare(u.id))});return(s,a)=>(he(),Se("svg",Bk,[ae("defs",null,[(he(!0),Se(Ge,null,wo(i.value,l=>(he(),gt(Fk,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,"stroke-width":l.strokeWidth,orient:l.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),Vk={name:"Edges",compatConfig:{MODE:3}},zk=xe({...Vk,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:r}=rt();return(o,i)=>(he(),Se(Ge,null,[be(Hk),(he(!0),Se(Ge,null,wo(ue(n),s=>(he(),Se("svg",{key:s.id,class:"vue-flow__edges vue-flow__container",style:Bt({zIndex:ue(c1)(s,ue(t),ue(r))})},[be(ue(Rk),{id:s.id},null,8,["id"])],4))),128)),be(ue(Dk))],64))}}),Wk=xe({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:r,nodesSelectionActive:o,multiSelectionActive:i,emits:s,removeSelectedNodes:a,addSelectedNodes:l,updateNodeDimensions:c,onUpdateNodeInternals:u,getNodeTypes:f,nodeExtent:d,elevateNodesOnSelect:h,disableKeyboardA11y:m,ariaLiveMessage:p,snapToGrid:w,snapGrid:v,nodeDragThreshold:E,nodesDraggable:_,elementsSelectable:y,nodesConnectable:M,nodesFocusable:F,hooks:A}=rt(),B=Ie(null);kn(Xm,B),kn(Km,e.id);const V=St(za),J=hn(),Y=e_(),{node:P,parentNode:oe}=Qm(e.id),{emit:L,on:G}=N1(P,s),$=Ze(()=>typeof P.draggable>"u"?_.value:P.draggable),W=Ze(()=>typeof P.selectable>"u"?y.value:P.selectable),K=Ze(()=>typeof P.connectable>"u"?M.value:P.connectable),ne=Ze(()=>typeof P.focusable>"u"?F.value:P.focusable),re=Ze(()=>W.value||$.value||A.value.nodeClick.hasListeners()||A.value.nodeDoubleClick.hasListeners()||A.value.nodeMouseEnter.hasListeners()||A.value.nodeMouseMove.hasListeners()||A.value.nodeMouseLeave.hasListeners()),se=Ze(()=>!!P.dimensions.width&&!!P.dimensions.height),ee=me(()=>{const I=P.type||"default",k=V==null?void 0:V[`node-${I}`];if(k)return k;let b=P.template||f.value[I];if(typeof b=="string"&&J){const x=Object.keys(J.appContext.components);x&&x.includes(I)&&(b=Yi(I,!1))}return b&&typeof b!="string"?b:(s.error(new _t(pt.NODE_TYPE_MISSING,b)),!1)}),ie=Zm({id:e.id,el:B,disabled:()=>!$.value,selectable:W,dragHandle:()=>P.dragHandle,onStart(I){L.dragStart(I)},onDrag(I){L.drag(I)},onStop(I){L.dragStop(I)},onClick(I){S(I)}}),le=me(()=>P.class instanceof Function?P.class(P):P.class),_e=me(()=>{const I=(P.style instanceof Function?P.style(P):P.style)||{},k=P.width instanceof Function?P.width(P):P.width,b=P.height instanceof Function?P.height(P):P.height;return!I.width&&k&&(I.width=typeof k=="string"?k:`${k}px`),!I.height&&b&&(I.height=typeof b=="string"?b:`${b}px`),I}),ye=Ze(()=>Number(P.zIndex??_e.value.zIndex??0));return u(I=>{(I.includes(e.id)||!I.length)&&Q()}),gn(()=>{Ne(()=>P.hidden,(I=!1,k,b)=>{!I&&B.value&&(e.resizeObserver.observe(B.value),b(()=>{B.value&&e.resizeObserver.unobserve(B.value)}))},{immediate:!0,flush:"post"})}),Ne([()=>P.type,()=>P.sourcePosition,()=>P.targetPosition],()=>{tn(()=>{c([{id:e.id,nodeElement:B.value,forceUpdate:!0}])})}),Ne([()=>P.position.x,()=>P.position.y,()=>{var I;return(I=oe.value)==null?void 0:I.computedPosition.x},()=>{var I;return(I=oe.value)==null?void 0:I.computedPosition.y},()=>{var I;return(I=oe.value)==null?void 0:I.computedPosition.z},ye,()=>P.selected,()=>P.dimensions.height,()=>P.dimensions.width,()=>{var I;return(I=oe.value)==null?void 0:I.dimensions.height},()=>{var I;return(I=oe.value)==null?void 0:I.dimensions.width}],([I,k,b,x,O,D])=>{const Z={x:I,y:k,z:D+(h.value&&P.selected?1e3:0)};typeof b<"u"&&typeof x<"u"?P.computedPosition=r1({x:b,y:x,z:O},Z):P.computedPosition=Z},{flush:"post",immediate:!0}),Ne([()=>P.extent,d],([I,k],[b,x])=>{(I!==b||k!==x)&&U()}),P.extent==="parent"||typeof P.extent=="object"&&"range"in P.extent&&P.extent.range==="parent"?mc(()=>se).toBe(!0).then(U):U(),()=>P.hidden?null:De("div",{ref:B,"data-id":P.id,class:["vue-flow__node",`vue-flow__node-${ee.value===!1?"default":P.type||"default"}`,{[n.value]:$.value,dragging:ie==null?void 0:ie.value,draggable:$.value,selected:P.selected,selectable:W.value,parent:P.isParent},le.value],style:{visibility:se.value?"visible":"hidden",zIndex:P.computedPosition.z??ye.value,transform:`translate(${P.computedPosition.x}px,${P.computedPosition.y}px)`,pointerEvents:re.value?"all":"none",..._e.value},tabIndex:ne.value?0:void 0,role:ne.value?"button":void 0,"aria-describedby":m.value?void 0:`${Pm}-${t}`,"aria-label":P.ariaLabel,onMouseenter:X,onMousemove:te,onMouseleave:q,onContextmenu:N,onClick:S,onDblclick:T,onKeydown:C},[De(ee.value===!1?f.value.default:ee.value,{id:P.id,type:P.type,data:P.data,events:{...P.events,...G},selected:P.selected,resizing:P.resizing,dragging:ie.value,connectable:K.value,position:P.computedPosition,dimensions:P.dimensions,isValidTargetPos:P.isValidTargetPos,isValidSourcePos:P.isValidSourcePos,parent:P.parentNode,parentNodeId:P.parentNode,zIndex:P.computedPosition.z??ye.value,targetPosition:P.targetPosition,sourcePosition:P.sourcePosition,label:P.label,dragHandle:P.dragHandle,onUpdateNodeInternals:Q})]);function U(){const I=P.computedPosition,{computedPosition:k,position:b}=Ou(P,w.value?Ha(I,v.value):I,s.error,d.value,oe.value);(P.computedPosition.x!==k.x||P.computedPosition.y!==k.y)&&(P.computedPosition={...P.computedPosition,...k}),(P.position.x!==b.x||P.position.y!==b.y)&&(P.position=b)}function Q(){B.value&&c([{id:e.id,nodeElement:B.value,forceUpdate:!0}])}function X(I){ie!=null&&ie.value||L.mouseEnter({event:I,node:P})}function te(I){ie!=null&&ie.value||L.mouseMove({event:I,node:P})}function q(I){ie!=null&&ie.value||L.mouseLeave({event:I,node:P})}function N(I){return L.contextMenu({event:I,node:P})}function T(I){return L.doubleClick({event:I,node:P})}function S(I){W.value&&(!r.value||!$.value||E.value>0)&&Tc(P,i.value,l,a,o,!1,B.value),L.click({event:I,node:P})}function C(I){if(!(Ic(I)||m.value))if(Am.includes(I.key)&&W.value){const k=I.key==="Escape";Tc(P,i.value,l,a,o,k,B.value)}else $.value&&P.selected&&bo[I.key]&&(I.preventDefault(),p.value=`Moved selected node ${I.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~P.position.x}, y: ${~~P.position.y}`,Y({x:bo[I.key].x,y:bo[I.key].y},I.shiftKey))}}}),jk=Wk,Gk={height:"0",width:"0"},qk={name:"EdgeLabelRenderer",compatConfig:{MODE:3}},Yk=xe({...qk,setup(e){const{viewportRef:t}=rt(),n=Ze(()=>{var r;return(r=t.value)==null?void 0:r.getElementsByClassName("vue-flow__edge-labels")[0]});return(r,o)=>(he(),Se("svg",null,[(he(),Se("foreignObject",Gk,[(he(),gt(xy,{to:n.value,disabled:!n.value},[vt(r.$slots,"default")],8,["to","disabled"]))]))]))}});function Kk(e={includeHiddenNodes:!1}){const{nodes:t}=rt();return me(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const Xk={class:"vue-flow__nodes vue-flow__container"},Zk={name:"Nodes",compatConfig:{MODE:3}},Jk=xe({...Zk,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:r}=rt(),o=Kk(),i=Ie();return Ne(o,s=>{s&&tn(()=>{r.nodesInitialized(t.value)})},{immediate:!0}),gn(()=>{i.value=new ResizeObserver(s=>{const a=s.map(l=>({id:l.target.getAttribute("data-id"),nodeElement:l.target,forceUpdate:!0}));tn(()=>n(a))})}),lu(()=>{var s;return(s=i.value)==null?void 0:s.disconnect()}),(s,a)=>(he(),Se("div",Xk,[i.value?(he(!0),Se(Ge,{key:0},wo(ue(t),(l,c,u,f)=>{const d=[l.id];if(f&&f.key===l.id&&wb(f,d))return f;const h=(he(),gt(ue(jk),{id:l.id,key:l.id,"resize-observer":i.value},null,8,["id","resize-observer"]));return h.memo=d,h},a,0),128)):mt("",!0)]))}});function Qk(){const{emits:e}=rt();gn(()=>{if(Ym()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new _t(pt.MISSING_STYLES))}})}const eN=ae("div",{class:"vue-flow__edge-labels"},null,-1),tN={name:"VueFlow",compatConfig:{MODE:3}},nN=xe({...tN,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const r=e,o=Ly(),i=gl(r,"modelValue",n),s=gl(r,"nodes",n),a=gl(r,"edges",n),l=rt(r),c=M1({modelValue:i,nodes:s,edges:a},r,l);return R1(n,l.hooks),Tk(),Qk(),kn(za,o),qi(()=>{c()}),t(l),(u,f)=>(he(),Se("div",{ref:ue(l).vueFlowRef,class:"vue-flow"},[be(wk,null,{default:Me(()=>[be(zk),eN,be(Jk),vt(u.$slots,"zoom-pane")]),_:3}),vt(u.$slots,"default"),be(Nk)],512))}}),rN={class:"node-content"},oN=xe({__name:"DialogueNode",props:{id:{},type:{},selected:{type:Boolean},connectable:{type:[Boolean,Number,String,Function]},position:{},dimensions:{},label:{},isValidTargetPos:{type:Function},isValidSourcePos:{type:Function},parent:{},parentNodeId:{},dragging:{type:Boolean},resizing:{type:Boolean},zIndex:{},targetPosition:{},sourcePosition:{},dragHandle:{},data:{},events:{}},setup(e){const t=e,n=Ie(0);Ne(()=>t.position,()=>{console.log("Position changed"),console.log(t)}),gn(()=>{r()});function r(){const s=document.getElementById(`node-${t.id}`);if(!s)return console.error("Node not found");const a=s.offsetHeight;if(a%16==0)return;const l=Math.floor(a/16)*16;n.value=l+16,s.style.height=`${n.value}px`}const o=me(()=>`${Math.round(t.position.x)}px`),i=me(()=>`${Math.round(t.position.y)}px`);return(s,a)=>(he(),gt(tm,{class:zt(["vue-flow__node-default",{dragging:t.dragging}]),id:`node-${t.id}`},{default:Me(()=>[ae("div",rN,[ae("p",null,Qe(s.data.label),1),ae("pre",null,Qe(o.value)+", "+Qe(i.value),1),be(ue($i),{type:"source",position:ue(ge).Bottom},null,8,["position"])])]),_:1},8,["class","id"]))}}),iN=Kt(oN,[["__scopeId","data-v-0032f89b"]]),sN={inheritAttrs:!1},aN=xe({...sN,__name:"SpecialEdge",props:{id:{},sourceNode:{},targetNode:{},source:{},target:{},type:{},label:{},style:{},selected:{type:Boolean},sourcePosition:{},targetPosition:{},sourceHandleId:{},targetHandleId:{},animated:{type:Boolean},updatable:{type:Boolean},markerStart:{},markerEnd:{},curvature:{},interactionWidth:{},data:{},events:{},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{},sourceX:{},sourceY:{},targetX:{},targetY:{}},setup(e){const t=e,n=me(()=>Pu(t));return(r,o)=>(he(),Se(Ge,null,[be(ue(Qi),{path:n.value[0]},null,8,["path"]),be(ue(Yk),null,{default:Me(()=>[ae("div",{style:Bt({pointerEvents:"all",position:"absolute",transform:`translate(-50%, -50%) translate(${n.value[1]}px,${n.value[2]}px)`}),class:"nodrag nopan"},Qe(r.data.hello),5)]),_:1})],64))}});class lN{constructor(){Ut(this,"id");this.id=Eu()}}class cN{constructor(t,n){Ut(this,"id");Ut(this,"name");Ut(this,"description");Ut(this,"moments");this.id=Eu(),this.name=t,this.description=n,this.moments=[]}}var Gn=(e=>(e.Lines="lines",e.Dots="dots",e))(Gn||{});const s_=function({dimensions:e,size:t,color:n}){return De("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},a_=function({radius:e,color:t}){return De("circle",{cx:e,cy:e,r:e,fill:t})};Gn.Lines+"",Gn.Dots+"";const uN={[Gn.Dots]:"#81818a",[Gn.Lines]:"#eee"},fN=["id","x","y","width","height","patternTransform"],dN={key:2,height:"100",width:"100"},hN=["fill"],pN=["x","y","fill"],gN={name:"Background",compatConfig:{MODE:3}},mN=xe({...gN,props:{id:{},variant:{default:()=>Gn.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=rt(),r=me(()=>{const s=n.value.zoom,[a,l]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],c=[a*s||1,l*s||1],u=e.size*s,[f,d]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],h=[f*s||1+c[0]/2,d*s||1+c[1]/2];return{scaledGap:c,offset:h,size:u}}),o=Ze(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),i=Ze(()=>e.color||e.patternColor||uN[e.variant||Gn.Dots]);return(s,a)=>(he(),Se("svg",{class:"vue-flow__background vue-flow__container",style:Bt({height:`${s.height>100?100:s.height}%`,width:`${s.width>100?100:s.width}%`})},[vt(s.$slots,"pattern-container",{id:o.value},()=>[ae("pattern",{id:o.value,x:ue(n).x%r.value.scaledGap[0],y:ue(n).y%r.value.scaledGap[1],width:r.value.scaledGap[0],height:r.value.scaledGap[1],patternTransform:`translate(-${r.value.offset[0]},-${r.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[vt(s.$slots,"pattern",{},()=>[s.variant===ue(Gn).Lines?(he(),gt(ue(s_),{key:0,size:s.lineWidth,color:i.value,dimensions:r.value.scaledGap},null,8,["size","color","dimensions"])):s.variant===ue(Gn).Dots?(he(),gt(ue(a_),{key:1,color:i.value,radius:r.value.size/2},null,8,["color","radius"])):mt("",!0),s.bgColor?(he(),Se("svg",dN,[ae("rect",{width:"100%",height:"100%",fill:s.bgColor},null,8,hN)])):mt("",!0)])],8,fN)]),ae("rect",{x:s.x,y:s.y,width:"100%",height:"100%",fill:`url(#${o.value})`},null,8,pN),vt(s.$slots,"default",{id:o.value})],4))}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ao=typeof document<"u";function l_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function _N(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&l_(e.default)}const Ve=Object.assign;function kl(e,t){const n={};for(const r in t){const o=t[r];n[r]=pn(o)?o.map(e):e(o)}return n}const di=()=>{},pn=Array.isArray,c_=/#/g,vN=/&/g,yN=/\//g,bN=/=/g,SN=/\?/g,u_=/\+/g,EN=/%5B/g,wN=/%5D/g,f_=/%5E/g,CN=/%60/g,d_=/%7B/g,xN=/%7C/g,h_=/%7D/g,IN=/%20/g;function Au(e){return encodeURI(""+e).replace(xN,"|").replace(EN,"[").replace(wN,"]")}function kN(e){return Au(e).replace(d_,"{").replace(h_,"}").replace(f_,"^")}function Mc(e){return Au(e).replace(u_,"%2B").replace(IN,"+").replace(c_,"%23").replace(vN,"%26").replace(CN,"`").replace(d_,"{").replace(h_,"}").replace(f_,"^")}function NN(e){return Mc(e).replace(bN,"%3D")}function TN(e){return Au(e).replace(c_,"%23").replace(SN,"%3F")}function ON(e){return e==null?"":TN(e).replace(yN,"%2F")}function Fi(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const MN=/\/$/,PN=e=>e.replace(MN,"");function Nl(e,t,n="/"){let r,o={},i="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),o=e(i)),a>-1&&(r=r||t.slice(0,a),s=t.slice(a,t.length)),r=LN(r??t,n),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:Fi(s)}}function RN(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function gh(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function AN(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Ao(t.matched[r],n.matched[o])&&p_(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ao(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function p_(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!DN(e[n],t[n]))return!1;return!0}function DN(e,t){return pn(e)?mh(e,t):pn(t)?mh(t,e):e===t}function mh(e,t){return pn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function LN(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let i=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s).join("/")}const rr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Bi;(function(e){e.pop="pop",e.push="push"})(Bi||(Bi={}));var hi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(hi||(hi={}));function $N(e){if(!e)if(ao){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),PN(e)}const FN=/^[^#]+#/;function BN(e,t){return e.replace(FN,"#")+t}function UN(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const qa=()=>({left:window.scrollX,top:window.scrollY});function HN(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=UN(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function _h(e,t){return(history.state?history.state.position-t:-1)+e}const Pc=new Map;function VN(e,t){Pc.set(e,t)}function zN(e){const t=Pc.get(e);return Pc.delete(e),t}let WN=()=>location.protocol+"//"+location.host;function g_(e,t){const{pathname:n,search:r,hash:o}=t,i=e.indexOf("#");if(i>-1){let a=o.includes(e.slice(i))?e.slice(i).length:1,l=o.slice(a);return l[0]!=="/"&&(l="/"+l),gh(l,"")}return gh(n,e)+r+o}function jN(e,t,n,r){let o=[],i=[],s=null;const a=({state:d})=>{const h=g_(e,location),m=n.value,p=t.value;let w=0;if(d){if(n.value=h,t.value=d,s&&s===m){s=null;return}w=p?d.position-p.position:0}else r(h);o.forEach(v=>{v(n.value,m,{delta:w,type:Bi.pop,direction:w?w>0?hi.forward:hi.back:hi.unknown})})};function l(){s=n.value}function c(d){o.push(d);const h=()=>{const m=o.indexOf(d);m>-1&&o.splice(m,1)};return i.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(Ve({},d.state,{scroll:qa()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function vh(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?qa():null}}function GN(e){const{history:t,location:n}=window,r={value:g_(e,n)},o={value:t.state};o.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:WN()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),o.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function s(l,c){const u=Ve({},t.state,vh(o.value.back,l,o.value.forward,!0),c,{position:o.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=Ve({},o.value,t.state,{forward:l,scroll:qa()});i(u.current,u,!0);const f=Ve({},vh(r.value,l,null),{position:u.position+1},c);i(l,f,!1),r.value=l}return{location:r,state:o,push:a,replace:s}}function qN(e){e=$N(e);const t=GN(e),n=jN(e,t.state,t.location,t.replace);function r(i,s=!0){s||n.pauseListeners(),history.go(i)}const o=Ve({location:"",base:e,go:r,createHref:BN.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function YN(e){return typeof e=="string"||e&&typeof e=="object"}function m_(e){return typeof e=="string"||typeof e=="symbol"}const __=Symbol("");var yh;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(yh||(yh={}));function Do(e,t){return Ve(new Error,{type:e,[__]:!0},t)}function $n(e,t){return e instanceof Error&&__ in e&&(t==null||!!(e.type&t))}const bh="[^/]+?",KN={sensitive:!1,strict:!1,start:!0,end:!0},XN=/[.+*?^${}()[\]/\\]/g;function ZN(e,t){const n=Ve({},KN,t),r=[];let o=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(o+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(o+="/"),o+=d.value.replace(XN,"\\$&"),h+=40;else if(d.type===1){const{value:m,repeatable:p,optional:w,regexp:v}=d;i.push({name:m,repeatable:p,optional:w});const E=v||bh;if(E!==bh){h+=10;try{new RegExp(`(${E})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${m}" (${E}): `+y.message)}}let _=p?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;f||(_=w&&c.length<2?`(?:/${_})`:"/"+_),w&&(_+="?"),o+=_,h+=20,w&&(h+=-8),p&&(h+=-20),E===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");function a(c){const u=c.match(s),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",m=i[d-1];f[m.name]=h&&m.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:m,repeatable:p,optional:w}=h,v=m in c?c[m]:"";if(pn(v)&&!p)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const E=pn(v)?v.join("/"):v;if(!E)if(w)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);u+=E}}return u||"/"}return{re:s,score:r,keys:i,parse:a,stringify:l}}function JN(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function v_(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const i=JN(r[n],o[n]);if(i)return i;n++}if(Math.abs(o.length-r.length)===1){if(Sh(r))return 1;if(Sh(o))return-1}return o.length-r.length}function Sh(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const QN={type:0,value:""},eT=/[a-zA-Z0-9_]/;function tT(e){if(!e)return[[]];if(e==="/")return[[QN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const o=[];let i;function s(){i&&o.push(i),i=[]}let a=0,l,c="",u="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),s()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:eT.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),s(),o}function nT(e,t,n){const r=ZN(tT(e.path),n),o=Ve(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function rT(e,t){const n=[],r=new Map;t=xh({strict:!1,end:!0,sensitive:!1},t);function o(f){return r.get(f)}function i(f,d,h){const m=!h,p=wh(f);p.aliasOf=h&&h.record;const w=xh(t,f),v=[p];if("alias"in f){const y=typeof f.alias=="string"?[f.alias]:f.alias;for(const M of y)v.push(wh(Ve({},p,{components:h?h.record.components:p.components,path:M,aliasOf:h?h.record:p})))}let E,_;for(const y of v){const{path:M}=y;if(d&&M[0]!=="/"){const F=d.record.path,A=F[F.length-1]==="/"?"":"/";y.path=d.record.path+(M&&A+M)}if(E=nT(y,d,w),h?h.alias.push(E):(_=_||E,_!==E&&_.alias.push(E),m&&f.name&&!Ch(E)&&s(f.name)),y_(E)&&l(E),p.children){const F=p.children;for(let A=0;A<F.length;A++)i(F[A],E,h&&h.children[A])}h=h||E}return _?()=>{s(_)}:di}function s(f){if(m_(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(s),d.alias.forEach(s))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(s),f.alias.forEach(s))}}function a(){return n}function l(f){const d=sT(f,n);n.splice(d,0,f),f.record.name&&!Ch(f)&&r.set(f.record.name,f)}function c(f,d){let h,m={},p,w;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw Do(1,{location:f});w=h.record.name,m=Ve(Eh(d.params,h.keys.filter(_=>!_.optional).concat(h.parent?h.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),f.params&&Eh(f.params,h.keys.map(_=>_.name))),p=h.stringify(m)}else if(f.path!=null)p=f.path,h=n.find(_=>_.re.test(p)),h&&(m=h.parse(p),w=h.record.name);else{if(h=d.name?r.get(d.name):n.find(_=>_.re.test(d.path)),!h)throw Do(1,{location:f,currentLocation:d});w=h.record.name,m=Ve({},d.params,f.params),p=h.stringify(m)}const v=[];let E=h;for(;E;)v.unshift(E.record),E=E.parent;return{name:w,path:p,params:m,matched:v,meta:iT(v)}}e.forEach(f=>i(f));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:s,clearRoutes:u,getRoutes:a,getRecordMatcher:o}}function Eh(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function wh(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:oT(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function oT(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Ch(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function iT(e){return e.reduce((t,n)=>Ve(t,n.meta),{})}function xh(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function sT(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;v_(e,t[i])<0?r=i:n=i+1}const o=aT(e);return o&&(r=t.lastIndexOf(o,r-1)),r}function aT(e){let t=e;for(;t=t.parent;)if(y_(t)&&v_(e,t)===0)return t}function y_({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function lT(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const i=r[o].replace(u_," "),s=i.indexOf("="),a=Fi(s<0?i:i.slice(0,s)),l=s<0?null:Fi(i.slice(s+1));if(a in t){let c=t[a];pn(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Ih(e){let t="";for(let n in e){const r=e[n];if(n=NN(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(pn(r)?r.map(i=>i&&Mc(i)):[r&&Mc(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function cT(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=pn(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const uT=Symbol(""),kh=Symbol(""),Du=Symbol(""),Lu=Symbol(""),Rc=Symbol("");function Zo(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ur(e,t,n,r,o,i=s=>s()){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Do(4,{from:n,to:t})):d instanceof Error?l(d):YN(d)?l(Do(2,{from:t,to:d})):(s&&r.enterCallbacks[o]===s&&typeof d=="function"&&s.push(d),a())},u=i(()=>e.call(r&&r.instances[o],t,n,c));let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(d=>l(d))})}function Tl(e,t,n,r,o=i=>i()){const i=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(l_(l)){const u=(l.__vccOpts||l)[t];u&&i.push(ur(u,n,r,s,a,o))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${s.path}"`);const f=_N(u)?u.default:u;s.mods[a]=u,s.components[a]=f;const h=(f.__vccOpts||f)[t];return h&&ur(h,n,r,s,a,o)()}))}}return i}function Nh(e){const t=St(Du),n=St(Lu),r=me(()=>{const l=ue(e.to);return t.resolve(l)}),o=me(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(Ao.bind(null,u));if(d>-1)return d;const h=Th(l[c-2]);return c>1&&Th(u)===h&&f[f.length-1].path!==h?f.findIndex(Ao.bind(null,l[c-2])):d}),i=me(()=>o.value>-1&&gT(n.params,r.value.params)),s=me(()=>o.value>-1&&o.value===n.matched.length-1&&p_(n.params,r.value.params));function a(l={}){if(pT(l)){const c=t[ue(e.replace)?"replace":"push"](ue(e.to)).catch(di);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:me(()=>r.value.href),isActive:i,isExactActive:s,navigate:a}}function fT(e){return e.length===1?e[0]:e}const dT=xe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Nh,setup(e,{slots:t}){const n=Bo(Nh(e)),{options:r}=St(Du),o=me(()=>({[Oh(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Oh(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&fT(t.default(n));return e.custom?i:De("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),hT=dT;function pT(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function gT(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!pn(o)||o.length!==r.length||r.some((i,s)=>i!==o[s]))return!1}return!0}function Th(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Oh=(e,t,n)=>e??t??n,mT=xe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=St(Rc),o=me(()=>e.route||r.value),i=St(kh,0),s=me(()=>{let c=ue(i);const{matched:u}=o.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=me(()=>o.value.matched[s.value]);kn(kh,me(()=>s.value+1)),kn(uT,a),kn(Rc,o);const l=Ie();return Ne(()=>[l.value,a.value,e.name],([c,u,f],[d,h,m])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Ao(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=o.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return Mh(n.default,{Component:d,route:c});const h=f.props[u],m=h?h===!0?c.params:typeof h=="function"?h(c):h:null,w=De(d,Ve({},m,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Mh(n.default,{Component:w,route:c})||w}}});function Mh(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const _T=mT;function vT(e){const t=rT(e.routes,e),n=e.parseQuery||lT,r=e.stringifyQuery||Ih,o=e.history,i=Zo(),s=Zo(),a=Zo(),l=$s(rr);let c=rr;ao&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=kl.bind(null,U=>""+U),f=kl.bind(null,ON),d=kl.bind(null,Fi);function h(U,Q){let X,te;return m_(U)?(X=t.getRecordMatcher(U),te=Q):te=U,t.addRoute(te,X)}function m(U){const Q=t.getRecordMatcher(U);Q&&t.removeRoute(Q)}function p(){return t.getRoutes().map(U=>U.record)}function w(U){return!!t.getRecordMatcher(U)}function v(U,Q){if(Q=Ve({},Q||l.value),typeof U=="string"){const S=Nl(n,U,Q.path),C=t.resolve({path:S.path},Q),I=o.createHref(S.fullPath);return Ve(S,C,{params:d(C.params),hash:Fi(S.hash),redirectedFrom:void 0,href:I})}let X;if(U.path!=null)X=Ve({},U,{path:Nl(n,U.path,Q.path).path});else{const S=Ve({},U.params);for(const C in S)S[C]==null&&delete S[C];X=Ve({},U,{params:f(S)}),Q.params=f(Q.params)}const te=t.resolve(X,Q),q=U.hash||"";te.params=u(d(te.params));const N=RN(r,Ve({},U,{hash:kN(q),path:te.path})),T=o.createHref(N);return Ve({fullPath:N,hash:q,query:r===Ih?cT(U.query):U.query||{}},te,{redirectedFrom:void 0,href:T})}function E(U){return typeof U=="string"?Nl(n,U,l.value.path):Ve({},U)}function _(U,Q){if(c!==U)return Do(8,{from:Q,to:U})}function y(U){return A(U)}function M(U){return y(Ve(E(U),{replace:!0}))}function F(U){const Q=U.matched[U.matched.length-1];if(Q&&Q.redirect){const{redirect:X}=Q;let te=typeof X=="function"?X(U):X;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=E(te):{path:te},te.params={}),Ve({query:U.query,hash:U.hash,params:te.path!=null?{}:U.params},te)}}function A(U,Q){const X=c=v(U),te=l.value,q=U.state,N=U.force,T=U.replace===!0,S=F(X);if(S)return A(Ve(E(S),{state:typeof S=="object"?Ve({},q,S.state):q,force:N,replace:T}),Q||X);const C=X;C.redirectedFrom=Q;let I;return!N&&AN(r,te,X)&&(I=Do(16,{to:C,from:te}),se(te,te,!0,!1)),(I?Promise.resolve(I):J(C,te)).catch(k=>$n(k)?$n(k,2)?k:re(k):K(k,C,te)).then(k=>{if(k){if($n(k,2))return A(Ve({replace:T},E(k.to),{state:typeof k.to=="object"?Ve({},q,k.to.state):q,force:N}),Q||C)}else k=P(C,te,!0,T,q);return Y(C,te,k),k})}function B(U,Q){const X=_(U,Q);return X?Promise.reject(X):Promise.resolve()}function V(U){const Q=le.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(U):U()}function J(U,Q){let X;const[te,q,N]=yT(U,Q);X=Tl(te.reverse(),"beforeRouteLeave",U,Q);for(const S of te)S.leaveGuards.forEach(C=>{X.push(ur(C,U,Q))});const T=B.bind(null,U,Q);return X.push(T),ye(X).then(()=>{X=[];for(const S of i.list())X.push(ur(S,U,Q));return X.push(T),ye(X)}).then(()=>{X=Tl(q,"beforeRouteUpdate",U,Q);for(const S of q)S.updateGuards.forEach(C=>{X.push(ur(C,U,Q))});return X.push(T),ye(X)}).then(()=>{X=[];for(const S of N)if(S.beforeEnter)if(pn(S.beforeEnter))for(const C of S.beforeEnter)X.push(ur(C,U,Q));else X.push(ur(S.beforeEnter,U,Q));return X.push(T),ye(X)}).then(()=>(U.matched.forEach(S=>S.enterCallbacks={}),X=Tl(N,"beforeRouteEnter",U,Q,V),X.push(T),ye(X))).then(()=>{X=[];for(const S of s.list())X.push(ur(S,U,Q));return X.push(T),ye(X)}).catch(S=>$n(S,8)?S:Promise.reject(S))}function Y(U,Q,X){a.list().forEach(te=>V(()=>te(U,Q,X)))}function P(U,Q,X,te,q){const N=_(U,Q);if(N)return N;const T=Q===rr,S=ao?history.state:{};X&&(te||T?o.replace(U.fullPath,Ve({scroll:T&&S&&S.scroll},q)):o.push(U.fullPath,q)),l.value=U,se(U,Q,X,T),re()}let oe;function L(){oe||(oe=o.listen((U,Q,X)=>{if(!_e.listening)return;const te=v(U),q=F(te);if(q){A(Ve(q,{replace:!0,force:!0}),te).catch(di);return}c=te;const N=l.value;ao&&VN(_h(N.fullPath,X.delta),qa()),J(te,N).catch(T=>$n(T,12)?T:$n(T,2)?(A(Ve(E(T.to),{force:!0}),te).then(S=>{$n(S,20)&&!X.delta&&X.type===Bi.pop&&o.go(-1,!1)}).catch(di),Promise.reject()):(X.delta&&o.go(-X.delta,!1),K(T,te,N))).then(T=>{T=T||P(te,N,!1),T&&(X.delta&&!$n(T,8)?o.go(-X.delta,!1):X.type===Bi.pop&&$n(T,20)&&o.go(-1,!1)),Y(te,N,T)}).catch(di)}))}let G=Zo(),$=Zo(),W;function K(U,Q,X){re(U);const te=$.list();return te.length?te.forEach(q=>q(U,Q,X)):console.error(U),Promise.reject(U)}function ne(){return W&&l.value!==rr?Promise.resolve():new Promise((U,Q)=>{G.add([U,Q])})}function re(U){return W||(W=!U,L(),G.list().forEach(([Q,X])=>U?X(U):Q()),G.reset()),U}function se(U,Q,X,te){const{scrollBehavior:q}=e;if(!ao||!q)return Promise.resolve();const N=!X&&zN(_h(U.fullPath,0))||(te||!X)&&history.state&&history.state.scroll||null;return tn().then(()=>q(U,Q,N)).then(T=>T&&HN(T)).catch(T=>K(T,U,Q))}const ee=U=>o.go(U);let ie;const le=new Set,_e={currentRoute:l,listening:!0,addRoute:h,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:w,getRoutes:p,resolve:v,options:e,push:y,replace:M,go:ee,back:()=>ee(-1),forward:()=>ee(1),beforeEach:i.add,beforeResolve:s.add,afterEach:a.add,onError:$.add,isReady:ne,install(U){const Q=this;U.component("RouterLink",hT),U.component("RouterView",_T),U.config.globalProperties.$router=Q,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>ue(l)}),ao&&!ie&&l.value===rr&&(ie=!0,y(o.location).catch(q=>{}));const X={};for(const q in rr)Object.defineProperty(X,q,{get:()=>l.value[q],enumerable:!0});U.provide(Du,Q),U.provide(Lu,Ap(X)),U.provide(Rc,l);const te=U.unmount;le.add(U),U.unmount=function(){le.delete(U),le.size<1&&(c=rr,oe&&oe(),oe=null,l.value=rr,ie=!1,W=!1),te()}}};function ye(U){return U.reduce((Q,X)=>Q.then(()=>V(X)),Promise.resolve())}return _e}function yT(e,t){const n=[],r=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let s=0;s<i;s++){const a=t.matched[s];a&&(e.matched.find(c=>Ao(c,a))?r.push(a):n.push(a));const l=e.matched[s];l&&(t.matched.find(c=>Ao(c,l))||o.push(l))}return[n,r,o]}function bT(e){return St(Lu)}const ST={Modals:{Tracking:{title:"Allow tracking?",message:"We track events like clicks and page views to improve our service.",Controls:{cancel:"Don't track me",confirm:"Allow tracking"}},Confirm:{Controls:{cancel:"Cancel",confirm:"Confirm"}},"Delete-project":{title:"Delete project",message:"Are you sure you want to delete this project?<br>This action cannot be undone.",Controls:{cancel:"Cancel",confirm:"Delete project"}}}},ET={UI:ST},wT=hE({legacy:!1,locale:localStorage.getItem("language")||"en",missing:(e,t)=>`[${t}]`,warnHtmlMessage:!1,messages:{en:ET}});let b_;function CT(){b_=To()}function hr(e,t){return b_.t(e,t)}const xT={class:"settings"},IT={class:"list-description"},kT=xe({__name:"SettingsModal",props:{project:{}},setup(e){const t=e;function n(){Dt.close(),Dt.open(Xg,{title:hr("UI.Modals.Delete-project.title"),message:hr("UI.Modals.Delete-project.message"),confirmText:hr("UI.Modals.Delete-project.Controls.confirm"),cancelText:hr("UI.Modals.Delete-project.Controls.cancel"),isConfirmButtonCta:!0,onConfirm:()=>{Qr.push({name:Wo.HOME}),Aa().removeProjectById(t.project.id),Dt.close()},onCancel:()=>{Dt.close(),Dt.open(S_,{project:t.project})}})}return(r,o)=>(he(),gt(Ig,null,{header:Me(()=>[be(Pg,{closeButton:""},{default:Me(()=>o[0]||(o[0]=[ae("h2",null,"Project Settings",-1)])),_:1})]),content:Me(()=>[ae("div",xT,[ae("ul",IT,[ae("li",null,[o[1]||(o[1]=ae("strong",null,"Project ID:",-1)),Fr(" "+Qe(r.project.id),1)]),ae("li",null,[o[2]||(o[2]=ae("strong",null,"Project Name:",-1)),Fr(" "+Qe(r.project.name),1)]),o[3]||(o[3]=ae("li",null,[ae("strong",null,"Project Description:"),Fr(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. ")],-1))]),be(Vn,{onClick:n},{default:Me(()=>o[4]||(o[4]=[ae("i",{class:"fas fa-exclamation-triangle"},null,-1),Fr(" Delete Project ")])),_:1})])]),_:1}))}}),S_=Kt(kT,[["__scopeId","data-v-6f08b5e9"]]),NT={};function TT(e,t){return he(),Se("ul",null,[vt(e.$slots,"default",{},void 0,!0)])}const Ph=Kt(NT,[["render",TT],["__scopeId","data-v-44fdade7"]]),OT={key:0,class:"page page--project"},MT={class:"sidebar__project"},PT={class:"flex"},RT={class:"flex"},AT={key:0},DT=["onClick"],LT={key:0,class:"sidebar__scene"},$T={key:0},FT={key:0},BT=xe({__name:"TheProjectPage",setup(e){const{onPaneReady:t,toObject:n,fromObject:r,addNodes:o}=rt(),i=bT(),s=Aa(),a=Ie(i.params.id||null),l=Ie(s.getProjectById(a.value)||null),c=Ie(null),u=Ie(null),f=Ie([]),d=Ie([]);t(v=>{var E;c.value=v,(E=c.value)==null||E.setViewport({x:0,y:0,zoom:1})});function h(){Dt.open(S_,{project:l.value})}function m(){var E;const v=new cN("New Scene","Lorem ipsum dolor sit amet.");(E=l.value)==null||E.scenes.push(v)}function p(){var E;const v=new lN;(E=u.value)==null||E.moments.push(v)}function w(){Qr.push({name:Wo.HOME})}return(v,E)=>l.value?(he(),Se("div",OT,[be(ue(nN),{nodes:f.value,edges:d.value,"snap-to-grid":!0,"snap-grid":[16,16]},{"node-dialogue":Me(_=>[be(iN,uf(ql(_)),null,16)]),"edge-dialogue":Me(_=>[be(aN,uf(ql(_)),null,16)]),default:Me(()=>[be(ue(mN),{gap:16,offset:0})]),_:1},8,["nodes","edges"]),be(dc,{class:"sidebar"},{default:Me(()=>[ae("section",MT,[ae("div",PT,[be(Vn,{onClick:w},{default:Me(()=>E[0]||(E[0]=[ae("i",{class:"fas fa-chevron-left"},null,-1),ae("span",null,"Home",-1)])),_:1}),be(Vn,{onClick:h},{default:Me(()=>E[1]||(E[1]=[ae("i",{class:"fas fa-cog"},null,-1),ae("span",null,"Project Settings",-1)])),_:1})]),E[5]||(E[5]=ae("h2",null,"Project",-1)),ae("p",null,[ae("strong",null,Qe(l.value.name),1)]),ae("p",null,Qe(l.value.description),1),ae("div",RT,[be(js,{color:"var(--color-surface-alt)",useLightText:!0},{default:Me(()=>[ae("span",null,"Created "+Qe(new Date(l.value.createdAt).toLocaleDateString()),1)]),_:1}),be(js,{color:"var(--color-surface-alt)",useLightText:!0},{default:Me(()=>[ae("span",null,"Modified "+Qe(new Date(l.value.updatedAt).toLocaleDateString()),1)]),_:1})]),be(Vn,{onClick:m,"full-width":""},{default:Me(()=>E[2]||(E[2]=[ae("i",{class:"fas fa-plus"},null,-1),ae("span",null,"New Scene",-1)])),_:1}),be(Ph,{class:"scenes"},{default:Me(()=>[l.value.scenes.length===0?(he(),Se("li",AT,E[3]||(E[3]=[ae("em",null,"No scenes yet.",-1)]))):mt("",!0),(he(!0),Se(Ge,null,wo(l.value.scenes,_=>{var y;return he(),Se("li",{key:_.id,onClick:M=>u.value===_?u.value=null:u.value=_,class:zt({"is-selected":((y=u.value)==null?void 0:y.id)===_.id})},[E[4]||(E[4]=ae("i",{class:"fas fa-layer-group"},null,-1)),ae("span",null,[Fr(Qe(_.name)+" ",1),ae("em",null,Qe(_.id.substring(0,8)),1)])],10,DT)}),128))]),_:1})]),u.value?(he(),Se("section",LT,[E[9]||(E[9]=ae("h2",null,"Scene",-1)),u.value?(he(),Se("p",$T,[ae("strong",null,Qe(u.value.name),1)])):mt("",!0),be(Vn,{onClick:p,"full-width":""},{default:Me(()=>E[6]||(E[6]=[ae("i",{class:"fas fa-plus"},null,-1),ae("span",null,"Add Node",-1)])),_:1}),be(Ph,{class:"moments"},{default:Me(()=>{var _,y;return[((_=u.value)==null?void 0:_.moments.length)===0?(he(),Se("li",FT,E[7]||(E[7]=[ae("em",null,"No moments yet.",-1)]))):mt("",!0),(he(!0),Se(Ge,null,wo((y=u.value)==null?void 0:y.moments,M=>(he(),Se("li",{key:M.id},[E[8]||(E[8]=ae("i",{class:"fas fa-comment-alt"},null,-1)),ae("span",null,Qe(M.id.substring(0,8)),1)]))),128))]}),_:1})])):mt("",!0)]),_:1})])):mt("",!0)}}),UT=Kt(BT,[["__scopeId","data-v-020789c6"]]);var fe;if(typeof window>"u"){var Rh={hostname:""};fe={navigator:{userAgent:"",onLine:!0},document:{createElement:function(){return{}},location:Rh,referrer:""},screen:{width:0,height:0},location:Rh,addEventListener:function(){},removeEventListener:function(){}}}else fe=window;var ft;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(ft||(ft={}));function HT(e){return e.nodeType===e.ELEMENT_NODE}function pi(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function gi(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function VT(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function zT(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function ta(e){try{const t=e.rules||e.cssRules;return t?VT(Array.from(t,E_).join("")):null}catch{return null}}function E_(e){let t;if(jT(e))try{t=ta(e.styleSheet)||zT(e)}catch{}else if(GT(e)&&e.selectorText.includes(":"))return WT(e.cssText);return t||e.cssText}function WT(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function jT(e){return"styleSheet"in e}function GT(e){return"selectorText"in e}class w_{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){var n;if(!t)return-1;const r=(n=this.getMeta(t))===null||n===void 0?void 0:n.id;return r??-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function qT(){return new w_}function $u({element:e,maskInputOptions:t,tagName:n,type:r,value:o,maskInputFn:i}){let s=o||"";const a=r&&Kr(r);return(t[n.toLowerCase()]||a&&t[a])&&(i?s=i(s,e):s="*".repeat(s.length)),s}function Kr(e){return e.toLowerCase()}const Ah="__rrweb_original__";function YT(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){const i=t.getImageData,s=Ah in i?i[Ah]:i;if(new Uint32Array(s.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(l=>l!==0))return!1}return!0}function Fu(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Kr(t):null}function C_(e,t){var n;let r;try{r=new URL(e,t??window.location.href)}catch{return null}const o=/\.([0-9a-z]+)(?:$)/i,i=r.pathname.match(o);return(n=i==null?void 0:i[1])!==null&&n!==void 0?n:null}let KT=1;const XT=new RegExp("[^a-z0-9-_:]"),Ui=-2;function x_(){return KT++}function ZT(e){if(e instanceof HTMLFormElement)return"form";const t=Kr(e.tagName);return XT.test(t)?"div":t}function JT(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let ro,Dh;const QT=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,eO=/^(?:[a-z+]+:)?\/\//i,tO=/^www\..*/i,nO=/^(data:)([^,]*),(.*)/i;function na(e,t){return(e||"").replace(QT,(n,r,o,i,s,a)=>{const l=o||s||a,c=r||i||"";if(!l)return n;if(eO.test(l)||tO.test(l))return`url(${c}${l}${c})`;if(nO.test(l))return`url(${c}${l}${c})`;if(l[0]==="/")return`url(${c}${JT(t)+l}${c})`;const u=t.split("/"),f=l.split("/");u.pop();for(const d of f)d!=="."&&(d===".."?u.pop():u.push(d));return`url(${c}${u.join("/")}${c})`})}const rO=/^[^ \t\n\r\u000c]+/,oO=/^[, \t\n\r\u000c]+/;function iO(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s;const a=i.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}const o=[];for(;r(oO),!(n>=t.length);){let i=r(rO);if(i.slice(-1)===",")i=co(e,i.substring(0,i.length-1)),o.push(i);else{let s="";i=co(e,i);let a=!1;for(;;){const l=t.charAt(n);if(l===""){o.push((i+s).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,o.push((i+s).trim());break}else l==="("&&(a=!0);s+=l,n+=1}}}return o.join(", ")}function co(e,t){if(!t||t.trim()==="")return t;const n=e.createElement("a");return n.href=t,n.href}function sO(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Bu(){const e=document.createElement("a");return e.href="",e.href}function I_(e,t,n,r){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?co(e,r):n==="srcset"?iO(e,r):n==="style"?na(r,Bu()):t==="object"&&n==="data"?co(e,r):r)}function k_(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function aO(e,t,n){try{if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let r=e.classList.length;r--;){const o=e.classList[r];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function ra(e,t,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return n?ra(e.parentNode,t,n):!1;for(let r=e.classList.length;r--;){const o=e.classList[r];if(t.test(o))return!0}return n?ra(e.parentNode,t,n):!1}function N_(e,t,n,r){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(typeof t=="string"){if(r){if(o.closest(`.${t}`))return!0}else if(o.classList.contains(t))return!0}else if(ra(o,t,r))return!0;if(n){if(r){if(o.closest(n))return!0}else if(o.matches(n))return!0}}catch{}return!1}function lO(e,t,n){const r=e.contentWindow;if(!r)return;let o=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=setTimeout(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),o=!0,t()});return}const s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function cO(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;const i=setTimeout(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{clearTimeout(i),r=!0,t()})}function uO(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,needsMask:s,inlineStylesheet:a,maskInputOptions:l={},maskTextFn:c,maskInputFn:u,dataURLOptions:f={},inlineImages:d,recordCanvas:h,keepIframeSrcFn:m,newlyAddedElement:p=!1}=t,w=fO(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:ft.Document,childNodes:[],compatMode:e.compatMode}:{type:ft.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ft.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return hO(e,{doc:n,blockClass:o,blockSelector:i,inlineStylesheet:a,maskInputOptions:l,maskInputFn:u,dataURLOptions:f,inlineImages:d,recordCanvas:h,keepIframeSrcFn:m,newlyAddedElement:p,rootId:w});case e.TEXT_NODE:return dO(e,{needsMask:s,maskTextFn:c,rootId:w});case e.CDATA_SECTION_NODE:return{type:ft.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:ft.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function fO(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function dO(e,t){var n;const{needsMask:r,maskTextFn:o,rootId:i}=t,s=e.parentNode&&e.parentNode.tagName;let a=e.textContent;const l=s==="STYLE"?!0:void 0,c=s==="SCRIPT"?!0:void 0;if(l&&a){try{e.nextSibling||e.previousSibling||!((n=e.parentNode.sheet)===null||n===void 0)&&n.cssRules&&(a=ta(e.parentNode.sheet))}catch(u){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${u}`,e)}a=na(a,Bu())}return c&&(a="SCRIPT_PLACEHOLDER"),!l&&!c&&a&&r&&(a=o?o(a,e.parentElement):a.replace(/[\S]/g,"*")),{type:ft.Text,textContent:a||"",isStyle:l,rootId:i}}function hO(e,t){const{doc:n,blockClass:r,blockSelector:o,inlineStylesheet:i,maskInputOptions:s={},maskInputFn:a,dataURLOptions:l={},inlineImages:c,recordCanvas:u,keepIframeSrcFn:f,newlyAddedElement:d=!1,rootId:h}=t,m=aO(e,r,o),p=ZT(e);let w={};const v=e.attributes.length;for(let _=0;_<v;_++){const y=e.attributes[_];k_(p,y.name,y.value)||(w[y.name]=I_(n,p,Kr(y.name),y.value))}if(p==="link"&&i){const _=Array.from(n.styleSheets).find(M=>M.href===e.href);let y=null;_&&(y=ta(_)),y&&(delete w.rel,delete w.href,w._cssText=na(y,_.href))}if(p==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const _=ta(e.sheet);_&&(w._cssText=na(_,Bu()))}if(p==="input"||p==="textarea"||p==="select"){const _=e.value,y=e.checked;w.type!=="radio"&&w.type!=="checkbox"&&w.type!=="submit"&&w.type!=="button"&&_?w.value=$u({element:e,type:Fu(e),tagName:p,value:_,maskInputOptions:s,maskInputFn:a}):y&&(w.checked=y)}if(p==="option"&&(e.selected&&!s.select?w.selected=!0:delete w.selected),p==="canvas"&&u){if(e.__context==="2d")YT(e)||(w.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const _=e.toDataURL(l.type,l.quality),y=document.createElement("canvas");y.width=e.width,y.height=e.height;const M=y.toDataURL(l.type,l.quality);_!==M&&(w.rr_dataURL=_)}}if(p==="img"&&c){ro||(ro=n.createElement("canvas"),Dh=ro.getContext("2d"));const _=e,y=_.crossOrigin;_.crossOrigin="anonymous";const M=()=>{_.removeEventListener("load",M);try{ro.width=_.naturalWidth,ro.height=_.naturalHeight,Dh.drawImage(_,0,0),w.rr_dataURL=ro.toDataURL(l.type,l.quality)}catch(F){console.warn(`Cannot inline img src=${_.currentSrc}! Error: ${F}`)}y?w.crossOrigin=y:_.removeAttribute("crossorigin")};_.complete&&_.naturalWidth!==0?M():_.addEventListener("load",M)}if(p==="audio"||p==="video"){const _=w;_.rr_mediaState=e.paused?"paused":"played",_.rr_mediaCurrentTime=e.currentTime,_.rr_mediaPlaybackRate=e.playbackRate,_.rr_mediaMuted=e.muted,_.rr_mediaLoop=e.loop,_.rr_mediaVolume=e.volume}if(d||(e.scrollLeft&&(w.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(w.rr_scrollTop=e.scrollTop)),m){const{width:_,height:y}=e.getBoundingClientRect();w={class:w.class,rr_width:`${_}px`,rr_height:`${y}px`}}p==="iframe"&&!f(w.src)&&(e.contentDocument||(w.rr_src=w.src),delete w.src);let E;try{customElements.get(p)&&(E=!0)}catch{}return{type:ft.Element,tagName:p,attributes:w,childNodes:[],isSVG:sO(e)||void 0,needBlock:m,rootId:h,isCustom:E}}function Ye(e){return e==null?"":e.toLowerCase()}function pO(e,t){if(t.comment&&e.type===ft.Comment)return!0;if(e.type===ft.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&C_(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Ye(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Ye(e.attributes.name)==="application-name"||Ye(e.attributes.rel)==="icon"||Ye(e.attributes.rel)==="apple-touch-icon"||Ye(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Ye(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Ye(e.attributes.property).match(/^(og|twitter|fb):/)||Ye(e.attributes.name).match(/^(og|twitter):/)||Ye(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Ye(e.attributes.name)==="robots"||Ye(e.attributes.name)==="googlebot"||Ye(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Ye(e.attributes.name)==="author"||Ye(e.attributes.name)==="generator"||Ye(e.attributes.name)==="framework"||Ye(e.attributes.name)==="publisher"||Ye(e.attributes.name)==="progid"||Ye(e.attributes.property).match(/^article:/)||Ye(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Ye(e.attributes.name)==="google-site-verification"||Ye(e.attributes.name)==="yandex-verification"||Ye(e.attributes.name)==="csrf-token"||Ye(e.attributes.name)==="p:domain_verify"||Ye(e.attributes.name)==="verify-v1"||Ye(e.attributes.name)==="verification"||Ye(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function uo(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,maskTextClass:s,maskTextSelector:a,skipChild:l=!1,inlineStylesheet:c=!0,maskInputOptions:u={},maskTextFn:f,maskInputFn:d,slimDOMOptions:h,dataURLOptions:m={},inlineImages:p=!1,recordCanvas:w=!1,onSerialize:v,onIframeLoad:E,iframeLoadTimeout:_=5e3,onStylesheetLoad:y,stylesheetLoadTimeout:M=5e3,keepIframeSrcFn:F=()=>!1,newlyAddedElement:A=!1}=t;let{needsMask:B}=t,{preserveWhiteSpace:V=!0}=t;!B&&e.childNodes&&(B=N_(e,s,a,B===void 0));const J=uO(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,needsMask:B,inlineStylesheet:c,maskInputOptions:u,maskTextFn:f,maskInputFn:d,dataURLOptions:m,inlineImages:p,recordCanvas:w,keepIframeSrcFn:F,newlyAddedElement:A});if(!J)return console.warn(e,"not serialized"),null;let Y;r.hasNode(e)?Y=r.getId(e):pO(J,h)||!V&&J.type===ft.Text&&!J.isStyle&&!J.textContent.replace(/^\s+|\s+$/gm,"").length?Y=Ui:Y=x_();const P=Object.assign(J,{id:Y});if(r.add(e,P),Y===Ui)return null;v&&v(e);let oe=!l;if(P.type===ft.Element){oe=oe&&!P.needBlock,delete P.needBlock;const L=e.shadowRoot;L&&gi(L)&&(P.isShadowHost=!0)}if((P.type===ft.Document||P.type===ft.Element)&&oe){h.headWhitespace&&P.type===ft.Element&&P.tagName==="head"&&(V=!1);const L={doc:n,mirror:r,blockClass:o,blockSelector:i,needsMask:B,maskTextClass:s,maskTextSelector:a,skipChild:l,inlineStylesheet:c,maskInputOptions:u,maskTextFn:f,maskInputFn:d,slimDOMOptions:h,dataURLOptions:m,inlineImages:p,recordCanvas:w,preserveWhiteSpace:V,onSerialize:v,onIframeLoad:E,iframeLoadTimeout:_,onStylesheetLoad:y,stylesheetLoadTimeout:M,keepIframeSrcFn:F};if(!(P.type===ft.Element&&P.tagName==="textarea"&&P.attributes.value!==void 0))for(const G of Array.from(e.childNodes)){const $=uo(G,L);$&&P.childNodes.push($)}if(HT(e)&&e.shadowRoot)for(const G of Array.from(e.shadowRoot.childNodes)){const $=uo(G,L);$&&(gi(e.shadowRoot)&&($.isShadow=!0),P.childNodes.push($))}}return e.parentNode&&pi(e.parentNode)&&gi(e.parentNode)&&(P.isShadow=!0),P.type===ft.Element&&P.tagName==="iframe"&&lO(e,()=>{const L=e.contentDocument;if(L&&E){const G=uo(L,{doc:L,mirror:r,blockClass:o,blockSelector:i,needsMask:B,maskTextClass:s,maskTextSelector:a,skipChild:!1,inlineStylesheet:c,maskInputOptions:u,maskTextFn:f,maskInputFn:d,slimDOMOptions:h,dataURLOptions:m,inlineImages:p,recordCanvas:w,preserveWhiteSpace:V,onSerialize:v,onIframeLoad:E,iframeLoadTimeout:_,onStylesheetLoad:y,stylesheetLoadTimeout:M,keepIframeSrcFn:F});G&&E(e,G)}},_),P.type===ft.Element&&P.tagName==="link"&&typeof P.attributes.rel=="string"&&(P.attributes.rel==="stylesheet"||P.attributes.rel==="preload"&&typeof P.attributes.href=="string"&&C_(P.attributes.href)==="css")&&cO(e,()=>{if(y){const L=uo(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,needsMask:B,maskTextClass:s,maskTextSelector:a,skipChild:!1,inlineStylesheet:c,maskInputOptions:u,maskTextFn:f,maskInputFn:d,slimDOMOptions:h,dataURLOptions:m,inlineImages:p,recordCanvas:w,preserveWhiteSpace:V,onSerialize:v,onIframeLoad:E,iframeLoadTimeout:_,onStylesheetLoad:y,stylesheetLoadTimeout:M,keepIframeSrcFn:F});L&&y(e,L)}},M),P}function gO(e,t){const{mirror:n=new w_,blockClass:r="rr-block",blockSelector:o=null,maskTextClass:i="rr-mask",maskTextSelector:s=null,inlineStylesheet:a=!0,inlineImages:l=!1,recordCanvas:c=!1,maskAllInputs:u=!1,maskTextFn:f,maskInputFn:d,slimDOM:h=!1,dataURLOptions:m,preserveWhiteSpace:p,onSerialize:w,onIframeLoad:v,iframeLoadTimeout:E,onStylesheetLoad:_,stylesheetLoadTimeout:y,keepIframeSrcFn:M=()=>!1}=t||{};return uo(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,maskTextClass:i,maskTextSelector:s,skipChild:!1,inlineStylesheet:a,maskInputOptions:u===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:u===!1?{password:!0}:u,maskTextFn:f,maskInputFn:d,slimDOMOptions:h===!0||h==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:h==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:h===!1?{}:h,dataURLOptions:m,inlineImages:l,recordCanvas:c,preserveWhiteSpace:p,onSerialize:w,onIframeLoad:v,iframeLoadTimeout:E,onStylesheetLoad:_,stylesheetLoadTimeout:y,keepIframeSrcFn:M,newlyAddedElement:!1})}function Lt(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const lo=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Lh={map:{},getId(){return console.error(lo),-1},getNode(){return console.error(lo),null},removeNodeFromMap(){console.error(lo)},has(){return console.error(lo),!1},reset(){console.error(lo)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Lh=new Proxy(Lh,{get(e,t,n){return t==="map"&&console.error(lo),Reflect.get(e,t,n)}}));function Hi(e,t,n={}){let r=null,o=0;return function(...i){const s=Date.now();!o&&n.leading===!1&&(o=s);const a=t-(s-o),l=this;a<=0||a>t?(r&&(clearTimeout(r),r=null),o=s,e.apply(l,i)):!r&&n.trailing!==!1&&(r=setTimeout(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(l,i)},a))}}function Ya(e,t,n,r,o=window){const i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){setTimeout(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Ya(e,t,i||{},!0)}function Uo(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}let oa=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(oa=()=>new Date().getTime());function T_(e){var t,n,r,o,i,s;const a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(a==null?void 0:a.documentElement.scrollLeft)||((n=(t=a==null?void 0:a.body)===null||t===void 0?void 0:t.parentElement)===null||n===void 0?void 0:n.scrollLeft)||((r=a==null?void 0:a.body)===null||r===void 0?void 0:r.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(a==null?void 0:a.documentElement.scrollTop)||((i=(o=a==null?void 0:a.body)===null||o===void 0?void 0:o.parentElement)===null||i===void 0?void 0:i.scrollTop)||((s=a==null?void 0:a.body)===null||s===void 0?void 0:s.scrollTop)||0}}function O_(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function M_(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function P_(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function $t(e,t,n,r){if(!e)return!1;const o=P_(e);if(!o)return!1;try{if(typeof t=="string"){if(o.classList.contains(t)||r&&o.closest("."+t)!==null)return!0}else if(ra(o,t,r))return!0}catch{}return!!(n&&(o.matches(n)||r&&o.closest(n)!==null))}function mO(e,t){return t.getId(e)!==-1}function Ol(e,t){return t.getId(e)===Ui}function R_(e,t){if(pi(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?R_(e.parentNode,t):!0:!0}function Ac(e){return!!e.changedTouches}function _O(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function A_(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function D_(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Dc(e){return!!(e!=null&&e.shadowRoot)}class vO{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var n;return(n=this.styleIDMap.get(t))!==null&&n!==void 0?n:-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function L_(e){var t,n;let r=null;return((n=(t=e.getRootNode)===null||t===void 0?void 0:t.call(e))===null||n===void 0?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(r=e.getRootNode().host),r}function yO(e){let t=e,n;for(;n=L_(t);)t=n;return t}function bO(e){const t=e.ownerDocument;if(!t)return!1;const n=yO(e);return t.contains(n)}function $_(e){const t=e.ownerDocument;return t?t.contains(e)||bO(e):!1}var Le=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Le||{}),Pe=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Pe||{}),Ht=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ht||{}),Fn=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Fn||{}),Lo=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Lo||{});function $h(e){return"__ln"in e}class SO{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&$h(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&$h(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Fh=(e,t)=>`${e}@${t}`;class EO{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new SO,o=l=>{let c=l,u=Ui;for(;u===Ui;)c=c&&c.nextSibling,u=c&&this.mirror.getId(c);return u},i=l=>{if(!l.parentNode||!$_(l)||l.parentNode.tagName==="TEXTAREA")return;const c=pi(l.parentNode)?this.mirror.getId(L_(l)):this.mirror.getId(l.parentNode),u=o(l);if(c===-1||u===-1)return r.addNode(l);const f=uo(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:d=>{A_(d,this.mirror)&&this.iframeManager.addIframe(d),D_(d,this.mirror)&&this.stylesheetManager.trackLinkElement(d),Dc(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(d,h)=>{this.iframeManager.attachIframe(d,h),this.shadowDomManager.observeAttachShadow(d)},onStylesheetLoad:(d,h)=>{this.stylesheetManager.attachLinkElement(d,h)}});f&&(t.push({parentId:c,nextId:u,node:f}),n.add(f.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)Bh(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||i(l);for(const l of this.addedSet)!Uh(this.droppedSet,l)&&!Bh(this.removes,l,this.mirror)||Uh(this.movedSet,l)?i(l):this.droppedSet.add(l);let s=null;for(;r.length;){let l=null;if(s){const c=this.mirror.getId(s.value.parentNode),u=o(s.value);c!==-1&&u!==-1&&(l=s)}if(!l){let c=r.tail;for(;c;){const u=c;if(c=c.previous,u){const f=this.mirror.getId(u.value.parentNode);if(o(u.value)===-1)continue;if(f!==-1){l=u;break}else{const h=u.value;if(h.parentNode&&h.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const m=h.parentNode.host;if(this.mirror.getId(m)!==-1){l=u;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}s=l.previous,r.removeNode(l.value),i(l.value)}const a={texts:this.texts.map(l=>{const c=l.node;return c.parentNode&&c.parentNode.tagName==="TEXTAREA"&&this.genTextAreaValueMutation(c.parentNode),{id:this.mirror.getId(c),value:l.value}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:c}=l;if(typeof c.style=="string"){const u=JSON.stringify(l.styleDiff),f=JSON.stringify(l._unchangedStyles);u.length<c.style.length&&(u+f).split("var(").length===c.style.split("var(").length&&(c.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:c}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.genTextAreaValueMutation=t=>{let n=this.attributeMap.get(t);n||(n={node:t,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(n),this.attributeMap.set(t,n)),n.attributes.value=Array.from(t.childNodes,r=>r.textContent||"").join("")},this.processMutation=t=>{if(!Ol(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!$t(t.target,this.blockClass,this.blockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:N_(t.target,this.maskTextClass,this.maskTextSelector,!0)&&n?this.maskTextFn?this.maskTextFn(n,P_(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,o=t.target.getAttribute(r);if(r==="value"){const s=Fu(n);o=$u({element:n,maskInputOptions:this.maskInputOptions,tagName:n.tagName,type:s,value:o,maskInputFn:this.maskInputFn})}if($t(t.target,this.blockClass,this.blockSelector,!1)||o===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(o))if(!n.contentDocument)r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!k_(n.tagName,r)&&(i.attributes[r]=I_(this.doc,Kr(n.tagName),Kr(r),o),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const s=this.unattachedDoc.createElement("span");t.oldValue&&s.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),c=n.style.getPropertyPriority(a);l!==s.style.getPropertyValue(a)||c!==s.style.getPropertyPriority(a)?c===""?i.styleDiff[a]=l:i.styleDiff[a]=[l,c]:i._unchangedStyles[a]=[l,c]}for(const a of Array.from(s.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if($t(t.target,this.blockClass,this.blockSelector,!0))return;if(t.target.tagName==="TEXTAREA"){this.genTextAreaValueMutation(t.target);return}t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),o=pi(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);$t(t.target,this.blockClass,this.blockSelector,!1)||Ol(n,this.mirror)||!mO(n,this.mirror)||(this.addedSet.has(n)?(Lc(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||R_(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Fh(r,o)]?Lc(this.movedSet,n):this.removes.push({parentId:o,id:r,isShadow:pi(t.target)&&gi(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Ol(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Fh(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);$t(t,this.blockClass,this.blockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Dc(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Lc(e,t){e.delete(t),t.childNodes.forEach(n=>Lc(e,n))}function Bh(e,t,n){return e.length===0?!1:F_(e,t,n)}function F_(e,t,n){const{parentNode:r}=t;if(!r)return!1;const o=n.getId(r);return e.some(i=>i.id===o)?!0:F_(e,r,n)}function Uh(e,t){return e.size===0?!1:B_(e,t)}function B_(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:B_(e,n):!1}let mi;function wO(e){mi=e}function CO(){mi=void 0}const Ae=e=>mi?(...n)=>{try{return e(...n)}catch(r){if(mi&&mi(r)===!0)return;throw r}}:e,Hr=[];function es(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function U_(e,t){var n,r;const o=new EO;Hr.push(o),o.init(e);let i=window.MutationObserver||window.__rrMutationObserver;const s=(r=(n=window==null?void 0:window.Zone)===null||n===void 0?void 0:n.__symbol__)===null||r===void 0?void 0:r.call(n,"MutationObserver");s&&window[s]&&(i=window[s]);const a=new i(Ae(o.processMutations.bind(o)));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function xO({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let s=[],a;const l=Hi(Ae(f=>{const d=Date.now()-a;e(s.map(h=>(h.timeOffset-=d,h)),f),s=[],a=null}),i),c=Ae(Hi(Ae(f=>{const d=es(f),{clientX:h,clientY:m}=Ac(f)?f.changedTouches[0]:f;a||(a=oa()),s.push({x:h,y:m,id:r.getId(d),timeOffset:oa()-a}),l(typeof DragEvent<"u"&&f instanceof DragEvent?Pe.Drag:f instanceof MouseEvent?Pe.MouseMove:Pe.TouchMove)}),o,{trailing:!1})),u=[Lt("mousemove",c,n),Lt("touchmove",c,n),Lt("drag",c,n)];return Ae(()=>{u.forEach(f=>f())})}function IO({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const s=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,a=[];let l=null;const c=u=>f=>{const d=es(f);if($t(d,r,o,!0))return;let h=null,m=u;if("pointerType"in f){switch(f.pointerType){case"mouse":h=Fn.Mouse;break;case"touch":h=Fn.Touch;break;case"pen":h=Fn.Pen;break}h===Fn.Touch?Ht[u]===Ht.MouseDown?m="TouchStart":Ht[u]===Ht.MouseUp&&(m="TouchEnd"):Fn.Pen}else Ac(f)&&(h=Fn.Touch);h!==null?(l=h,(m.startsWith("Touch")&&h===Fn.Touch||m.startsWith("Mouse")&&h===Fn.Mouse)&&(h=null)):Ht[u]===Ht.Click&&(h=l,l=null);const p=Ac(f)?f.changedTouches[0]:f;if(!p)return;const w=n.getId(d),{clientX:v,clientY:E}=p;Ae(e)(Object.assign({type:Ht[m],id:w,x:v,y:E},h!==null&&{pointerType:h}))};return Object.keys(Ht).filter(u=>Number.isNaN(Number(u))&&!u.endsWith("_Departed")&&s[u]!==!1).forEach(u=>{let f=Kr(u);const d=c(u);if(window.PointerEvent)switch(Ht[u]){case Ht.MouseDown:case Ht.MouseUp:f=f.replace("mouse","pointer");break;case Ht.TouchStart:case Ht.TouchEnd:return}a.push(Lt(f,d,t))}),Ae(()=>{a.forEach(u=>u())})}function H_({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,sampling:i}){const s=Ae(Hi(Ae(a=>{const l=es(a);if(!l||$t(l,r,o,!0))return;const c=n.getId(l);if(l===t&&t.defaultView){const u=T_(t.defaultView);e({id:c,x:u.left,y:u.top})}else e({id:c,x:l.scrollLeft,y:l.scrollTop})}),i.scroll||100));return Lt("scroll",s,t)}function kO({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const o=Ae(Hi(Ae(()=>{const i=O_(),s=M_();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return Lt("resize",o,t)}const NO=["INPUT","TEXTAREA","SELECT"],Hh=new WeakMap;function TO({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,ignoreClass:i,ignoreSelector:s,maskInputOptions:a,maskInputFn:l,sampling:c,userTriggeredOnInput:u}){function f(E){let _=es(E);const y=E.isTrusted,M=_&&_.tagName;if(_&&M==="OPTION"&&(_=_.parentElement),!_||!M||NO.indexOf(M)<0||$t(_,r,o,!0)||_.classList.contains(i)||s&&_.matches(s))return;let F=_.value,A=!1;const B=Fu(_)||"";B==="radio"||B==="checkbox"?A=_.checked:(a[M.toLowerCase()]||a[B])&&(F=$u({element:_,maskInputOptions:a,tagName:M,type:B,value:F,maskInputFn:l})),d(_,u?{text:F,isChecked:A,userTriggered:y}:{text:F,isChecked:A});const V=_.name;B==="radio"&&V&&A&&t.querySelectorAll(`input[type="radio"][name="${V}"]`).forEach(J=>{if(J!==_){const Y=J.value;d(J,u?{text:Y,isChecked:!A,userTriggered:!1}:{text:Y,isChecked:!A})}})}function d(E,_){const y=Hh.get(E);if(!y||y.text!==_.text||y.isChecked!==_.isChecked){Hh.set(E,_);const M=n.getId(E);Ae(e)(Object.assign(Object.assign({},_),{id:M}))}}const m=(c.input==="last"?["change"]:["input","change"]).map(E=>Lt(E,Ae(f),t)),p=t.defaultView;if(!p)return()=>{m.forEach(E=>E())};const w=p.Object.getOwnPropertyDescriptor(p.HTMLInputElement.prototype,"value"),v=[[p.HTMLInputElement.prototype,"value"],[p.HTMLInputElement.prototype,"checked"],[p.HTMLSelectElement.prototype,"value"],[p.HTMLTextAreaElement.prototype,"value"],[p.HTMLSelectElement.prototype,"selectedIndex"],[p.HTMLOptionElement.prototype,"selected"]];return w&&w.set&&m.push(...v.map(E=>Ya(E[0],E[1],{set(){Ae(f)({target:this,isTrusted:!1})}},!1,p))),Ae(()=>{m.forEach(E=>E())})}function ia(e){const t=[];function n(r,o){if(Ss("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Ss("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Ss("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Ss("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const s=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(s)}else if(r.parentStyleSheet){const s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(s)}return o}return n(e,t)}function fr(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function OO({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:Ae((u,f,d)=>{const[h,m]=d,{id:p,styleId:w}=fr(f,t,n.styleMirror);return(p&&p!==-1||w&&w!==-1)&&e({id:p,styleId:w,adds:[{rule:h,index:m}]}),u.apply(f,d)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:Ae((u,f,d)=>{const[h]=d,{id:m,styleId:p}=fr(f,t,n.styleMirror);return(m&&m!==-1||p&&p!==-1)&&e({id:m,styleId:p,removes:[{index:h}]}),u.apply(f,d)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:Ae((u,f,d)=>{const[h]=d,{id:m,styleId:p}=fr(f,t,n.styleMirror);return(m&&m!==-1||p&&p!==-1)&&e({id:m,styleId:p,replace:h}),u.apply(f,d)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Ae((u,f,d)=>{const[h]=d,{id:m,styleId:p}=fr(f,t,n.styleMirror);return(m&&m!==-1||p&&p!==-1)&&e({id:m,styleId:p,replaceSync:h}),u.apply(f,d)})}));const l={};Es("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(Es("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),Es("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),Es("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(l).forEach(([u,f])=>{c[u]={insertRule:f.prototype.insertRule,deleteRule:f.prototype.deleteRule},f.prototype.insertRule=new Proxy(c[u].insertRule,{apply:Ae((d,h,m)=>{const[p,w]=m,{id:v,styleId:E}=fr(h.parentStyleSheet,t,n.styleMirror);return(v&&v!==-1||E&&E!==-1)&&e({id:v,styleId:E,adds:[{rule:p,index:[...ia(h),w||0]}]}),d.apply(h,m)})}),f.prototype.deleteRule=new Proxy(c[u].deleteRule,{apply:Ae((d,h,m)=>{const[p]=m,{id:w,styleId:v}=fr(h.parentStyleSheet,t,n.styleMirror);return(w&&w!==-1||v&&v!==-1)&&e({id:w,styleId:v,removes:[{index:[...ia(h),p]}]}),d.apply(h,m)})})}),Ae(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([u,f])=>{f.prototype.insertRule=c[u].insertRule,f.prototype.deleteRule=c[u].deleteRule})})}function V_({mirror:e,stylesheetManager:t},n){var r,o,i;let s=null;n.nodeName==="#document"?s=e.getId(n):s=e.getId(n.host);const a=n.nodeName==="#document"?(r=n.defaultView)===null||r===void 0?void 0:r.Document:(i=(o=n.ownerDocument)===null||o===void 0?void 0:o.defaultView)===null||i===void 0?void 0:i.ShadowRoot,l=a!=null&&a.prototype?Object.getOwnPropertyDescriptor(a==null?void 0:a.prototype,"adoptedStyleSheets"):void 0;return s===null||s===-1||!a||!l?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){var c;return(c=l.get)===null||c===void 0?void 0:c.call(this)},set(c){var u;const f=(u=l.set)===null||u===void 0?void 0:u.call(this,c);if(s!==null&&s!==-1)try{t.adoptStyleSheets(c,s)}catch{}return f}}),Ae(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))}function MO({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){const i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:Ae((a,l,c)=>{var u;const[f,d,h]=c;if(n.has(f))return i.apply(l,[f,d,h]);const{id:m,styleId:p}=fr((u=l.parentRule)===null||u===void 0?void 0:u.parentStyleSheet,t,r.styleMirror);return(m&&m!==-1||p&&p!==-1)&&e({id:m,styleId:p,set:{property:f,value:d,priority:h},index:ia(l.parentRule)}),a.apply(l,c)})});const s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:Ae((a,l,c)=>{var u;const[f]=c;if(n.has(f))return s.apply(l,[f]);const{id:d,styleId:h}=fr((u=l.parentRule)===null||u===void 0?void 0:u.parentStyleSheet,t,r.styleMirror);return(d&&d!==-1||h&&h!==-1)&&e({id:d,styleId:h,remove:{property:f},index:ia(l.parentRule)}),a.apply(l,c)})}),Ae(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}function PO({mediaInteractionCb:e,blockClass:t,blockSelector:n,mirror:r,sampling:o,doc:i}){const s=Ae(l=>Hi(Ae(c=>{const u=es(c);if(!u||$t(u,t,n,!0))return;const{currentTime:f,volume:d,muted:h,playbackRate:m,loop:p}=u;e({type:l,id:r.getId(u),currentTime:f,volume:d,muted:h,playbackRate:m,loop:p})}),o.media||500)),a=[Lt("play",s(0),i),Lt("pause",s(1),i),Lt("seeked",s(2),i),Lt("volumechange",s(3),i),Lt("ratechange",s(4),i)];return Ae(()=>{a.forEach(l=>l())})}function RO({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(l,c,u){const f=new i(l,c,u);return o.set(f,{family:l,buffer:typeof c!="string",descriptors:u,fontSource:typeof c=="string"?c:JSON.stringify(Array.from(new Uint8Array(c)))}),f};const s=Uo(t.fonts,"add",function(a){return function(l){return setTimeout(Ae(()=>{const c=o.get(l);c&&(e(c),o.delete(l))}),0),a.apply(this,[l])}});return r.push(()=>{n.FontFace=i}),r.push(s),Ae(()=>{r.forEach(a=>a())})}function AO(e){const{doc:t,mirror:n,blockClass:r,blockSelector:o,selectionCb:i}=e;let s=!0;const a=Ae(()=>{const l=t.getSelection();if(!l||s&&(l!=null&&l.isCollapsed))return;s=l.isCollapsed||!1;const c=[],u=l.rangeCount||0;for(let f=0;f<u;f++){const d=l.getRangeAt(f),{startContainer:h,startOffset:m,endContainer:p,endOffset:w}=d;$t(h,r,o,!0)||$t(p,r,o,!0)||c.push({start:n.getId(h),startOffset:m,end:n.getId(p),endOffset:w})}i({ranges:c})});return a(),Lt("selectionchange",a)}function DO({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Uo(n.customElements,"define",function(o){return function(i,s,a){try{t({define:{name:i}})}catch{console.warn(`Custom element callback failed for ${i}`)}return o.apply(this,[i,s,a])}})}function LO(e,t){const{mutationCb:n,mousemoveCb:r,mouseInteractionCb:o,scrollCb:i,viewportResizeCb:s,inputCb:a,mediaInteractionCb:l,styleSheetRuleCb:c,styleDeclarationCb:u,canvasMutationCb:f,fontCb:d,selectionCb:h,customElementCb:m}=e;e.mutationCb=(...p)=>{t.mutation&&t.mutation(...p),n(...p)},e.mousemoveCb=(...p)=>{t.mousemove&&t.mousemove(...p),r(...p)},e.mouseInteractionCb=(...p)=>{t.mouseInteraction&&t.mouseInteraction(...p),o(...p)},e.scrollCb=(...p)=>{t.scroll&&t.scroll(...p),i(...p)},e.viewportResizeCb=(...p)=>{t.viewportResize&&t.viewportResize(...p),s(...p)},e.inputCb=(...p)=>{t.input&&t.input(...p),a(...p)},e.mediaInteractionCb=(...p)=>{t.mediaInteaction&&t.mediaInteaction(...p),l(...p)},e.styleSheetRuleCb=(...p)=>{t.styleSheetRule&&t.styleSheetRule(...p),c(...p)},e.styleDeclarationCb=(...p)=>{t.styleDeclaration&&t.styleDeclaration(...p),u(...p)},e.canvasMutationCb=(...p)=>{t.canvasMutation&&t.canvasMutation(...p),f(...p)},e.fontCb=(...p)=>{t.font&&t.font(...p),d(...p)},e.selectionCb=(...p)=>{t.selection&&t.selection(...p),h(...p)},e.customElementCb=(...p)=>{t.customElement&&t.customElement(...p),m(...p)}}function $O(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};LO(e,t);let r;e.recordDOM&&(r=U_(e,e.doc));const o=xO(e),i=IO(e),s=H_(e),a=kO(e,{win:n}),l=TO(e),c=PO(e);let u=()=>{},f=()=>{},d=()=>{},h=()=>{};e.recordDOM&&(u=OO(e,{win:n}),f=V_(e,e.doc),d=MO(e,{win:n}),e.collectFonts&&(h=RO(e)));const m=AO(e),p=DO(e),w=[];for(const v of e.plugins)w.push(v.observer(v.callback,n,v.options));return Ae(()=>{Hr.forEach(v=>v.reset()),r==null||r.disconnect(),o(),i(),s(),a(),l(),c(),u(),f(),d(),h(),m(),p(),w.forEach(v=>v())})}function Ss(e){return typeof window[e]<"u"}function Es(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Vh{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){const i=r||this.getIdToRemoteIdMap(t),s=o||this.getRemoteIdToIdMap(t);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),s.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,o))}getRemoteId(t,n,r){const o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const i=o.get(n);return i||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class FO{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Vh(x_),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Vh(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var r;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(r=this.loadListener)===null||r===void 0||r.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const o=this.crossOriginIframeMap.get(t.source);if(!o)return;const i=this.transformCrossOriginEvent(o,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case Le.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const o=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,o),this.patchRootIdOnNode(n.data.node,o),{timestamp:n.timestamp,type:Le.IncrementalSnapshot,data:{source:Pe.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Le.Meta:case Le.Load:case Le.DomContentLoaded:return!1;case Le.Plugin:return n;case Le.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Le.IncrementalSnapshot:switch(n.data.source){case Pe.Mutation:return n.data.adds.forEach(o=>{this.replaceIds(o,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(o.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(o.node,i)}),n.data.removes.forEach(o=>{this.replaceIds(o,t,["parentId","id"])}),n.data.attributes.forEach(o=>{this.replaceIds(o,t,["id"])}),n.data.texts.forEach(o=>{this.replaceIds(o,t,["id"])}),n;case Pe.Drag:case Pe.TouchMove:case Pe.MouseMove:return n.data.positions.forEach(o=>{this.replaceIds(o,t,["id"])}),n;case Pe.ViewportResize:return!1;case Pe.MediaInteraction:case Pe.MouseInteraction:case Pe.Scroll:case Pe.CanvasMutation:case Pe.Input:return this.replaceIds(n.data,t,["id"]),n;case Pe.StyleSheetRule:case Pe.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case Pe.Font:return n;case Pe.Selection:return n.data.ranges.forEach(o=>{this.replaceIds(o,t,["start","end"])}),n;case Pe.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)===null||r===void 0||r.forEach(o=>{this.replaceStyleIds(o,t,["styleId"])}),n}}return!1}replace(t,n,r,o){for(const i of o)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==ft.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class BO{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!gi(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const r=U_(Object.assign(Object.assign({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(H_(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(V_({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Uo(t.prototype,"attachShadow",function(o){return function(i){const s=o.call(this,i);return this.shadowRoot&&$_(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function UO(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function HO(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,[])).next())})}var fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",VO=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ws=0;ws<fo.length;ws++)VO[fo.charCodeAt(ws)]=ws;var zO=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=fo[t[n]>>2],o+=fo[(t[n]&3)<<4|t[n+1]>>4],o+=fo[(t[n+1]&15)<<2|t[n+2]>>6],o+=fo[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o};const zh=new Map;function WO(e,t){let n=zh.get(e);return n||(n=new Map,zh.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const z_=(e,t,n)=>{if(!e||!(j_(e,t)||typeof e=="object"))return;const r=e.constructor.name,o=WO(n,r);let i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};function As(e,t,n){if(e instanceof Array)return e.map(r=>As(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,o=zO(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[As(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[As(e.data,t,n),e.width,e.height]};if(j_(e,t)||typeof e=="object"){const r=e.constructor.name,o=z_(e,t,n);return{rr_type:r,index:o}}}}return e}const W_=(e,t,n)=>e.map(r=>As(r,t,n)),j_=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function jO(e,t,n,r){const o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const s of i)try{if(typeof t.CanvasRenderingContext2D.prototype[s]!="function")continue;const a=Uo(t.CanvasRenderingContext2D.prototype,s,function(l){return function(...c){return $t(this.canvas,n,r,!0)||setTimeout(()=>{const u=W_(c,t,this);e(this.canvas,{type:Lo["2D"],property:s,args:u})},0),l.apply(this,c)}});o.push(a)}catch{const l=Ya(t.CanvasRenderingContext2D.prototype,s,{set(c){e(this.canvas,{type:Lo["2D"],property:s,args:[c],setter:!0})}});o.push(l)}return()=>{o.forEach(s=>s())}}function GO(e){return e==="experimental-webgl"?"webgl":e}function Wh(e,t,n,r){const o=[];try{const i=Uo(e.HTMLCanvasElement.prototype,"getContext",function(s){return function(a,...l){if(!$t(this,t,n,!0)){const c=GO(a);if("__context"in this||(this.__context=c),r&&["webgl","webgl2"].includes(c))if(l[0]&&typeof l[0]=="object"){const u=l[0];u.preserveDrawingBuffer||(u.preserveDrawingBuffer=!0)}else l.splice(0,1,{preserveDrawingBuffer:!0})}return s.apply(this,[a,...l])}});o.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach(i=>i())}}function jh(e,t,n,r,o,i,s){const a=[],l=Object.getOwnPropertyNames(e);for(const c of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(c))try{if(typeof e[c]!="function")continue;const u=Uo(e,c,function(f){return function(...d){const h=f.apply(this,d);if(z_(h,s,this),"tagName"in this.canvas&&!$t(this.canvas,r,o,!0)){const m=W_(d,s,this),p={type:t,property:c,args:m};n(this.canvas,p)}return h}});a.push(u)}catch{const f=Ya(e,c,{set(d){n(this.canvas,{type:t,property:c,args:[d],setter:!0})}});a.push(f)}return a}function qO(e,t,n,r,o){const i=[];return i.push(...jh(t.WebGLRenderingContext.prototype,Lo.WebGL,e,n,r,o,t)),typeof t.WebGL2RenderingContext<"u"&&i.push(...jh(t.WebGL2RenderingContext.prototype,Lo.WebGL2,e,n,r,o,t)),()=>{i.forEach(s=>s())}}function YO(e,t){var n=e.toString(),r=n.split(`
`);r.pop(),r.shift();for(var o=r[0].search(/\S/),i=/(['"])__worker_loader_strict__(['"])/g,s=0,a=r.length;s<a;++s)r[s]=r[s].substring(o).replace(i,"$1use strict$2")+`
`;return r}function KO(e,t){var n=YO(e),r=new Blob(n,{type:"application/javascript"});return URL.createObjectURL(r)}function XO(e,t){var n;return function(o){return n=n||KO(e),new Worker(n,o)}}var ZO=XO(function(){(function(){"__worker_loader_strict__";/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function e(c,u,f,d){function h(m){return m instanceof f?m:new f(function(p){p(m)})}return new(f||(f=Promise))(function(m,p){function w(_){try{E(d.next(_))}catch(y){p(y)}}function v(_){try{E(d.throw(_))}catch(y){p(y)}}function E(_){_.done?m(_.value):h(_.value).then(w,v)}E((d=d.apply(c,[])).next())})}for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=typeof Uint8Array>"u"?[]:new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;var o=function(c){var u=new Uint8Array(c),f,d=u.length,h="";for(f=0;f<d;f+=3)h+=t[u[f]>>2],h+=t[(u[f]&3)<<4|u[f+1]>>4],h+=t[(u[f+1]&15)<<2|u[f+2]>>6],h+=t[u[f+2]&63];return d%3===2?h=h.substring(0,h.length-1)+"=":d%3===1&&(h=h.substring(0,h.length-2)+"=="),h};const i=new Map,s=new Map;function a(c,u,f){return e(this,void 0,void 0,function*(){const d=`${c}-${u}`;if("OffscreenCanvas"in globalThis){if(s.has(d))return s.get(d);const h=new OffscreenCanvas(c,u);h.getContext("2d");const p=yield(yield h.convertToBlob(f)).arrayBuffer(),w=o(p);return s.set(d,w),w}else return""})}const l=self;l.onmessage=function(c){return e(this,void 0,void 0,function*(){if("OffscreenCanvas"in globalThis){const{id:u,bitmap:f,width:d,height:h,dataURLOptions:m}=c.data,p=a(d,h,m),w=new OffscreenCanvas(d,h);w.getContext("2d").drawImage(f,0,0),f.close();const E=yield w.convertToBlob(m),_=E.type,y=yield E.arrayBuffer(),M=o(y);if(!i.has(u)&&(yield p)===M)return i.set(u,M),l.postMessage({id:u});if(i.get(u)===M)return l.postMessage({id:u});l.postMessage({id:u,type:_,base64:M,width:d,height:h}),i.set(u,M)}else return l.postMessage({id:c.data.id})})}})()});class JO{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(l,c)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(c)};const{sampling:n="all",win:r,blockClass:o,blockSelector:i,recordCanvas:s,dataURLOptions:a}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,s&&n==="all"&&this.initCanvasMutationObserver(r,o,i),s&&typeof n=="number"&&this.initCanvasFPSObserver(n,r,o,i,{dataURLOptions:a})}initCanvasFPSObserver(t,n,r,o,i){const s=Wh(n,r,o,!0),a=new Map,l=new ZO;l.onmessage=m=>{const{id:p}=m.data;if(a.set(p,!1),!("base64"in m.data))return;const{base64:w,type:v,width:E,height:_}=m.data;this.mutationCb({id:p,type:Lo["2D"],commands:[{property:"clearRect",args:[0,0,E,_]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:w}],type:v}]},0,0]}]})};const c=1e3/t;let u=0,f;const d=()=>{const m=[];return n.document.querySelectorAll("canvas").forEach(p=>{$t(p,r,o,!0)||m.push(p)}),m},h=m=>{if(u&&m-u<c){f=requestAnimationFrame(h);return}u=m,d().forEach(p=>HO(this,void 0,void 0,function*(){var w;const v=this.mirror.getId(p);if(a.get(v)||p.width===0||p.height===0)return;if(a.set(v,!0),["webgl","webgl2"].includes(p.__context)){const _=p.getContext(p.__context);((w=_==null?void 0:_.getContextAttributes())===null||w===void 0?void 0:w.preserveDrawingBuffer)===!1&&_.clear(_.COLOR_BUFFER_BIT)}const E=yield createImageBitmap(p);l.postMessage({id:v,bitmap:E,width:p.width,height:p.height,dataURLOptions:i.dataURLOptions},[E])})),f=requestAnimationFrame(h)};f=requestAnimationFrame(h),this.resetObservers=()=>{s(),cancelAnimationFrame(f)}}initCanvasMutationObserver(t,n,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const o=Wh(t,n,r,!1),i=jO(this.processMutation.bind(this),t,n,r),s=qO(this.processMutation.bind(this),t,n,r,this.mirror);this.resetObservers=()=>{o(),i(),s()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const o=r.map(s=>UO(s,["type"])),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}}class QO{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new vO,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},o=[];for(const i of t){let s;this.styleMirror.has(i)?s=this.styleMirror.getId(i):(s=this.styleMirror.add(i),o.push({styleId:s,rules:Array.from(i.rules||CSSRule,(a,l)=>({rule:E_(a),index:l}))})),r.styleIds.push(s)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class eM{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function ct(e){return Object.assign(Object.assign({},e),{timestamp:oa()})}let it,Ds,Ml,sa=!1;const sn=qT();function ts(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,ignoreClass:s="rr-ignore",ignoreSelector:a=null,maskTextClass:l="rr-mask",maskTextSelector:c=null,inlineStylesheet:u=!0,maskAllInputs:f,maskInputOptions:d,slimDOMOptions:h,maskInputFn:m,maskTextFn:p,hooks:w,packFn:v,sampling:E={},dataURLOptions:_={},mousemoveWait:y,recordDOM:M=!0,recordCanvas:F=!1,recordCrossOriginIframes:A=!1,recordAfter:B=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:V=!1,collectFonts:J=!1,inlineImages:Y=!1,plugins:P,keepIframeSrcFn:oe=()=>!1,ignoreCSSAttributes:L=new Set([]),errorHandler:G}=e;wO(G);const $=A?window.parent===window:!0;let W=!1;if(!$)try{window.parent.document&&(W=!1)}catch{W=!0}if($&&!t)throw new Error("emit function is required");y!==void 0&&E.mousemove===void 0&&(E.mousemove=y),sn.reset();const K=f===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:d!==void 0?d:{password:!0},ne=h===!0||h==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:h==="all",headMetaDescKeywords:h==="all"}:h||{};_O();let re,se=0;const ee=q=>{for(const N of P||[])N.eventProcessor&&(q=N.eventProcessor(q));return v&&!W&&(q=v(q)),q};it=(q,N)=>{var T;if(!((T=Hr[0])===null||T===void 0)&&T.isFrozen()&&q.type!==Le.FullSnapshot&&!(q.type===Le.IncrementalSnapshot&&q.data.source===Pe.Mutation)&&Hr.forEach(S=>S.unfreeze()),$)t==null||t(ee(q),N);else if(W){const S={type:"rrweb",event:ee(q),origin:window.location.origin,isCheckout:N};window.parent.postMessage(S,"*")}if(q.type===Le.FullSnapshot)re=q,se=0;else if(q.type===Le.IncrementalSnapshot){if(q.data.source===Pe.Mutation&&q.data.isAttachIframe)return;se++;const S=r&&se>=r,C=n&&q.timestamp-re.timestamp>n;(S||C)&&Ds(!0)}};const ie=q=>{it(ct({type:Le.IncrementalSnapshot,data:Object.assign({source:Pe.Mutation},q)}))},le=q=>it(ct({type:Le.IncrementalSnapshot,data:Object.assign({source:Pe.Scroll},q)})),_e=q=>it(ct({type:Le.IncrementalSnapshot,data:Object.assign({source:Pe.CanvasMutation},q)})),ye=q=>it(ct({type:Le.IncrementalSnapshot,data:Object.assign({source:Pe.AdoptedStyleSheet},q)})),U=new QO({mutationCb:ie,adoptedStyleSheetCb:ye}),Q=new FO({mirror:sn,mutationCb:ie,stylesheetManager:U,recordCrossOriginIframes:A,wrappedEmit:it});for(const q of P||[])q.getMirror&&q.getMirror({nodeMirror:sn,crossOriginIframeMirror:Q.crossOriginIframeMirror,crossOriginIframeStyleMirror:Q.crossOriginIframeStyleMirror});const X=new eM;Ml=new JO({recordCanvas:F,mutationCb:_e,win:window,blockClass:o,blockSelector:i,mirror:sn,sampling:E.canvas,dataURLOptions:_});const te=new BO({mutationCb:ie,scrollCb:le,bypassOptions:{blockClass:o,blockSelector:i,maskTextClass:l,maskTextSelector:c,inlineStylesheet:u,maskInputOptions:K,dataURLOptions:_,maskTextFn:p,maskInputFn:m,recordCanvas:F,inlineImages:Y,sampling:E,slimDOMOptions:ne,iframeManager:Q,stylesheetManager:U,canvasManager:Ml,keepIframeSrcFn:oe,processedNodeManager:X},mirror:sn});Ds=(q=!1)=>{if(!M)return;it(ct({type:Le.Meta,data:{href:window.location.href,width:M_(),height:O_()}}),q),U.reset(),te.init(),Hr.forEach(T=>T.lock());const N=gO(document,{mirror:sn,blockClass:o,blockSelector:i,maskTextClass:l,maskTextSelector:c,inlineStylesheet:u,maskAllInputs:K,maskTextFn:p,slimDOM:ne,dataURLOptions:_,recordCanvas:F,inlineImages:Y,onSerialize:T=>{A_(T,sn)&&Q.addIframe(T),D_(T,sn)&&U.trackLinkElement(T),Dc(T)&&te.addShadowRoot(T.shadowRoot,document)},onIframeLoad:(T,S)=>{Q.attachIframe(T,S),te.observeAttachShadow(T)},onStylesheetLoad:(T,S)=>{U.attachLinkElement(T,S)},keepIframeSrcFn:oe});if(!N)return console.warn("Failed to snapshot the document");it(ct({type:Le.FullSnapshot,data:{node:N,initialOffset:T_(window)}}),q),Hr.forEach(T=>T.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&U.adoptStyleSheets(document.adoptedStyleSheets,sn.getId(document))};try{const q=[],N=S=>{var C;return Ae($O)({mutationCb:ie,mousemoveCb:(I,k)=>it(ct({type:Le.IncrementalSnapshot,data:{source:k,positions:I}})),mouseInteractionCb:I=>it(ct({type:Le.IncrementalSnapshot,data:Object.assign({source:Pe.MouseInteraction},I)})),scrollCb:le,viewportResizeCb:I=>it(ct({type:Le.IncrementalSnapshot,data:Object.assign({source:Pe.ViewportResize},I)})),inputCb:I=>it(ct({type:Le.IncrementalSnapshot,data:Object.assign({source:Pe.Input},I)})),mediaInteractionCb:I=>it(ct({type:Le.IncrementalSnapshot,data:Object.assign({source:Pe.MediaInteraction},I)})),styleSheetRuleCb:I=>it(ct({type:Le.IncrementalSnapshot,data:Object.assign({source:Pe.StyleSheetRule},I)})),styleDeclarationCb:I=>it(ct({type:Le.IncrementalSnapshot,data:Object.assign({source:Pe.StyleDeclaration},I)})),canvasMutationCb:_e,fontCb:I=>it(ct({type:Le.IncrementalSnapshot,data:Object.assign({source:Pe.Font},I)})),selectionCb:I=>{it(ct({type:Le.IncrementalSnapshot,data:Object.assign({source:Pe.Selection},I)}))},customElementCb:I=>{it(ct({type:Le.IncrementalSnapshot,data:Object.assign({source:Pe.CustomElement},I)}))},blockClass:o,ignoreClass:s,ignoreSelector:a,maskTextClass:l,maskTextSelector:c,maskInputOptions:K,inlineStylesheet:u,sampling:E,recordDOM:M,recordCanvas:F,inlineImages:Y,userTriggeredOnInput:V,collectFonts:J,doc:S,maskInputFn:m,maskTextFn:p,keepIframeSrcFn:oe,blockSelector:i,slimDOMOptions:ne,dataURLOptions:_,mirror:sn,iframeManager:Q,stylesheetManager:U,shadowDomManager:te,processedNodeManager:X,canvasManager:Ml,ignoreCSSAttributes:L,plugins:((C=P==null?void 0:P.filter(I=>I.observer))===null||C===void 0?void 0:C.map(I=>({observer:I.observer,options:I.options,callback:k=>it(ct({type:Le.Plugin,data:{plugin:I.name,payload:k}}))})))||[]},w)};Q.addLoadListener(S=>{try{q.push(N(S.contentDocument))}catch(C){console.warn(C)}});const T=()=>{Ds(),q.push(N(document)),sa=!0};return document.readyState==="interactive"||document.readyState==="complete"?T():(q.push(Lt("DOMContentLoaded",()=>{it(ct({type:Le.DomContentLoaded,data:{}})),B==="DOMContentLoaded"&&T()})),q.push(Lt("load",()=>{it(ct({type:Le.Load,data:{}})),B==="load"&&T()},window))),()=>{q.forEach(S=>S()),X.destroy(),sa=!1,CO()}}catch(q){console.warn(q)}}ts.addCustomEvent=(e,t)=>{if(!sa)throw new Error("please add custom event after start recording");it(ct({type:Le.Custom,data:{tag:e,payload:t}}))};ts.freezePage=()=>{Hr.forEach(e=>e.freeze())};ts.takeFullSnapshot=e=>{if(!sa)throw new Error("please take full snapshot after start recording");Ds(e)};ts.mirror=sn;var Gh=fe.setImmediate,wr,$c,Fc,G_=Object.prototype.toString,tM=typeof Gh<"u"?function(t){return Gh(t)}:setTimeout;try{Object.defineProperty({},"x",{}),wr=function(t,n,r,o){return Object.defineProperty(t,n,{value:r,writable:!0,configurable:o!==!1})}}catch{wr=function(n,r,o){return n[r]=o,n}}Fc=function(){var t,n,r;function o(i,s){this.fn=i,this.self=s,this.next=void 0}return{add:function(s,a){r=new o(s,a),n?n.next=r:t=r,n=r,r=void 0},drain:function(){var s=t;for(t=n=$c=void 0;s;)s.fn.call(s.self),s=s.next}}}();function aa(e,t){Fc.add(e,t),$c||($c=tM(Fc.drain))}function q_(e){var t,n=typeof e;return e!==null&&(n==="object"||n==="function")&&(t=e.then),typeof t=="function"?t:!1}function Uu(){for(var e=0;e<this.chain.length;e++)nM(this,this.state===1?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function nM(e,t,n){var r,o;try{t===!1?n.reject(e.msg):(t===!0?r=e.msg:r=t.call(void 0,e.msg),r===n.promise?n.reject(TypeError("Promise-chain cycle")):(o=q_(r))?o.call(r,n.resolve,n.reject):n.resolve(r))}catch(i){n.reject(i)}}function Y_(e){var t,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(t=q_(e))?aa(function(){var r=new qh(n);try{t.call(e,function(){Y_.apply(r,arguments)},function(){_i.apply(r,arguments)})}catch(o){_i.call(r,o)}}):(n.msg=e,n.state=1,n.chain.length>0&&aa(Uu,n))}catch(r){_i.call(new qh(n),r)}}}function _i(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&aa(Uu,t))}function K_(e,t,n,r){for(var o=0;o<t.length;o++)(function(s){e.resolve(t[s]).then(function(l){n(s,l)},r)})(o)}function qh(e){this.def=e,this.triggered=!1}function rM(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function Or(e){if(typeof e!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var t=new rM(this);this.then=function(r,o){var i={success:typeof r=="function"?r:!0,failure:typeof o=="function"?o:!1};return i.promise=new this.constructor(function(a,l){if(typeof a!="function"||typeof l!="function")throw TypeError("Not a function");i.resolve=a,i.reject=l}),t.chain.push(i),t.state!==0&&aa(Uu,t),i.promise},this.catch=function(r){return this.then(void 0,r)};try{e.call(void 0,function(r){Y_.call(t,r)},function(r){_i.call(t,r)})}catch(n){_i.call(t,n)}}var X_=wr({},"constructor",Or,!1);Or.prototype=X_;wr(X_,"__NPO__",0,!1);wr(Or,"resolve",function(t){var n=this;return t&&typeof t=="object"&&t.__NPO__===1?t:new n(function(o,i){if(typeof o!="function"||typeof i!="function")throw TypeError("Not a function");o(t)})});wr(Or,"reject",function(t){return new this(function(r,o){if(typeof r!="function"||typeof o!="function")throw TypeError("Not a function");o(t)})});wr(Or,"all",function(t){var n=this;return G_.call(t)!=="[object Array]"?n.reject(TypeError("Not an array")):t.length===0?n.resolve([]):new n(function(o,i){if(typeof o!="function"||typeof i!="function")throw TypeError("Not a function");var s=t.length,a=Array(s),l=0;K_(n,t,function(u,f){a[u]=f,++l===s&&o(a)},i)})});wr(Or,"race",function(t){var n=this;return G_.call(t)!=="[object Array]"?n.reject(TypeError("Not an array")):new n(function(o,i){if(typeof o!="function"||typeof i!="function")throw TypeError("Not a function");K_(n,t,function(a,l){o(l)},i)})});var Ue;typeof Promise<"u"&&Promise.toString().indexOf("[native code]")!==-1?Ue=Promise:Ue=Or;var Hu=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Hu||{}),bn=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(bn||{}),dn={DEBUG:!1,LIB_VERSION:"2.61.2"},vi=24*60*60*1e3,Pl=8*1e3,Ka=Array.prototype,oM=Function.prototype,Z_=Object.prototype,pr=Ka.slice,ns=Z_.toString,Xa=Z_.hasOwnProperty,lt=fe.console,gr=fe.navigator,We=fe.document,Cs=fe.opera,la=fe.screen,Cn=gr.userAgent,Rl=oM.bind,Yh=Ka.forEach,Kh=Ka.indexOf,Xh=Ka.map,iM=Array.isArray,Bc={},g={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},Be={log:function(){if(dn.DEBUG&&!g.isUndefined(lt)&&lt)try{lt.log.apply(lt,arguments)}catch{g.each(arguments,function(t){lt.log(t)})}},warn:function(){if(dn.DEBUG&&!g.isUndefined(lt)&&lt){var e=["Mixpanel warning:"].concat(g.toArray(arguments));try{lt.warn.apply(lt,e)}catch{g.each(e,function(n){lt.warn(n)})}}},error:function(){if(dn.DEBUG&&!g.isUndefined(lt)&&lt){var e=["Mixpanel error:"].concat(g.toArray(arguments));try{lt.error.apply(lt,e)}catch{g.each(e,function(n){lt.error(n)})}}},critical:function(){if(!g.isUndefined(lt)&&lt){var e=["Mixpanel error:"].concat(g.toArray(arguments));try{lt.error.apply(lt,e)}catch{g.each(e,function(n){lt.error(n)})}}}},Al=function(e,t){return function(){return arguments[0]="["+t+"] "+arguments[0],e.apply(Be,arguments)}},Ho=function(e){return{log:Al(Be.log,e),error:Al(Be.error,e),critical:Al(Be.critical,e)}},Vu=function(e){return function(){try{return e.apply(this,arguments)}catch(t){Be.critical("Implementation error. Please turn on debug and contact support@mixpanel.com."),dn.DEBUG&&Be.critical(t)}}},sM=function(e){var t=e.prototype;for(var n in t)typeof t[n]=="function"&&(t[n]=Vu(t[n]))};g.bind=function(e,t){var n,r;if(Rl&&e.bind===Rl)return Rl.apply(e,pr.call(arguments,1));if(!g.isFunction(e))throw new TypeError;return n=pr.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(pr.call(arguments)));var o={};o.prototype=e.prototype;var i=new o;o.prototype=null;var s=e.apply(i,n.concat(pr.call(arguments)));return Object(s)===s?s:i},r};g.each=function(e,t,n){if(e!=null){if(Yh&&e.forEach===Yh)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,o=e.length;r<o;r++)if(r in e&&t.call(n,e[r],r,e)===Bc)return}else for(var i in e)if(Xa.call(e,i)&&t.call(n,e[i],i,e)===Bc)return}};g.extend=function(e){return g.each(pr.call(arguments,1),function(t){for(var n in t)t[n]!==void 0&&(e[n]=t[n])}),e};g.isArray=iM||function(e){return ns.call(e)==="[object Array]"};g.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch{return!1}};g.isArguments=function(e){return!!(e&&Xa.call(e,"callee"))};g.toArray=function(e){return e?e.toArray?e.toArray():g.isArray(e)||g.isArguments(e)?pr.call(e):g.values(e):[]};g.map=function(e,t,n){if(Xh&&e.map===Xh)return e.map(t,n);var r=[];return g.each(e,function(o){r.push(t.call(n,o))}),r};g.keys=function(e){var t=[];return e===null||g.each(e,function(n,r){t[t.length]=r}),t};g.values=function(e){var t=[];return e===null||g.each(e,function(n){t[t.length]=n}),t};g.include=function(e,t){var n=!1;return e===null?n:Kh&&e.indexOf===Kh?e.indexOf(t)!=-1:(g.each(e,function(r){if(n||(n=r===t))return Bc}),n)};g.includes=function(e,t){return e.indexOf(t)!==-1};g.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e};g.isObject=function(e){return e===Object(e)&&!g.isArray(e)};g.isEmptyObject=function(e){if(g.isObject(e)){for(var t in e)if(Xa.call(e,t))return!1;return!0}return!1};g.isUndefined=function(e){return e===void 0};g.isString=function(e){return ns.call(e)=="[object String]"};g.isDate=function(e){return ns.call(e)=="[object Date]"};g.isNumber=function(e){return ns.call(e)=="[object Number]"};g.isElement=function(e){return!!(e&&e.nodeType===1)};g.encodeDates=function(e){return g.each(e,function(t,n){g.isDate(t)?e[n]=g.formatDate(t):g.isObject(t)&&(e[n]=g.encodeDates(t))}),e};g.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};g.formatDate=function(e){function t(n){return n<10?"0"+n:n}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())};g.strip_empty_properties=function(e){var t={};return g.each(e,function(n,r){g.isString(n)&&n.length>0&&(t[r]=n)}),t};g.truncate=function(e,t){var n;return typeof e=="string"?n=e.slice(0,t):g.isArray(e)?(n=[],g.each(e,function(r){n.push(g.truncate(r,t))})):g.isObject(e)?(n={},g.each(e,function(r,o){n[o]=g.truncate(r,t)})):n=e,n};g.JSONEncode=function(){return function(e){var t=e,n=function(o){var i=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return i.lastIndex=0,i.test(o)?'"'+o.replace(i,function(a){var l=s[a];return typeof l=="string"?l:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+o+'"'},r=function(o,i){var s="",a="    ",l=0,c="",u="",f=0,d=s,h=[],m=i[o];switch(m&&typeof m=="object"&&typeof m.toJSON=="function"&&(m=m.toJSON(o)),typeof m){case"string":return n(m);case"number":return isFinite(m)?String(m):"null";case"boolean":case"null":return String(m);case"object":if(!m)return"null";if(s+=a,h=[],ns.apply(m)==="[object Array]"){for(f=m.length,l=0;l<f;l+=1)h[l]=r(l,m)||"null";return u=h.length===0?"[]":s?`[
`+s+h.join(`,
`+s)+`
`+d+"]":"["+h.join(",")+"]",s=d,u}for(c in m)Xa.call(m,c)&&(u=r(c,m),u&&h.push(n(c)+(s?": ":":")+u));return u=h.length===0?"{}":s?"{"+h.join(",")+d+"}":"{"+h.join(",")+"}",s=d,u}};return r("",{"":t})}}();g.JSONDecode=function(){var e,t,n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},r,o=function(h){var m=new SyntaxError(h);throw m.at=e,m.text=r,m},i=function(h){return h&&h!==t&&o("Expected '"+h+"' instead of '"+t+"'"),t=r.charAt(e),e+=1,t},s=function(){var h,m="";for(t==="-"&&(m="-",i("-"));t>="0"&&t<="9";)m+=t,i();if(t===".")for(m+=".";i()&&t>="0"&&t<="9";)m+=t;if(t==="e"||t==="E")for(m+=t,i(),(t==="-"||t==="+")&&(m+=t,i());t>="0"&&t<="9";)m+=t,i();if(h=+m,!isFinite(h))o("Bad number");else return h},a=function(){var h,m,p="",w;if(t==='"')for(;i();){if(t==='"')return i(),p;if(t==="\\")if(i(),t==="u"){for(w=0,m=0;m<4&&(h=parseInt(i(),16),!!isFinite(h));m+=1)w=w*16+h;p+=String.fromCharCode(w)}else if(typeof n[t]=="string")p+=n[t];else break;else p+=t}o("Bad string")},l=function(){for(;t&&t<=" ";)i()},c=function(){switch(t){case"t":return i("t"),i("r"),i("u"),i("e"),!0;case"f":return i("f"),i("a"),i("l"),i("s"),i("e"),!1;case"n":return i("n"),i("u"),i("l"),i("l"),null}o('Unexpected "'+t+'"')},u,f=function(){var h=[];if(t==="["){if(i("["),l(),t==="]")return i("]"),h;for(;t;){if(h.push(u()),l(),t==="]")return i("]"),h;i(","),l()}}o("Bad array")},d=function(){var h,m={};if(t==="{"){if(i("{"),l(),t==="}")return i("}"),m;for(;t;){if(h=a(),l(),i(":"),Object.hasOwnProperty.call(m,h)&&o('Duplicate key "'+h+'"'),m[h]=u(),l(),t==="}")return i("}"),m;i(","),l()}}o("Bad object")};return u=function(){switch(l(),t){case"{":return d();case"[":return f();case'"':return a();case"-":return s();default:return t>="0"&&t<="9"?s():c()}},function(h){var m;return r=h,e=0,t=" ",m=u(),l(),t&&o("Syntax error"),m}}();g.base64Encode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n,r,o,i,s,a,l,c,u=0,f=0,d="",h=[];if(!e)return e;e=g.utf8Encode(e);do n=e.charCodeAt(u++),r=e.charCodeAt(u++),o=e.charCodeAt(u++),c=n<<16|r<<8|o,i=c>>18&63,s=c>>12&63,a=c>>6&63,l=c&63,h[f++]=t.charAt(i)+t.charAt(s)+t.charAt(a)+t.charAt(l);while(u<e.length);switch(d=h.join(""),e.length%3){case 1:d=d.slice(0,-2)+"==";break;case 2:d=d.slice(0,-1)+"=";break}return d};g.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var t="",n,r,o=0,i;for(n=r=0,o=e.length,i=0;i<o;i++){var s=e.charCodeAt(i),a=null;s<128?r++:s>127&&s<2048?a=String.fromCharCode(s>>6|192,s&63|128):a=String.fromCharCode(s>>12|224,s>>6&63|128,s&63|128),a!==null&&(r>n&&(t+=e.substring(n,r)),t+=a,n=r=i+1)}return r>n&&(t+=e.substring(n,e.length)),t};g.UUID=function(){var e=function(){var r=1*new Date,o;if(fe.performance&&fe.performance.now)o=fe.performance.now();else for(o=0;r==1*new Date;)o++;return r.toString(16)+Math.floor(o).toString(16)},t=function(){return Math.random().toString(16).replace(".","")},n=function(){var r=Cn,o,i,s=[],a=0;function l(c,u){var f,d=0;for(f=0;f<u.length;f++)d|=s[f]<<f*8;return c^d}for(o=0;o<r.length;o++)i=r.charCodeAt(o),s.unshift(i&255),s.length>=4&&(a=l(a,s),s=[]);return s.length>0&&(a=l(a,s)),a.toString(16)};return function(){var r=(la.height*la.width).toString(16);return e()+"-"+t()+"-"+n()+"-"+r+"-"+e()}}();var Zh=["ahrefsbot","ahrefssiteaudit","amazonbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandex","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];g.isBlockedUA=function(e){var t;for(e=e.toLowerCase(),t=0;t<Zh.length;t++)if(e.indexOf(Zh[t])!==-1)return!0;return!1};g.HTTPBuildQuery=function(e,t){var n,r,o=[];return g.isUndefined(t)&&(t="&"),g.each(e,function(i,s){n=encodeURIComponent(i.toString()),r=encodeURIComponent(s),o[o.length]=r+"="+n}),o.join(t)};g.getQueryParam=function(e,t){t=t.replace(/[[]/g,"\\[").replace(/[\]]/g,"\\]");var n="[\\?&]"+t+"=([^&#]*)",r=new RegExp(n),o=r.exec(e);if(o===null||o&&typeof o[1]!="string"&&o[1].length)return"";var i=o[1];try{i=decodeURIComponent(i)}catch{Be.error("Skipping decoding for malformed query param: "+i)}return i.replace(/\+/g," ")};g.cookie={get:function(e){for(var t=e+"=",n=We.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];o.charAt(0)==" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return decodeURIComponent(o.substring(t.length,o.length))}return null},parse:function(e){var t;try{t=g.JSONDecode(g.cookie.get(e))||{}}catch{}return t},set_seconds:function(e,t,n,r,o,i,s){var a="",l="",c="";if(s)a="; domain="+s;else if(r){var u=Jh(We.location.hostname);a=u?"; domain=."+u:""}if(n){var f=new Date;f.setTime(f.getTime()+n*1e3),l="; expires="+f.toGMTString()}i&&(o=!0,c="; SameSite=None"),o&&(c+="; secure"),We.cookie=e+"="+encodeURIComponent(t)+l+"; path=/"+a+c},set:function(e,t,n,r,o,i,s){var a="",l="",c="";if(s)a="; domain="+s;else if(r){var u=Jh(We.location.hostname);a=u?"; domain=."+u:""}if(n){var f=new Date;f.setTime(f.getTime()+n*24*60*60*1e3),l="; expires="+f.toGMTString()}i&&(o=!0,c="; SameSite=None"),o&&(c+="; secure");var d=e+"="+encodeURIComponent(t)+l+"; path=/"+a+c;return We.cookie=d,d},remove:function(e,t,n){g.cookie.set(e,"",-1,t,!1,!1,n)}};var J_=function(e){var t=!0;try{var n="__mplss_"+zu(8),r="xyz";e.setItem(n,r),e.getItem(n)!==r&&(t=!1),e.removeItem(n)}catch{t=!1}return t},Dl=null,Vi=function(e,t){return Dl!==null&&!t?Dl:Dl=J_(e||fe.localStorage)},Ll=null,aM=function(e,t){return Ll!==null&&!t?Ll:Ll=J_(e||fe.sessionStorage)};function Q_(e,t,n){var r=function(o){Be.error(t+" error: "+o)};return{is_supported:function(o){var i=n(e,o);return i||Be.error(t+" unsupported"),i},error:r,get:function(o){try{return e.getItem(o)}catch(i){r(i)}return null},parse:function(o){try{return g.JSONDecode(e.getItem(o))||{}}catch{}return null},set:function(o,i){try{e.setItem(o,i)}catch(s){r(s)}},remove:function(o){try{e.removeItem(o)}catch(i){r(i)}}}}g.localStorage=Q_(fe.localStorage,"localStorage",Vi);g.sessionStorage=Q_(fe.sessionStorage,"sessionStorage",aM);g.register_event=function(){var e=function(r,o,i,s,a){if(!r){Be.error("No valid element provided to register_event");return}if(r.addEventListener&&!s)r.addEventListener(o,i,!!a);else{var l="on"+o,c=r[l];r[l]=t(r,i,c)}};function t(r,o,i){var s=function(a){if(a=a||n(fe.event),!!a){var l=!0,c,u;return g.isFunction(i)&&(c=i(a)),u=o.call(r,a),(c===!1||u===!1)&&(l=!1),l}};return s}function n(r){return r&&(r.preventDefault=n.preventDefault,r.stopPropagation=n.stopPropagation),r}return n.preventDefault=function(){this.returnValue=!1},n.stopPropagation=function(){this.cancelBubble=!0},e}();var lM=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');g.dom_query=function(){function e(o){return o.all?o.all:o.getElementsByTagName("*")}var t=/[\t\r\n]/g;function n(o,i){var s=" "+i+" ";return(" "+o.className+" ").replace(t," ").indexOf(s)>=0}function r(o){if(!We.getElementsByTagName)return[];var i=o.split(" "),s,a,l,c,u,f,d,h,m,p,w=[We];for(f=0;f<i.length;f++){if(s=i[f].replace(/^\s+/,"").replace(/\s+$/,""),s.indexOf("#")>-1){a=s.split("#"),l=a[0];var v=a[1],E=We.getElementById(v);if(!E||l&&E.nodeName.toLowerCase()!=l)return[];w=[E];continue}if(s.indexOf(".")>-1){a=s.split("."),l=a[0];var _=a[1];for(l||(l="*"),c=[],u=0,d=0;d<w.length;d++)for(l=="*"?m=e(w[d]):m=w[d].getElementsByTagName(l),h=0;h<m.length;h++)c[u++]=m[h];for(w=[],p=0,d=0;d<c.length;d++)c[d].className&&g.isString(c[d].className)&&n(c[d],_)&&(w[p++]=c[d]);continue}var y=s.match(lM);if(y){l=y[1];var M=y[2],F=y[3],A=y[4];for(l||(l="*"),c=[],u=0,d=0;d<w.length;d++)for(l=="*"?m=e(w[d]):m=w[d].getElementsByTagName(l),h=0;h<m.length;h++)c[u++]=m[h];w=[],p=0;var B;switch(F){case"=":B=function(V){return V.getAttribute(M)==A};break;case"~":B=function(V){return V.getAttribute(M).match(new RegExp("\\b"+A+"\\b"))};break;case"|":B=function(V){return V.getAttribute(M).match(new RegExp("^"+A+"-?"))};break;case"^":B=function(V){return V.getAttribute(M).indexOf(A)===0};break;case"$":B=function(V){return V.getAttribute(M).lastIndexOf(A)==V.getAttribute(M).length-A.length};break;case"*":B=function(V){return V.getAttribute(M).indexOf(A)>-1};break;default:B=function(V){return V.getAttribute(M)}}for(w=[],p=0,d=0;d<c.length;d++)B(c[d])&&(w[p++]=c[d]);continue}for(l=s,c=[],u=0,d=0;d<w.length;d++)for(m=w[d].getElementsByTagName(l),h=0;h<m.length;h++)c[u++]=m[h];w=c}return w}return function(o){return g.isElement(o)?[o]:g.isObject(o)&&!g.isUndefined(o.length)?o:r.call(this,o)}}();var cM=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","utm_id","utm_source_platform","utm_campaign_id","utm_creative_format","utm_marketing_tactic"],uM=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","sccid","ttclid","twclid","wbraid"];g.info={campaignParams:function(e){var t="",n={};return g.each(cM,function(r){t=g.getQueryParam(We.URL,r),t.length?n[r]=t:e!==void 0&&(n[r]=e)}),n},clickParams:function(){var e="",t={};return g.each(uM,function(n){e=g.getQueryParam(We.URL,n),e.length&&(t[n]=e)}),t},marketingParams:function(){return g.extend(g.info.campaignParams(),g.info.clickParams())},searchEngine:function(e){return e.search("https?://(.*)google.([^/?]*)")===0?"google":e.search("https?://(.*)bing.com")===0?"bing":e.search("https?://(.*)yahoo.com")===0?"yahoo":e.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(e){var t=g.info.searchEngine(e),n=t!="yahoo"?"q":"p",r={};if(t!==null){r.$search_engine=t;var o=g.getQueryParam(e,n);o.length&&(r.mp_keyword=o)}return r},browser:function(e,t,n){return t=t||"",n||g.includes(e," OPR/")?g.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":g.includes(e,"IEMobile")||g.includes(e,"WPDesktop")?"Internet Explorer Mobile":g.includes(e,"SamsungBrowser/")?"Samsung Internet":g.includes(e,"Edge")||g.includes(e,"Edg/")?"Microsoft Edge":g.includes(e,"FBIOS")?"Facebook Mobile":g.includes(e,"Chrome")?"Chrome":g.includes(e,"CriOS")?"Chrome iOS":g.includes(e,"UCWEB")||g.includes(e,"UCBrowser")?"UC Browser":g.includes(e,"FxiOS")?"Firefox iOS":g.includes(t,"Apple")?g.includes(e,"Mobile")?"Mobile Safari":"Safari":g.includes(e,"Android")?"Android Mobile":g.includes(e,"Konqueror")?"Konqueror":g.includes(e,"Firefox")?"Firefox":g.includes(e,"MSIE")||g.includes(e,"Trident/")?"Internet Explorer":g.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,n){var r=g.info.browser(e,t,n),o={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},i=o[r];if(i===void 0)return null;var s=e.match(i);return s?parseFloat(s[s.length-2]):null},os:function(){var e=Cn;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},currentUrl:function(){return fe.location.href},properties:function(e){return typeof e!="object"&&(e={}),g.extend(g.strip_empty_properties({$os:g.info.os(),$browser:g.info.browser(Cn,gr.vendor,Cs),$referrer:We.referrer,$referring_domain:g.info.referringDomain(We.referrer),$device:g.info.device(Cn)}),{$current_url:g.info.currentUrl(),$browser_version:g.info.browserVersion(Cn,gr.vendor,Cs),$screen_height:la.height,$screen_width:la.width,mp_lib:"web",$lib_version:dn.LIB_VERSION,$insert_id:zu(),time:g.timestamp()/1e3},g.strip_empty_properties(e))},people_properties:function(){return g.extend(g.strip_empty_properties({$os:g.info.os(),$browser:g.info.browser(Cn,gr.vendor,Cs)}),{$browser_version:g.info.browserVersion(Cn,gr.vendor,Cs)})},mpPageViewProperties:function(){return g.strip_empty_properties({current_page_title:We.title,current_domain:fe.location.hostname,current_url_path:fe.location.pathname,current_url_protocol:fe.location.protocol,current_url_search:fe.location.search})}};var fM=function(e,t){var n=null,r=[];return function(o){var i=this;return r.push(o),n||(n=new Ue(function(s){setTimeout(function(){var a=e.apply(i,[r]);n=null,r=[],s(a)},t)})),n}},zu=function(e){var t=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return e?t.substring(0,e):t},dM=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,hM=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,Jh=function(e){var t=hM,n=e.split("."),r=n[n.length-1];(r.length>4||r==="com"||r==="org")&&(t=dM);var o=e.match(t);return o?o[0]:""},pM=function(){var e=fe.navigator.onLine;return g.isUndefined(e)||e},yr=function(){},ca=null,ua=null;typeof JSON<"u"&&(ca=JSON.stringify,ua=JSON.parse);ca=ca||g.JSONEncode;ua=ua||g.JSONDecode;g.info=g.info;g.info.browser=g.info.browser;g.info.browserVersion=g.info.browserVersion;g.info.device=g.info.device;g.info.properties=g.info.properties;g.isBlockedUA=g.isBlockedUA;g.isEmptyObject=g.isEmptyObject;g.isObject=g.isObject;g.JSONDecode=g.JSONDecode;g.JSONEncode=g.JSONEncode;g.toArray=g.toArray;g.NPO=Or;var gM="mixpanelBrowserDb",ev="mixpanelRecordingEvents",Wu="mixpanelRecordingRegistry",mM=1,_M=[ev,Wu],Pn=function(e){this.dbPromise=null,this.storeName=e};Pn.prototype._openDb=function(){return new Ue(function(e,t){var n=fe.indexedDB.open(gM,mM);n.onerror=function(){t(n.error)},n.onsuccess=function(){e(n.result)},n.onupgradeneeded=function(r){var o=r.target.result;_M.forEach(function(i){o.createObjectStore(i)})}})};Pn.prototype.init=function(){return fe.indexedDB?(this.dbPromise||(this.dbPromise=this._openDb()),this.dbPromise.then(function(e){return e instanceof fe.IDBDatabase?Ue.resolve():Ue.reject(e)})):Ue.reject("indexedDB is not supported in this browser")};Pn.prototype.makeTransaction=function(e,t){var n=this.storeName,r=function(o){return new Ue(function(i,s){var a=o.transaction(n,e);a.oncomplete=function(){i(a)},a.onabort=a.onerror=function(){s(a.error)},t(a.objectStore(n))})};return this.dbPromise.then(r).catch((function(o){return o&&o.name==="InvalidStateError"?(this.dbPromise=this._openDb(),this.dbPromise.then(r)):Ue.reject(o)}).bind(this))};Pn.prototype.setItem=function(e,t){return this.makeTransaction("readwrite",function(n){n.put(t,e)})};Pn.prototype.getItem=function(e){var t;return this.makeTransaction("readonly",function(n){t=n.get(e)}).then(function(){return t.result})};Pn.prototype.removeItem=function(e){return this.makeTransaction("readwrite",function(t){t.delete(e)})};Pn.prototype.getAll=function(){var e;return this.makeTransaction("readonly",function(t){e=t.getAll()}).then(function(){return e.result})};var vM="__mp_opt_in_out_";function yM(e,t){rv(!0,e,t)}function bM(e,t){rv(!1,e,t)}function SM(e,t){return nv(e,t)==="1"}function tv(e,t){if(wM(t))return Be.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var n=nv(e,t)==="0";return n&&Be.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),n}function Mr(e){return qu(e,function(t){return this.get_config(t)})}function Pr(e){return qu(e,function(t){return this._get_config(t)})}function Vo(e){return qu(e,function(t){return this._get_config(t)})}function EM(e,t){t=t||{},ju(t).remove(Gu(e,t),!!t.crossSubdomainCookie,t.cookieDomain)}function ju(e){return e=e||{},e.persistenceType==="localStorage"?g.localStorage:g.cookie}function Gu(e,t){return t=t||{},(t.persistencePrefix||vM)+e}function nv(e,t){return ju(t).get(Gu(e,t))}function wM(e){if(e&&e.ignoreDnt)return!1;var t=e&&e.window||fe,n=t.navigator||{},r=!1;return g.each([n.doNotTrack,n.msDoNotTrack,t.doNotTrack],function(o){g.includes([!0,1,"1","yes"],o)&&(r=!0)}),r}function rv(e,t,n){if(!g.isString(t)||!t.length){Be.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token");return}n=n||{},ju(n).set(Gu(t,n),e?1:0,g.isNumber(n.cookieExpiration)?n.cookieExpiration:null,!!n.crossSubdomainCookie,!!n.secureCookie,!!n.crossSiteCookie,n.cookieDomain),n.track&&e&&n.track(n.trackEventName||"$opt_in",n.trackProperties,{send_immediately:!0})}function qu(e,t){return function(){var n=!1;try{var r=t.call(this,"token"),o=t.call(this,"ignore_dnt"),i=t.call(this,"opt_out_tracking_persistence_type"),s=t.call(this,"opt_out_tracking_cookie_prefix"),a=t.call(this,"window");r&&(n=tv(r,{ignoreDnt:o,persistenceType:i,persistencePrefix:s,window:a}))}catch(c){Be.error("Unexpected error when checking tracking opt-out status: "+c)}if(!n)return e.apply(this,arguments);var l=arguments[arguments.length-1];typeof l=="function"&&l(0)}}var CM=Ho("lock"),ov=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||fe.localStorage,this.pollIntervalMS=t.pollIntervalMS||100,this.timeoutMS=t.timeoutMS||2e3,this.promiseImpl=t.promiseImpl||Ue};ov.prototype.withLock=function(e,t){var n=this.promiseImpl;return new n(g.bind(function(r,o){var i=t||new Date().getTime()+"|"+Math.random(),s=new Date().getTime(),a=this.storageKey,l=this.pollIntervalMS,c=this.timeoutMS,u=this.storage,f=a+":X",d=a+":Y",h=a+":Z",m=function(_){if(new Date().getTime()-s>c){CM.error("Timeout waiting for mutex on "+a+"; clearing lock. ["+i+"]"),u.removeItem(h),u.removeItem(d),v();return}setTimeout(function(){try{_()}catch(y){o(y)}},l*(Math.random()+.1))},p=function(_,y){_()?y():m(function(){p(_,y)})},w=function(){var _=u.getItem(d);return _&&_!==i?!1:(u.setItem(d,i),u.getItem(d)===i?!0:(Vi(u,!0)||o(new Error("localStorage support dropped while acquiring lock")),!1))},v=function(){u.setItem(f,i),p(w,function(){if(u.getItem(f)===i){E();return}m(function(){if(u.getItem(d)!==i){v();return}p(function(){return!u.getItem(h)},E)})})},E=function(){u.setItem(h,"1");var _=function(){u.removeItem(h),u.getItem(d)===i&&u.removeItem(d),u.getItem(f)===i&&u.removeItem(f)};e().then(function(y){_(),r(y)}).catch(function(y){_(),o(y)})};try{if(Vi(u,!0))v();else throw new Error("localStorage support check failed")}catch(_){o(_)}},this))};var rs=function(e){this.storage=e||localStorage};rs.prototype.init=function(){return Ue.resolve()};rs.prototype.setItem=function(e,t){return new Ue(g.bind(function(n,r){try{this.storage.setItem(e,ca(t))}catch(o){r(o)}n()},this))};rs.prototype.getItem=function(e){return new Ue(g.bind(function(t,n){var r;try{r=ua(this.storage.getItem(e))}catch(o){n(o)}t(r)},this))};rs.prototype.removeItem=function(e){return new Ue(g.bind(function(t,n){try{this.storage.removeItem(e)}catch(r){n(r)}t()},this))};var Qh=Ho("batch"),Rn=function(e,t){t=t||{},this.storageKey=e,this.usePersistence=t.usePersistence,this.usePersistence&&(this.queueStorage=t.queueStorage||new rs,this.lock=new ov(e,{storage:t.sharedLockStorage||fe.localStorage,timeoutMS:t.sharedLockTimeoutMS})),this.reportError=t.errorReporter||g.bind(Qh.error,Qh),this.pid=t.pid||null,this.memQueue=[],this.initialized=!1,t.enqueueThrottleMs?this.enqueuePersisted=fM(g.bind(this._enqueuePersisted,this),t.enqueueThrottleMs):this.enqueuePersisted=g.bind(function(n){return this._enqueuePersisted([n])},this)};Rn.prototype.ensureInit=function(){return this.initialized?Ue.resolve():this.queueStorage.init().then(g.bind(function(){this.initialized=!0},this)).catch(g.bind(function(e){this.reportError("Error initializing queue persistence. Disabling persistence",e),this.initialized=!0,this.usePersistence=!1},this))};Rn.prototype.enqueue=function(e,t){var n={id:zu(),flushAfter:new Date().getTime()+t*2,payload:e};return this.usePersistence?this.enqueuePersisted(n):(this.memQueue.push(n),Ue.resolve(!0))};Rn.prototype._enqueuePersisted=function(e){var t=g.bind(function(){return this.ensureInit().then(g.bind(function(){return this.readFromStorage()},this)).then(g.bind(function(n){return this.saveToStorage(n.concat(e))},this)).then(g.bind(function(n){return n&&(this.memQueue=this.memQueue.concat(e)),n},this)).catch(g.bind(function(n){return this.reportError("Error enqueueing items",n,e),!1},this))},this);return this.lock.withLock(t,this.pid).catch(g.bind(function(n){return this.reportError("Error acquiring storage lock",n),!1},this))};Rn.prototype.fillBatch=function(e){var t=this.memQueue.slice(0,e);return this.usePersistence&&t.length<e?this.ensureInit().then(g.bind(function(){return this.readFromStorage()},this)).then(g.bind(function(n){if(n.length){var r={};g.each(t,function(s){r[s.id]=!0});for(var o=0;o<n.length;o++){var i=n[o];if(new Date().getTime()>i.flushAfter&&!r[i.id]&&(i.orphaned=!0,t.push(i),t.length>=e))break}}return t},this)):Ue.resolve(t)};var ep=function(e,t){var n=[];return g.each(e,function(r){r.id&&!t[r.id]&&n.push(r)}),n};Rn.prototype.removeItemsByID=function(e){var t={};if(g.each(e,function(r){t[r]=!0}),this.memQueue=ep(this.memQueue,t),this.usePersistence){var n=g.bind(function(){return this.ensureInit().then(g.bind(function(){return this.readFromStorage()},this)).then(g.bind(function(r){return r=ep(r,t),this.saveToStorage(r)},this)).then(g.bind(function(){return this.readFromStorage()},this)).then(g.bind(function(r){for(var o=0;o<r.length;o++){var i=r[o];if(i.id&&t[i.id])throw new Error("Item not removed from storage")}return!0},this)).catch(g.bind(function(r){return this.reportError("Error removing items",r,e),!1},this))},this);return this.lock.withLock(n,this.pid).catch(g.bind(function(r){return this.reportError("Error acquiring storage lock",r),Vi(this.lock.storage,!0)?!1:n().then(g.bind(function(o){return o||this.queueStorage.removeItem(this.storageKey).then(function(){return o})},this)).catch(g.bind(function(o){return this.reportError("Error clearing queue",o),!1},this))},this))}else return Ue.resolve(!0)};var tp=function(e,t){var n=[];return g.each(e,function(r){var o=r.id;if(o in t){var i=t[o];i!==null&&(r.payload=i,n.push(r))}else n.push(r)}),n};Rn.prototype.updatePayloads=function(e){return this.memQueue=tp(this.memQueue,e),this.usePersistence?this.lock.withLock(g.bind(function(){return this.ensureInit().then(g.bind(function(){return this.readFromStorage()},this)).then(g.bind(function(n){return n=tp(n,e),this.saveToStorage(n)},this)).catch(g.bind(function(n){return this.reportError("Error updating items",e,n),!1},this))},this),this.pid).catch(g.bind(function(t){return this.reportError("Error acquiring storage lock",t),!1},this)):Ue.resolve(!0)};Rn.prototype.readFromStorage=function(){return this.ensureInit().then(g.bind(function(){return this.queueStorage.getItem(this.storageKey)},this)).then(g.bind(function(e){return e&&(g.isArray(e)||(this.reportError("Invalid storage entry:",e),e=null)),e||[]},this)).catch(g.bind(function(e){return this.reportError("Error retrieving queue",e),[]},this))};Rn.prototype.saveToStorage=function(e){return this.ensureInit().then(g.bind(function(){return this.queueStorage.setItem(this.storageKey,e)},this)).then(function(){return!0}).catch(g.bind(function(t){return this.reportError("Error saving queue",t),!1},this))};Rn.prototype.clear=function(){return this.memQueue=[],this.usePersistence?this.ensureInit().then(g.bind(function(){return this.queueStorage.removeItem(this.storageKey)},this)):Ue.resolve()};var xM=10*60*1e3,yi=Ho("batch"),rn=function(e,t){this.errorReporter=t.errorReporter,this.queue=new Rn(e,{errorReporter:g.bind(this.reportError,this),queueStorage:t.queueStorage,sharedLockStorage:t.sharedLockStorage,sharedLockTimeoutMS:t.sharedLockTimeoutMS,usePersistence:t.usePersistence,enqueueThrottleMs:t.enqueueThrottleMs}),this.libConfig=t.libConfig,this.sendRequest=t.sendRequestFunc,this.beforeSendHook=t.beforeSendHook,this.stopAllBatching=t.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={},this.flushOnlyOnInterval=t.flushOnlyOnInterval||!1,this._flushPromise=null};rn.prototype.enqueue=function(e){return this.queue.enqueue(e,this.flushInterval)};rn.prototype.start=function(){return this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};rn.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};rn.prototype.clear=function(){return this.queue.clear()};rn.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};rn.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};rn.prototype.scheduleFlush=function(e){this.flushInterval=e,this.stopped||(this.timeoutID=setTimeout(g.bind(function(){this.stopped||(this._flushPromise=this.flush())},this),this.flushInterval))};rn.prototype.sendRequestPromise=function(e,t){return new Ue(g.bind(function(n){this.sendRequest(e,t,n)},this))};rn.prototype.flush=function(e){if(this.requestInProgress)return yi.log("Flush: Request already in progress"),Ue.resolve();this.requestInProgress=!0,e=e||{};var t=this.libConfig.batch_request_timeout_ms,n=new Date().getTime(),r=this.batchSize;return this.queue.fillBatch(r).then(g.bind(function(o){var i=o.length===r,s=[],a={};if(g.each(o,function(f){var d=f.payload;if(this.beforeSendHook&&!f.orphaned&&(d=this.beforeSendHook(d)),d){d.event&&d.properties&&(d.properties=g.extend({},d.properties,{mp_sent_by_lib_version:dn.LIB_VERSION}));var h=!0,m=f.id;m?(this.itemIdsSentSuccessfully[m]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:f,batchSize:o.length,timesSent:this.itemIdsSentSuccessfully[m]}),h=!1):this.reportError("[dupe] found item with no ID",{item:f}),h&&s.push(d)}a[f.id]=d},this),s.length<1)return this.requestInProgress=!1,this.resetFlush(),Ue.resolve();var l=g.bind(function(){return this.queue.removeItemsByID(g.map(o,function(f){return f.id})).then(g.bind(function(f){return g.each(o,g.bind(function(d){var h=d.id;h?(this.itemIdsSentSuccessfully[h]=this.itemIdsSentSuccessfully[h]||0,this.itemIdsSentSuccessfully[h]++,this.itemIdsSentSuccessfully[h]>5&&this.reportError("[dupe] item ID sent too many times",{item:d,batchSize:o.length,timesSent:this.itemIdsSentSuccessfully[h]})):this.reportError("[dupe] found item with no ID while removing",{item:d})},this)),f?(this.consecutiveRemovalFailures=0,this.flushOnlyOnInterval&&!i?(this.resetFlush(),Ue.resolve()):this.flush()):(++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush(),Ue.resolve())},this))},this),c=g.bind(function(f){this.requestInProgress=!1;try{if(e.unloading)return this.queue.updatePayloads(a);if(g.isObject(f)&&f.error==="timeout"&&new Date().getTime()-n>=t)return this.reportError("Network timeout; retrying"),this.flush();if(g.isObject(f)&&(f.httpStatusCode>=500||f.httpStatusCode===429||f.httpStatusCode<=0&&!pM()||f.error==="timeout")){var d=this.flushInterval*2;return f.retryAfter&&(d=parseInt(f.retryAfter,10)*1e3||d),d=Math.min(xM,d),this.reportError("Error; retry in "+d+" ms"),this.scheduleFlush(d),Ue.resolve()}else if(g.isObject(f)&&f.httpStatusCode===413)if(o.length>1){var h=Math.max(1,Math.floor(r/2));return this.batchSize=Math.min(this.batchSize,h,o.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush(),Ue.resolve()}else return this.reportError("Single-event request too large; dropping",o),this.resetBatchSize(),l();else return l()}catch(m){this.reportError("Error handling API response",m),this.resetFlush()}},this),u={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:t};return e.unloading&&(u.transport="sendBeacon"),yi.log("MIXPANEL REQUEST:",s),this.sendRequestPromise(s,u).then(c)},this)).catch(g.bind(function(o){this.reportError("Error flushing request queue",o),this.resetFlush()},this))};rn.prototype.reportError=function(e,t){if(yi.error.apply(yi.error,arguments),this.errorReporter)try{t instanceof Error||(t=new Error(e)),this.errorReporter(e,t)}catch(n){yi.error(n)}};var Yu=function(e){var t=Date.now();return!e||t>e.maxExpires||t>e.idleExpires},IM=250,So=Ho("recorder"),np=fe.CompressionStream,kM={batch_size:1e3,batch_flush_interval_ms:10*1e3,batch_request_timeout_ms:90*1e3,batch_autostart:!0},NM=new Set([bn.MouseMove,bn.MouseInteraction,bn.Scroll,bn.ViewportResize,bn.Input,bn.TouchMove,bn.MediaInteraction,bn.Drag,bn.Selection]);function TM(e){return e.type===Hu.IncrementalSnapshot&&NM.has(e.data.source)}var Tt=function(e){this._mixpanel=e.mixpanelInstance,this._onIdleTimeout=e.onIdleTimeout||yr,this._onMaxLengthReached=e.onMaxLengthReached||yr,this._onBatchSent=e.onBatchSent||yr,this._rrwebRecord=e.rrwebRecord||null,this._stopRecording=null,this.replayId=e.replayId,this.batchStartUrl=e.batchStartUrl||null,this.replayStartUrl=e.replayStartUrl||null,this.idleExpires=e.idleExpires||null,this.maxExpires=e.maxExpires||null,this.replayStartTime=e.replayStartTime||null,this.seqNo=e.seqNo||0,this.idleTimeoutId=null,this.maxTimeoutId=null,this.recordMaxMs=vi,this.recordMinMs=0;var t=Vi(e.sharedLockStorage,!0);this.batcherKey="__mprec_"+this.getConfig("name")+"_"+this.getConfig("token")+"_"+this.replayId,this.queueStorage=new Pn(ev),this.batcher=new rn(this.batcherKey,{errorReporter:this.reportError.bind(this),flushOnlyOnInterval:!0,libConfig:kM,sendRequestFunc:this.flushEventsWithOptOut.bind(this),queueStorage:this.queueStorage,sharedLockStorage:e.sharedLockStorage,usePersistence:t,stopAllBatchingFunc:this.stopRecording.bind(this),enqueueThrottleMs:IM,sharedLockTimeoutMS:10*1e3})};Tt.prototype.unloadPersistedData=function(){return this.batcher.stop(),this.batcher.flush().then((function(){return this.queueStorage.removeItem(this.batcherKey)}).bind(this))};Tt.prototype.getConfig=function(e){return this._mixpanel.get_config(e)};Tt.prototype.get_config=function(e){return this.getConfig(e)};Tt.prototype.startRecording=function(e){if(this._rrwebRecord===null){this.reportError("rrweb record function not provided. ");return}if(this._stopRecording!==null){So.log("Recording already in progress, skipping startRecording.");return}this.recordMaxMs=this.getConfig("record_max_ms"),this.recordMaxMs>vi&&(this.recordMaxMs=vi,So.critical("record_max_ms cannot be greater than "+vi+"ms. Capping value.")),this.maxExpires||(this.maxExpires=new Date().getTime()+this.recordMaxMs),this.recordMinMs=this.getConfig("record_min_ms"),this.recordMinMs>Pl&&(this.recordMinMs=Pl,So.critical("record_min_ms cannot be greater than "+Pl+"ms. Capping value.")),this.replayStartTime||(this.replayStartTime=new Date().getTime(),this.batchStartUrl=g.info.currentUrl(),this.replayStartUrl=g.info.currentUrl()),e||this.recordMinMs>0?this.batcher.stop():this.batcher.start();var t=(function(){clearTimeout(this.idleTimeoutId);var o=this.getConfig("record_idle_timeout_ms");this.idleTimeoutId=setTimeout(this._onIdleTimeout,o),this.idleExpires=new Date().getTime()+o}).bind(this),n=this.getConfig("record_block_selector");(n===""||n===null)&&(n=void 0);try{this._stopRecording=this._rrwebRecord({emit:(function(o){TM(o)&&(this.batcher.stopped&&new Date().getTime()-this.replayStartTime>=this.recordMinMs&&this.batcher.start(),t()),this.__enqueuePromise=this.batcher.enqueue(o)}).bind(this),blockClass:this.getConfig("record_block_class"),blockSelector:n,collectFonts:this.getConfig("record_collect_fonts"),dataURLOptions:{type:"image/webp",quality:.6},maskAllInputs:!0,maskTextClass:this.getConfig("record_mask_text_class"),maskTextSelector:this.getConfig("record_mask_text_selector"),recordCanvas:this.getConfig("record_canvas"),sampling:{canvas:15}})}catch(o){this.reportError("Unexpected error when starting rrweb recording.",o)}if(typeof this._stopRecording!="function"){this.reportError("rrweb failed to start, skipping this recording."),this._stopRecording=null,this.stopRecording();return}t();var r=this.maxExpires-new Date().getTime();this.maxTimeoutId=setTimeout(this._onMaxLengthReached.bind(this),r)};Tt.prototype.stopRecording=function(e){if(!this.isRrwebStopped()){try{this._stopRecording()}catch(n){this.reportError("Error with rrweb stopRecording",n)}this._stopRecording=null}var t;return this.batcher.stopped?t=this.batcher.clear():e||(t=this.batcher.flush()),this.batcher.stop(),clearTimeout(this.idleTimeoutId),clearTimeout(this.maxTimeoutId),t};Tt.prototype.isRrwebStopped=function(){return this._stopRecording===null};Tt.prototype.flushEventsWithOptOut=function(e,t,n){var r=(function(o){o===0&&(this.stopRecording(),n({error:"Tracking has been opted out, stopping recording."}))}).bind(this);this._flushEvents(e,t,n,r)};Tt.prototype.serialize=function(){var e;try{e=this._mixpanel.get_tab_id()}catch(t){this.reportError("Error getting tab ID for serialization ",t),e=null}return{replayId:this.replayId,seqNo:this.seqNo,replayStartTime:this.replayStartTime,batchStartUrl:this.batchStartUrl,replayStartUrl:this.replayStartUrl,idleExpires:this.idleExpires,maxExpires:this.maxExpires,tabId:e}};Tt.deserialize=function(e,t){var n=new Tt(g.extend({},t,{replayId:e.replayId,batchStartUrl:e.batchStartUrl,replayStartUrl:e.replayStartUrl,idleExpires:e.idleExpires,maxExpires:e.maxExpires,replayStartTime:e.replayStartTime,seqNo:e.seqNo,sharedLockStorage:t.sharedLockStorage}));return n};Tt.prototype._sendRequest=function(e,t,n,r){var o=(function(i,s){i.status===200&&this.replayId===e&&(this.seqNo++,this.batchStartUrl=g.info.currentUrl()),this._onBatchSent(),r({status:0,httpStatusCode:i.status,responseBody:s,retryAfter:i.headers.get("Retry-After")})}).bind(this);fe.fetch(this.getConfig("api_host")+"/"+this.getConfig("api_routes").record+"?"+new URLSearchParams(t),{method:"POST",headers:{Authorization:"Basic "+btoa(this.getConfig("token")+":"),"Content-Type":"application/octet-stream"},body:n}).then(function(i){i.json().then(function(s){o(i,s)}).catch(function(s){r({error:s})})}).catch(function(i){r({error:i,httpStatusCode:0})})};Tt.prototype._flushEvents=Mr(function(e,t,n){var r=e.length;if(r>0){for(var o=this.replayId,i=1/0,s=-1/0,a=!1,l=0;l<r;l++)i=Math.min(i,e[l].timestamp),s=Math.max(s,e[l].timestamp),e[l].type===Hu.FullSnapshot&&(a=!0);if(this.seqNo===0){if(!a){n({error:"First batch does not contain a full snapshot. Aborting recording."}),this.stopRecording(!0);return}this.replayStartTime=i}else this.replayStartTime||(this.reportError("Replay start time not set but seqNo is not 0. Using current batch start time as a fallback."),this.replayStartTime=i);var c=s-this.replayStartTime,u={$current_url:this.batchStartUrl,$lib_version:dn.LIB_VERSION,batch_start_time:i/1e3,distinct_id:String(this._mixpanel.get_distinct_id()),mp_lib:"web",replay_id:o,replay_length_ms:c,replay_start_time:this.replayStartTime/1e3,replay_start_url:this.replayStartUrl,seq:this.seqNo},f=g.JSONEncode(e),d=this._mixpanel.get_property("$device_id");d&&(u.$device_id=d);var h=this._mixpanel.get_property("$user_id");if(h&&(u.$user_id=h),np){var m=new Blob([f],{type:"application/json"}).stream(),p=m.pipeThrough(new np("gzip"));new Response(p).blob().then((function(w){u.format="gzip",this._sendRequest(o,u,w,n)}).bind(this))}else u.format="body",this._sendRequest(o,u,f,n)}});Tt.prototype.reportError=function(e,t){So.error.apply(So.error,arguments);try{!t&&!(e instanceof Error)&&(e=new Error(e)),this.getConfig("error_reporter")(e,t)}catch(n){So.error(n)}};var zo=function(e){this.idb=new Pn(Wu),this.errorReporter=e.errorReporter,this.mixpanelInstance=e.mixpanelInstance,this.sharedLockStorage=e.sharedLockStorage};zo.prototype.handleError=function(e){this.errorReporter("IndexedDB error: ",e)};zo.prototype.setActiveRecording=function(e){var t=e.tabId;return t?this.idb.init().then((function(){return this.idb.setItem(t,e)}).bind(this)).catch(this.handleError.bind(this)):(console.warn("No tab ID is set, cannot persist recording metadata."),Ue.resolve())};zo.prototype.getActiveRecording=function(){return this.idb.init().then((function(){return this.idb.getItem(this.mixpanelInstance.get_tab_id())}).bind(this)).then((function(e){return Yu(e)?null:e}).bind(this)).catch(this.handleError.bind(this))};zo.prototype.clearActiveRecording=function(){return this.getActiveRecording().then((function(e){if(e)return e.maxExpires=0,this.setActiveRecording(e)}).bind(this)).catch(this.handleError.bind(this))};zo.prototype.flushInactiveRecordings=function(){return this.idb.init().then((function(){return this.idb.getAll()}).bind(this)).then((function(e){var t=e.filter(function(n){return Yu(n)}).map((function(n){var r=Tt.deserialize(n,{mixpanelInstance:this.mixpanelInstance,sharedLockStorage:this.sharedLockStorage});return r.unloadPersistedData().then((function(){return this.idb.removeItem(n.tabId)}).bind(this)).catch(this.handleError.bind(this))}).bind(this));return Ue.all(t)}).bind(this)).catch(this.handleError.bind(this))};var bi=Ho("recorder"),Qn=function(e,t,n){this.mixpanelInstance=e,this.rrwebRecord=t||ts,this.sharedLockStorage=n,this.recordingRegistry=new zo({mixpanelInstance:this.mixpanelInstance,errorReporter:bi.error,sharedLockStorage:n}),this._flushInactivePromise=this.recordingRegistry.flushInactiveRecordings(),this.activeRecording=null};Qn.prototype.startRecording=function(e){if(e=e||{},this.activeRecording&&!this.activeRecording.isRrwebStopped()){bi.log("Recording already in progress, skipping startRecording.");return}var t=(function(){bi.log("Idle timeout reached, restarting recording."),this.resetRecording()}).bind(this),n=(function(){bi.log("Max recording length reached, stopping recording."),this.resetRecording()}).bind(this),r=(function(){this.recordingRegistry.setActiveRecording(this.activeRecording.serialize()),this.__flushPromise=this.activeRecording.batcher._flushPromise}).bind(this),o={mixpanelInstance:this.mixpanelInstance,onBatchSent:r,onIdleTimeout:t,onMaxLengthReached:n,replayId:g.UUID(),rrwebRecord:this.rrwebRecord,sharedLockStorage:this.sharedLockStorage};return e.activeSerializedRecording?this.activeRecording=Tt.deserialize(e.activeSerializedRecording,o):this.activeRecording=new Tt(o),this.activeRecording.startRecording(e.shouldStopBatcher),this.recordingRegistry.setActiveRecording(this.activeRecording.serialize())};Qn.prototype.stopRecording=function(){var e=this._stopCurrentRecording(!1);return this.recordingRegistry.clearActiveRecording(),this.activeRecording=null,e};Qn.prototype.pauseRecording=function(){return this._stopCurrentRecording(!1)};Qn.prototype._stopCurrentRecording=function(e){return this.activeRecording?this.activeRecording.stopRecording(e):Ue.resolve()};Qn.prototype.resumeRecording=function(e){return this.activeRecording&&this.activeRecording.isRrwebStopped()?(this.activeRecording.startRecording(!1),Ue.resolve(null)):this.recordingRegistry.getActiveRecording().then((function(t){return t?this.startRecording({activeSerializedRecording:t}):e?this.startRecording({shouldStopBatcher:!1}):(bi.log("No resumable recording found."),null)}).bind(this))};Qn.prototype.resetRecording=function(){this.stopRecording(),this.startRecording({shouldStopBatcher:!0})};Qn.prototype.getActiveReplayId=function(){return this.activeRecording&&!this.activeRecording.isRrwebStopped()?this.activeRecording.replayId:null};Object.defineProperty(Qn.prototype,"replayId",{get:function(){return this.getActiveReplayId()}});fe.__mp_recorder=Qn;var fa="change",zi="click",rp="hashchange",oo="mp_locationchange",op="popstate",ip="scrollend",Uc="submit",OM=["clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","x","y"],sp=["mp-include"],Hc=["mp-no-track"],ap=Hc.concat(["mp-sensitive"]),MM=["aria-label","aria-labelledby","aria-describedby","href","name","role","title","type"],jt=Ho("autocapture");function Vc(e){for(var t={},n=iv(e).split(" "),r=0;r<n.length;r++){var o=n[r];o&&(t[o]=!0)}return t}function iv(e){switch(typeof e.className){case"string":return e.className;case"object":return e.className.baseVal||e.getAttribute("class")||"";default:return""}}function PM(e){if(e.previousElementSibling)return e.previousElementSibling;do e=e.previousSibling;while(e&&!sv(e));return e}function lp(e,t,n,r,o,i){var s={$classes:iv(e).split(" "),$tag_name:e.tagName.toLowerCase()},a=e.id;a&&(s.$id=a),Ku(e,t,o,i)&&g.each(MM.concat(r),function(f){if(e.hasAttribute(f)&&!n[f]){var d=e.getAttribute(f);da(d)&&(s["$attr-"+f]=d)}});for(var l=1,c=1,u=e;u=PM(u);)l++,u.tagName===e.tagName&&c++;return s.$nth_child=l,s.$nth_of_type=c,s}function RM(e,t){var n=t.allowElementCallback,r=t.allowSelectors||[],o=t.blockAttrs||[],i=t.blockElementCallback,s=t.blockSelectors||[],a=t.captureTextContent||!1,l=t.captureExtraAttrs||[],c={};g.each(o,function(y){c[y]=!0});var u=null,f=typeof e.target>"u"?e.srcElement:e.target;if(av(f)&&(f=f.parentNode),LM(f,e)&&zc(f,e,n,r)&&!$l(f,e,i,s)){for(var d=[f],h=f;h.parentNode&&!xn(h,"body");)d.push(h.parentNode),h=h.parentNode;var m=[],p,w=!1;if(g.each(d,function(y){var M=Ku(y,e,n,r);!c.href&&y.tagName.toLowerCase()==="a"&&(p=y.getAttribute("href"),p=M&&da(p)&&p),$l(y,e,i,s)&&(w=!0),m.push(lp(y,e,c,l,n,r))},this),!w){var v=We.documentElement;if(u={$event_type:e.type,$host:fe.location.host,$pathname:fe.location.pathname,$elements:m,$el_attr__href:p,$viewportHeight:Math.max(v.clientHeight,fe.innerHeight||0),$viewportWidth:Math.max(v.clientWidth,fe.innerWidth||0)},g.each(l,function(y){if(!c[y]&&f.hasAttribute(y)){var M=f.getAttribute(y);da(M)&&(u["$el_attr__"+y]=M)}}),a&&(E=cp(f,e,n,r),E&&E.length&&(u.$el_text=E)),e.type===zi&&(g.each(OM,function(y){y in e&&(u["$"+y]=e[y])}),f=AM(e)),a){var E=cp(f,e,n,r);E&&E.length&&(u.$el_text=E)}if(f){if(!zc(f,e,n,r)||$l(f,e,i,s))return null;var _=lp(f,e,c,l,n,r);u.$target=_,u.$el_classes=_.$classes,g.extend(u,g.strip_empty_properties({$el_id:_.$id,$el_tag_name:_.$tag_name}))}}}return u}function cp(e,t,n,r){var o="";return Ku(e,t,n,r)&&e.childNodes&&e.childNodes.length&&g.each(e.childNodes,function(i){av(i)&&i.textContent&&(o+=g.trim(i.textContent).split(/(\s+)/).filter(da).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),g.trim(o)}function AM(e){for(var t=e.target,n=e.composedPath(),r=0;r<n.length;r++){var o=n[r];if(xn(o,"a")||xn(o,"button")||xn(o,"input")||xn(o,"select")||o.getAttribute&&o.getAttribute("role")==="button"){t=o;break}if(o===t)break}return t}function zc(e,t,n,r){if(n)try{if(!n(e,t))return!1}catch(s){return jt.critical("Error while checking element in allowElementCallback",s),!1}if(!r.length)return!0;for(var o=0;o<r.length;o++){var i=r[o];try{if(e.matches(i))return!0}catch(s){jt.critical("Error while checking selector: "+i,s)}}return!1}function $l(e,t,n,r){var o;if(n)try{if(n(e,t))return!0}catch(a){return jt.critical("Error while checking element in blockElementCallback",a),!0}if(r&&r.length)for(o=0;o<r.length;o++){var i=r[o];try{if(e.matches(i))return!0}catch(a){jt.critical("Error while checking selector: "+i,a)}}var s=Vc(e);for(o=0;o<Hc.length;o++)if(s[Hc[o]])return!0;return!1}function sv(e){return e&&e.nodeType===1}function xn(e,t){return e&&e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function av(e){return e&&e.nodeType===3}function DM(){try{var e=We.createElement("div");return!!e.matches}catch{return!1}}function LM(e,t){if(!e||xn(e,"html")||!sv(e))return!1;var n=e.tagName.toLowerCase();switch(n){case"form":return t.type===Uc;case"input":return["button","submit"].indexOf(e.getAttribute("type"))===-1?t.type===fa:t.type===zi;case"select":case"textarea":return t.type===fa;default:return t.type===zi}}function Ku(e,t,n,r){var o;if(!zc(e,t,n,r))return!1;for(var i=e;i.parentNode&&!xn(i,"body");i=i.parentNode){var s=Vc(i);for(o=0;o<ap.length;o++)if(s[ap[o]])return!1}var a=Vc(e);for(o=0;o<sp.length;o++)if(a[sp[o]])return!0;if(xn(e,"input")||xn(e,"select")||xn(e,"textarea")||e.getAttribute("contenteditable")==="true")return!1;var l=e.type||"";if(typeof l=="string")switch(l.toLowerCase()){case"hidden":return!1;case"password":return!1}var c=e.name||e.id||"";if(typeof c=="string"){var u=/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i;if(u.test(c.replace(/[^a-zA-Z0-9]/g,"")))return!1}return!0}function da(e){if(e===null||g.isUndefined(e))return!1;if(typeof e=="string"){e=g.trim(e);var t=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(t.test((e||"").replace(/[- ]/g,"")))return!1;var n=/(^\d{3}-?\d{2}-?\d{4}$)/;if(n.test(e))return!1}return!0}var lv="autocapture",$M="track_pageview",cv="full-url",FM="url-with-path-and-query-string",BM="url-with-path",UM="allow_element_callback",uv="allow_selectors",fv="allow_url_regexes",dv="block_attrs",hv="block_element_callback",pv="block_selectors",gv="block_url_regexes",mv="capture_extra_attrs",_v="capture_text_content",vv="scroll_capture_all",yv="scroll_depth_percent_checkpoints",Wc="click",jc="input",bv="pageview",Gc="scroll",qc="submit",Ct={};Ct[uv]=[];Ct[fv]=[];Ct[dv]=[];Ct[hv]=null;Ct[pv]=[];Ct[gv]=[];Ct[mv]=[];Ct[_v]=!1;Ct[vv]=!1;Ct[yv]=[25,50,75,100];Ct[Wc]=!0;Ct[jc]=!0;Ct[bv]=cv;Ct[Gc]=!0;Ct[qc]=!0;var ha={$mp_autocapture:!0},HM="$mp_click",VM="$mp_input_change",zM="$mp_scroll",WM="$mp_submit",Xt=function(e){this.mp=e};Xt.prototype.init=function(){if(!DM()){jt.critical("Autocapture unavailable: missing required DOM APIs");return}this.initPageviewTracking(),this.initClickTracking(),this.initInputTracking(),this.initScrollTracking(),this.initSubmitTracking()};Xt.prototype.getFullConfig=function(){var e=this.mp.get_config(lv);return e?g.isObject(e)?g.extend({},Ct,e):Ct:{}};Xt.prototype.getConfig=function(e){return this.getFullConfig()[e]};Xt.prototype.currentUrlBlocked=function(){var e,t=g.info.currentUrl(),n=this.getConfig(fv)||[];if(n.length){var r=!1;for(e=0;e<n.length;e++){var o=n[e];try{if(t.match(o)){r=!0;break}}catch(s){return jt.critical("Error while checking block URL regex: "+o,s),!0}}if(!r)return!0}var i=this.getConfig(gv)||[];if(!i||!i.length)return!1;for(e=0;e<i.length;e++)try{if(t.match(i[e]))return!0}catch(s){return jt.critical("Error while checking block URL regex: "+i[e],s),!0}return!1};Xt.prototype.pageviewTrackingConfig=function(){return this.mp.get_config(lv)?this.getConfig(bv):this.mp.get_config($M)};Xt.prototype.trackDomEvent=function(e,t){if(!this.currentUrlBlocked()){var n=RM(e,{allowElementCallback:this.getConfig(UM),allowSelectors:this.getConfig(uv),blockAttrs:this.getConfig(dv),blockElementCallback:this.getConfig(hv),blockSelectors:this.getConfig(pv),captureExtraAttrs:this.getConfig(mv),captureTextContent:this.getConfig(_v)});n&&(g.extend(n,ha),this.mp.track(t,n))}};Xt.prototype.initClickTracking=function(){fe.removeEventListener(zi,this.listenerClick),this.getConfig(Wc)&&(jt.log("Initializing click tracking"),this.listenerClick=fe.addEventListener(zi,(function(e){this.getConfig(Wc)&&this.trackDomEvent(e,HM)}).bind(this)))};Xt.prototype.initInputTracking=function(){fe.removeEventListener(fa,this.listenerChange),this.getConfig(jc)&&(jt.log("Initializing input tracking"),this.listenerChange=fe.addEventListener(fa,(function(e){this.getConfig(jc)&&this.trackDomEvent(e,VM)}).bind(this)))};Xt.prototype.initPageviewTracking=function(){if(fe.removeEventListener(op,this.listenerPopstate),fe.removeEventListener(rp,this.listenerHashchange),fe.removeEventListener(oo,this.listenerLocationchange),!!this.pageviewTrackingConfig()){jt.log("Initializing pageview tracking");var e="",t=!1;this.currentUrlBlocked()||(t=this.mp.track_pageview(ha)),t&&(e=g.info.currentUrl()),this.listenerPopstate=fe.addEventListener(op,function(){fe.dispatchEvent(new Event(oo))}),this.listenerHashchange=fe.addEventListener(rp,function(){fe.dispatchEvent(new Event(oo))});var n=fe.history.pushState;typeof n=="function"&&(fe.history.pushState=function(o,i,s){n.call(fe.history,o,i,s),fe.dispatchEvent(new Event(oo))});var r=fe.history.replaceState;typeof r=="function"&&(fe.history.replaceState=function(o,i,s){r.call(fe.history,o,i,s),fe.dispatchEvent(new Event(oo))}),this.listenerLocationchange=fe.addEventListener(oo,Vu((function(){if(!this.currentUrlBlocked()){var o=g.info.currentUrl(),i=!1,s=o.split("#")[0].split("?")[0]!==e.split("#")[0].split("?")[0],a=this.pageviewTrackingConfig();if(a===cv?i=o!==e:a===FM?i=o.split("#")[0]!==e.split("#")[0]:a===BM&&(i=s),i){var l=this.mp.track_pageview(ha);l&&(e=o),s&&(this.lastScrollCheckpoint=0,jt.log("Path change: re-initializing scroll depth checkpoints"))}}}).bind(this)))}};Xt.prototype.initScrollTracking=function(){fe.removeEventListener(ip,this.listenerScroll),this.getConfig(Gc)&&(jt.log("Initializing scroll tracking"),this.lastScrollCheckpoint=0,this.listenerScroll=fe.addEventListener(ip,Vu((function(){if(this.getConfig(Gc)&&!this.currentUrlBlocked()){var e=this.getConfig(vv),t=(this.getConfig(yv)||[]).slice().sort(function(l,c){return l-c}),n=fe.scrollY,r=g.extend({$scroll_top:n},ha);try{var o=We.body.scrollHeight,i=Math.round(n/(o-fe.innerHeight)*100);if(r.$scroll_height=o,r.$scroll_percentage=i,i>this.lastScrollCheckpoint)for(var s=0;s<t.length;s++){var a=t[s];i>=a&&this.lastScrollCheckpoint<a&&(r.$scroll_checkpoint=a,this.lastScrollCheckpoint=a,e=!0)}}catch(l){jt.critical("Error while calculating scroll percentage",l)}e&&this.mp.track(zM,r)}}).bind(this))))};Xt.prototype.initSubmitTracking=function(){fe.removeEventListener(Uc,this.listenerSubmit),this.getConfig(qc)&&(jt.log("Initializing submit tracking"),this.listenerSubmit=fe.addEventListener(Uc,(function(e){this.getConfig(qc)&&this.trackDomEvent(e,WM)}).bind(this)))};sM(Xt);var er=function(){};er.prototype.create_properties=function(){};er.prototype.event_handler=function(){};er.prototype.after_track_handler=function(){};er.prototype.init=function(e){return this.mp=e,this};er.prototype.track=function(e,t,n,r){var o=this,i=g.dom_query(e);if(i.length===0){Be.error("The DOM query ("+e+") returned 0 elements");return}return g.each(i,function(s){g.register_event(s,this.override_event,function(a){var l={},c=o.create_properties(n,this),u=o.mp.get_config("track_links_timeout");o.event_handler(a,this,l),window.setTimeout(o.track_callback(r,c,l,!0),u),o.mp.track(t,c,o.track_callback(r,c,l))})},this),!0};er.prototype.track_callback=function(e,t,n,r){r=r||!1;var o=this;return function(){n.callback_fired||(n.callback_fired=!0,!(e&&e(r,t)===!1)&&o.after_track_handler(t,n,r))}};er.prototype.create_properties=function(e,t){var n;return typeof e=="function"?n=e(t):n=g.extend({},e),n};var $o=function(){this.override_event="click"};g.inherit($o,er);$o.prototype.create_properties=function(e,t){var n=$o.superclass.create_properties.apply(this,arguments);return t.href&&(n.url=t.href),n};$o.prototype.event_handler=function(e,t,n){n.new_tab=e.which===2||e.metaKey||e.ctrlKey||t.target==="_blank",n.href=t.href,n.new_tab||e.preventDefault()};$o.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout(function(){window.location=t.href},0)};var Za=function(){this.override_event="submit"};g.inherit(Za,er);Za.prototype.event_handler=function(e,t,n){n.element=t,e.preventDefault()};Za.prototype.after_track_handler=function(e,t){setTimeout(function(){t.element.submit()},0)};var Cr="$set",Fo="$set_once",an="$unset",Xr="$add",Tn="$append",Zr="$union",Kn="$remove",jM="$delete",Sv={set_action:function(e,t){var n={},r={};return g.isObject(e)?g.each(e,function(o,i){this._is_reserved_property(i)||(r[i]=o)},this):r[e]=t,n[Cr]=r,n},unset_action:function(e){var t={},n=[];return g.isArray(e)||(e=[e]),g.each(e,function(r){this._is_reserved_property(r)||n.push(r)},this),t[an]=n,t},set_once_action:function(e,t){var n={},r={};return g.isObject(e)?g.each(e,function(o,i){this._is_reserved_property(i)||(r[i]=o)},this):r[e]=t,n[Fo]=r,n},union_action:function(e,t){var n={},r={};return g.isObject(e)?g.each(e,function(o,i){this._is_reserved_property(i)||(r[i]=g.isArray(o)?o:[o])},this):r[e]=g.isArray(t)?t:[t],n[Zr]=r,n},append_action:function(e,t){var n={},r={};return g.isObject(e)?g.each(e,function(o,i){this._is_reserved_property(i)||(r[i]=o)},this):r[e]=t,n[Tn]=r,n},remove_action:function(e,t){var n={},r={};return g.isObject(e)?g.each(e,function(o,i){this._is_reserved_property(i)||(r[i]=o)},this):r[e]=t,n[Kn]=r,n},delete_action:function(){var e={};return e[jM]="",e}},nt=function(){};g.extend(nt.prototype,Sv);nt.prototype._init=function(e,t,n){this._mixpanel=e,this._group_key=t,this._group_id=n};nt.prototype.set=Vo(function(e,t,n){var r=this.set_action(e,t);return g.isObject(e)&&(n=t),this._send_request(r,n)});nt.prototype.set_once=Vo(function(e,t,n){var r=this.set_once_action(e,t);return g.isObject(e)&&(n=t),this._send_request(r,n)});nt.prototype.unset=Vo(function(e,t){var n=this.unset_action(e);return this._send_request(n,t)});nt.prototype.union=Vo(function(e,t,n){g.isObject(e)&&(n=t);var r=this.union_action(e,t);return this._send_request(r,n)});nt.prototype.delete=Vo(function(e){var t=this.delete_action();return this._send_request(t,e)});nt.prototype.remove=Vo(function(e,t,n){var r=this.remove_action(e,t);return this._send_request(r,n)});nt.prototype._send_request=function(e,t){e.$group_key=this._group_key,e.$group_id=this._group_id,e.$token=this._get_config("token");var n=g.encodeDates(e);return this._mixpanel._track_or_batch({type:"groups",data:n,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").groups,batcher:this._mixpanel.request_batchers.groups},t)};nt.prototype._is_reserved_property=function(e){return e==="$group_key"||e==="$group_id"};nt.prototype._get_config=function(e){return this._mixpanel.get_config(e)};nt.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};nt.prototype.remove=nt.prototype.remove;nt.prototype.set=nt.prototype.set;nt.prototype.set_once=nt.prototype.set_once;nt.prototype.union=nt.prototype.union;nt.prototype.unset=nt.prototype.unset;nt.prototype.toString=nt.prototype.toString;var Ce=function(){};g.extend(Ce.prototype,Sv);Ce.prototype._init=function(e){this._mixpanel=e};Ce.prototype.set=Pr(function(e,t,n){var r=this.set_action(e,t);return g.isObject(e)&&(n=t),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),r[Cr]=g.extend({},g.info.people_properties(),r[Cr]),this._send_request(r,n)});Ce.prototype.set_once=Pr(function(e,t,n){var r=this.set_once_action(e,t);return g.isObject(e)&&(n=t),this._send_request(r,n)});Ce.prototype.unset=Pr(function(e,t){var n=this.unset_action(e);return this._send_request(n,t)});Ce.prototype.increment=Pr(function(e,t,n){var r={},o={};return g.isObject(e)?(g.each(e,function(i,s){if(!this._is_reserved_property(s))if(isNaN(parseFloat(i))){Be.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else o[s]=i},this),n=t):(g.isUndefined(t)&&(t=1),o[e]=t),r[Xr]=o,this._send_request(r,n)});Ce.prototype.append=Pr(function(e,t,n){g.isObject(e)&&(n=t);var r=this.append_action(e,t);return this._send_request(r,n)});Ce.prototype.remove=Pr(function(e,t,n){g.isObject(e)&&(n=t);var r=this.remove_action(e,t);return this._send_request(r,n)});Ce.prototype.union=Pr(function(e,t,n){g.isObject(e)&&(n=t);var r=this.union_action(e,t);return this._send_request(r,n)});Ce.prototype.track_charge=Pr(function(e,t,n){if(!g.isNumber(e)&&(e=parseFloat(e),isNaN(e))){Be.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",g.extend({$amount:e},t),n)});Ce.prototype.clear_charges=function(e){return this.set("$transactions",[],e)};Ce.prototype.delete_user=function(){if(!this._identify_called()){Be.error("mixpanel.people.delete_user() requires you to call identify() first");return}var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)};Ce.prototype.toString=function(){return this._mixpanel.toString()+".people"};Ce.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var n=this._mixpanel.get_property("$device_id"),r=this._mixpanel.get_property("$user_id"),o=this._mixpanel.get_property("$had_persisted_distinct_id");n&&(e.$device_id=n),r&&(e.$user_id=r),o&&(e.$had_persisted_distinct_id=o);var i=g.encodeDates(e);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:i,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").engage,batcher:this._mixpanel.request_batchers.people},t):(this._enqueue(e),g.isUndefined(t)||(this._get_config("verbose")?t({status:-1,error:null}):t(-1)),g.truncate(i,255))};Ce.prototype._get_config=function(e){return this._mixpanel.get_config(e)};Ce.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};Ce.prototype._enqueue=function(e){Cr in e?this._mixpanel.persistence._add_to_people_queue(Cr,e):Fo in e?this._mixpanel.persistence._add_to_people_queue(Fo,e):an in e?this._mixpanel.persistence._add_to_people_queue(an,e):Xr in e?this._mixpanel.persistence._add_to_people_queue(Xr,e):Tn in e?this._mixpanel.persistence._add_to_people_queue(Tn,e):Kn in e?this._mixpanel.persistence._add_to_people_queue(Kn,e):Zr in e?this._mixpanel.persistence._add_to_people_queue(Zr,e):Be.error("Invalid call to _enqueue():",e)};Ce.prototype._flush_one_queue=function(e,t,n,r){var o=this,i=g.extend({},this._mixpanel.persistence.load_queue(e)),s=i;!g.isUndefined(i)&&g.isObject(i)&&!g.isEmptyObject(i)&&(o._mixpanel.persistence._pop_from_people_queue(e,i),o._mixpanel.persistence.save(),r&&(s=r(i)),t.call(o,s,function(a,l){a===0&&o._mixpanel.persistence._add_to_people_queue(e,i),g.isUndefined(n)||n(a,l)}))};Ce.prototype._flush=function(e,t,n,r,o,i,s){var a=this;this._flush_one_queue(Cr,this.set,e),this._flush_one_queue(Fo,this.set_once,r),this._flush_one_queue(an,this.unset,i,function(w){return g.keys(w)}),this._flush_one_queue(Xr,this.increment,t),this._flush_one_queue(Zr,this.union,o);var l=this._mixpanel.persistence.load_queue(Tn);if(!g.isUndefined(l)&&g.isArray(l)&&l.length)for(var c,u=function(w,v){w===0&&a._mixpanel.persistence._add_to_people_queue(Tn,c),g.isUndefined(n)||n(w,v)},f=l.length-1;f>=0;f--)l=this._mixpanel.persistence.load_queue(Tn),c=l.pop(),a._mixpanel.persistence.save(),g.isEmptyObject(c)||a.append(c,u);var d=this._mixpanel.persistence.load_queue(Kn);if(!g.isUndefined(d)&&g.isArray(d)&&d.length)for(var h,m=function(w,v){w===0&&a._mixpanel.persistence._add_to_people_queue(Kn,h),g.isUndefined(s)||s(w,v)},p=d.length-1;p>=0;p--)d=this._mixpanel.persistence.load_queue(Kn),h=d.pop(),a._mixpanel.persistence.save(),g.isEmptyObject(h)||a.remove(h,m)};Ce.prototype._is_reserved_property=function(e){return e==="$distinct_id"||e==="$token"||e==="$device_id"||e==="$user_id"||e==="$had_persisted_distinct_id"};Ce.prototype.set=Ce.prototype.set;Ce.prototype.set_once=Ce.prototype.set_once;Ce.prototype.unset=Ce.prototype.unset;Ce.prototype.increment=Ce.prototype.increment;Ce.prototype.append=Ce.prototype.append;Ce.prototype.remove=Ce.prototype.remove;Ce.prototype.union=Ce.prototype.union;Ce.prototype.track_charge=Ce.prototype.track_charge;Ce.prototype.clear_charges=Ce.prototype.clear_charges;Ce.prototype.delete_user=Ce.prototype.delete_user;Ce.prototype.toString=Ce.prototype.toString;var Xu="__mps",Zu="__mpso",Ju="__mpus",Qu="__mpa",ef="__mpap",tf="__mpr",nf="__mpu",Ev="$people_distinct_id",pa="__alias",Wi="__timers",GM=[Xu,Zu,Ju,Qu,ef,tf,nf,Ev,pa,Wi],Te=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;t!=="cookie"&&t!=="localStorage"&&(Be.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie"),t==="localStorage"&&g.localStorage.is_supported()?this.storage=g.localStorage:this.storage=g.cookie,this.load(),this.update_config(e),this.upgrade(),this.save()};Te.prototype.properties=function(){var e={};return this.load(),g.each(this.props,function(t,n){g.include(GM,n)||(e[n]=t)}),e};Te.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=g.extend({},e))}};Te.prototype.upgrade=function(){var e,t;this.storage===g.localStorage?(e=g.cookie.parse(this.name),g.cookie.remove(this.name),g.cookie.remove(this.name,!0),e&&this.register_once(e)):this.storage===g.cookie&&(t=g.localStorage.parse(this.name),g.localStorage.remove(this.name),t&&this.register_once(t))};Te.prototype.save=function(){this.disabled||this.storage.set(this.name,g.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};Te.prototype.load_prop=function(e){return this.load(),this.props[e]};Te.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};Te.prototype.clear=function(){this.remove(),this.props={}};Te.prototype.register_once=function(e,t,n){return g.isObject(e)?(typeof t>"u"&&(t="None"),this.expire_days=typeof n>"u"?this.default_expiry:n,this.load(),g.each(e,function(r,o){(!this.props.hasOwnProperty(o)||this.props[o]===t)&&(this.props[o]=r)},this),this.save(),!0):!1};Te.prototype.register=function(e,t){return g.isObject(e)?(this.expire_days=typeof t>"u"?this.default_expiry:t,this.load(),g.extend(this.props,e),this.save(),!0):!1};Te.prototype.unregister=function(e){this.load(),e in this.props&&(delete this.props[e],this.save())};Te.prototype.update_search_keyword=function(e){this.register(g.info.searchInfo(e))};Te.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:g.info.referringDomain(e)||"$direct"},"")};Te.prototype.get_referrer_info=function(){return g.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};Te.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cookie_domain(e.cookie_domain),this.set_cross_site(e.cross_site_cookie),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)};Te.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()};Te.prototype.set_cookie_domain=function(e){e!==this.cookie_domain&&(this.remove(),this.cookie_domain=e,this.save())};Te.prototype.set_cross_site=function(e){e!==this.cross_site&&(this.cross_site=e,this.remove(),this.save())};Te.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())};Te.prototype.get_cross_subdomain=function(){return this.cross_subdomain};Te.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())};Te.prototype._add_to_people_queue=function(e,t){var n=this._get_queue_key(e),r=t[e],o=this._get_or_create_queue(Cr),i=this._get_or_create_queue(Fo),s=this._get_or_create_queue(an),a=this._get_or_create_queue(Xr),l=this._get_or_create_queue(Zr),c=this._get_or_create_queue(Kn,[]),u=this._get_or_create_queue(Tn,[]);n===Xu?(g.extend(o,r),this._pop_from_people_queue(Xr,r),this._pop_from_people_queue(Zr,r),this._pop_from_people_queue(an,r)):n===Zu?(g.each(r,function(f,d){d in i||(i[d]=f)}),this._pop_from_people_queue(an,r)):n===Ju?g.each(r,function(f){g.each([o,i,a,l],function(d){f in d&&delete d[f]}),g.each(u,function(d){f in d&&delete d[f]}),s[f]=!0}):n===Qu?(g.each(r,function(f,d){d in o?o[d]+=f:(d in a||(a[d]=0),a[d]+=f)},this),this._pop_from_people_queue(an,r)):n===nf?(g.each(r,function(f,d){g.isArray(f)&&(d in l||(l[d]=[]),g.each(f,function(h){g.include(l[d],h)||l[d].push(h)}))}),this._pop_from_people_queue(an,r)):n===tf?(c.push(r),this._pop_from_people_queue(Tn,r)):n===ef&&(u.push(r),this._pop_from_people_queue(an,r)),Be.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),Be.log(t),this.save()};Te.prototype._pop_from_people_queue=function(e,t){var n=this.props[this._get_queue_key(e)];g.isUndefined(n)||g.each(t,function(r,o){e===Tn||e===Kn?g.each(n,function(i){i[o]===r&&delete i[o]}):delete n[o]},this)};Te.prototype.load_queue=function(e){return this.load_prop(this._get_queue_key(e))};Te.prototype._get_queue_key=function(e){if(e===Cr)return Xu;if(e===Fo)return Zu;if(e===an)return Ju;if(e===Xr)return Qu;if(e===Tn)return ef;if(e===Kn)return tf;if(e===Zr)return nf;Be.error("Invalid queue:",e)};Te.prototype._get_or_create_queue=function(e,t){var n=this._get_queue_key(e);return t=g.isUndefined(t)?{}:t,this.props[n]||(this.props[n]=t)};Te.prototype.set_event_timer=function(e,t){var n=this.load_prop(Wi)||{};n[e]=t,this.props[Wi]=n,this.save()};Te.prototype.remove_event_timer=function(e){var t=this.load_prop(Wi)||{},n=t[e];return g.isUndefined(n)||(delete this.props[Wi][e],this.save()),n};var rf,wv=function(e,t){throw new Error(e+" not available in this build.")},xt,Cv=0,qM=1,YM=function(e){return e},Qt="mixpanel",xv="base64",KM="json",of="$device:",Eo=fe.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,Iv=!Eo&&Cn.indexOf("MSIE")===-1&&Cn.indexOf("Mozilla")===-1,ga=null;gr.sendBeacon&&(ga=function(){return gr.sendBeacon.apply(gr,arguments)});var kv={track:"track/",engage:"engage/",groups:"groups/",record:"record/"},up={api_host:"https://api-js.mixpanel.com",api_routes:kv,api_method:"POST",api_transport:"XHR",api_payload_format:xv,app_host:"https://mixpanel.com",autocapture:!1,cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:yr,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:yr,mp_loader:null,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,stop_utm_persistence:!1,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{},record_block_class:new RegExp("^(mp-block|fs-exclude|amp-block|rr-block|ph-no-capture)$"),record_block_selector:"img, video",record_canvas:!1,record_collect_fonts:!1,record_idle_timeout_ms:30*60*1e3,record_mask_text_class:new RegExp("^(mp-mask|fs-mask|amp-mask|rr-mask|ph-mask)$"),record_mask_text_selector:"*",record_max_ms:vi,record_min_ms:0,record_sessions_percent:0,recorder_src:"https://cdn.mxpnl.com/libs/mixpanel-recorder.min.js"},Nv=!1,z=function(){},Yc=function(e,t,n){var r,o=n===Qt?xt:xt[n];if(o&&rf===Cv)r=o;else{if(o&&!g.isArray(o)){Be.error("You have already initialized "+n);return}r=new z}if(r._cached_groups={},r._init(e,t,n),r.people=new Ce,r.people._init(r),!r.get_config("skip_first_touch_marketing")){var i=g.info.campaignParams(null),s={},a=!1;g.each(i,function(l,c){s["initial_"+c]=l,l&&(a=!0)}),a&&r.people.set_once(s)}return dn.DEBUG=dn.DEBUG||r.get_config("debug"),!g.isUndefined(o)&&g.isArray(o)&&(r._execute_array.call(r.people,o.people),r._execute_array(o)),r};z.prototype.init=function(e,t,n){if(g.isUndefined(n)){this.report_error("You must name your new library: init(token, config, name)");return}if(n===Qt){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var r=Yc(e,t,n);return xt[n]=r,r._loaded(),r};z.prototype._init=function(e,t,n){t=t||{},this.__loaded=!0,this.config={};var r={};if(!("api_payload_format"in t)){var o=t.api_host||up.api_host;o.match(/\.mixpanel\.com/)&&(r.api_payload_format=KM)}if(this.set_config(g.extend({},up,r,t,{name:n,token:e,callback_fn:(n===Qt?n:Qt+"."+n)+"._jsc"})),this._jsc=yr,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!g.localStorage.is_supported(!0)||!Eo)this._batch_requests=!1,Be.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),g.each(this.get_batcher_configs(),function(a){Be.log("Clearing batch queue "+a.queue_key),g.localStorage.remove(a.queue_key)});else if(this.init_batchers(),ga&&fe.addEventListener){var i=g.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);fe.addEventListener("pagehide",function(a){a.persisted&&i()}),fe.addEventListener("visibilitychange",function(){We.visibilityState==="hidden"&&i()})}}this.persistence=this.cookie=new Te(this.config),this.unpersisted_superprops={},this._gdpr_init();var s=g.UUID();this.get_distinct_id()||this.register_once({distinct_id:of+s,$device_id:s},""),this.autocapture=new Xt(this),this.autocapture.init(),this._init_tab_id(),this._check_and_start_session_recording()};z.prototype._init_tab_id=function(){if(g.sessionStorage.is_supported())try{var e=this.get_config("name")+"_"+this.get_config("token"),t="mp_tab_id_"+e,n="mp_gen_new_tab_id_"+e;(g.sessionStorage.get(n)||!g.sessionStorage.get(t))&&g.sessionStorage.set(t,"$tab-"+g.UUID()),g.sessionStorage.set(n,"1"),this.tab_id=g.sessionStorage.get(t),fe.addEventListener("beforeunload",function(){g.sessionStorage.remove(n)})}catch(r){this.report_error("Error initializing tab id",r)}else this.report_error("Session storage is not supported, cannot keep track of unique tab ID.")};z.prototype.get_tab_id=function(){return this.tab_id||null};z.prototype._should_load_recorder=function(){var e=new Pn(Wu),t=this.get_tab_id();return e.init().then(function(){return e.getAll()}).then(function(n){for(var r=0;r<n.length;r++)if(Yu(n[r])||n[r].tabId===t)return!0;return!1}).catch(g.bind(function(n){this.report_error("Error checking recording registry",n)},this))};z.prototype._check_and_start_session_recording=Mr(function(e){if(!fe.MutationObserver){Be.critical("Browser does not support MutationObserver; skipping session recording");return}var t=g.bind(function(r){var o=g.bind(function(){this._recorder=this._recorder||new fe.__mp_recorder(this),this._recorder.resumeRecording(r)},this);g.isUndefined(fe.__mp_recorder)?wv(this.get_config("recorder_src"),o):o()},this),n=this.get_config("record_sessions_percent")>0&&Math.random()*100<=this.get_config("record_sessions_percent");e||n?t(!0):this._should_load_recorder().then(function(r){r&&t(!1)})});z.prototype.start_session_recording=function(){this._check_and_start_session_recording(!0)};z.prototype.stop_session_recording=function(){this._recorder&&this._recorder.stopRecording()};z.prototype.pause_session_recording=function(){this._recorder&&this._recorder.pauseRecording()};z.prototype.resume_session_recording=function(){this._recorder&&this._recorder.resumeRecording()};z.prototype.get_session_recording_properties=function(){var e={},t=this._get_session_replay_id();return t&&(e.$mp_replay_id=t),e};z.prototype.get_session_replay_url=function(){var e=null,t=this._get_session_replay_id();if(t){var n=g.HTTPBuildQuery({replay_id:t,distinct_id:this.get_distinct_id(),token:this.get_config("token")});e="https://mixpanel.com/projects/replay-redirect?"+n}return e};z.prototype._get_session_replay_id=function(){var e=null;return this._recorder&&(e=this._recorder.replayId),e||null};z.prototype.__get_recorder=function(){return this._recorder};z.prototype._loaded=function(){if(this.get_config("loaded")(this),this._set_default_superprops(),this.people.set_once(this.persistence.get_referrer_info()),this.get_config("store_google")&&this.get_config("stop_utm_persistence")){var e=g.info.campaignParams(null);g.each(e,(function(t,n){this.unregister(n)}).bind(this))}};z.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(We.referrer),this.get_config("store_google")&&!this.get_config("stop_utm_persistence")&&this.register(g.info.campaignParams()),this.get_config("save_referrer")&&this.persistence.update_referrer_info(We.referrer)};z.prototype._dom_loaded=function(){g.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),this.has_opted_out_tracking()||g.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue};z.prototype._track_dom=function(e,t){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!Nv)return this.__dom_loaded_queue.push([e,t]),!1;var n=new e().init(this);return n.track.apply(n,t)};z.prototype._prepare_callback=function(e,t){if(g.isUndefined(e))return null;if(Eo){var n=function(s){e(s,t)};return n}else{var r=this._jsc,o=""+Math.floor(Math.random()*1e8),i=this.get_config("callback_fn")+"["+o+"]";return r[o]=function(s){delete r[o],e(s,t)},i}};z.prototype._send_request=function(e,t,n,r){var o=!0;if(Iv)return this.__request_queue.push(arguments),o;var i={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},s=null;!r&&(g.isFunction(n)||typeof n=="string")&&(r=n,n=null),n=g.extend(i,n||{}),Eo||(n.method="GET");var a=n.method==="POST",l=ga&&a&&n.transport.toLowerCase()==="sendbeacon",c=n.verbose;t.verbose&&(c=!0),this.get_config("test")&&(t.test=1),c&&(t.verbose=1),this.get_config("img")&&(t.img=1),Eo||(r?t.callback=r:(c||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=new Date().getTime().toString(),a&&(s="data="+encodeURIComponent(t.data),delete t.data),e+="?"+g.HTTPBuildQuery(t);var u=this;if("img"in t){var f=We.createElement("img");f.src=e,We.body.appendChild(f)}else if(l){try{o=ga(e,s)}catch(v){u.report_error(v),o=!1}try{r&&r(o?1:0)}catch(v){u.report_error(v)}}else if(Eo)try{var d=new XMLHttpRequest;d.open(n.method,e,!0);var h=this.get_config("xhr_headers");if(a&&(h["Content-Type"]="application/x-www-form-urlencoded"),g.each(h,function(v,E){d.setRequestHeader(E,v)}),n.timeout_ms&&typeof d.timeout<"u"){d.timeout=n.timeout_ms;var m=new Date().getTime()}d.withCredentials=!0,d.onreadystatechange=function(){if(d.readyState===4)if(d.status===200){if(r)if(c){var v;try{v=g.JSONDecode(d.responseText)}catch(y){if(u.report_error(y),n.ignore_json_errors)v=d.responseText;else return}r(v)}else r(Number(d.responseText))}else{var E;if(d.timeout&&!d.status&&new Date().getTime()-m>=d.timeout?E="timeout":E="Bad HTTP status: "+d.status+" "+d.statusText,u.report_error(E),r)if(c){var _=d.responseHeaders||{};r({status:0,httpStatusCode:d.status,error:E,retryAfter:_["Retry-After"]})}else r(0)}},d.send(s)}catch(v){u.report_error(v),o=!1}else{var p=We.createElement("script");p.type="text/javascript",p.async=!0,p.defer=!0,p.src=e;var w=We.getElementsByTagName("script")[0];w.parentNode.insertBefore(p,w)}return o};z.prototype._execute_array=function(e){var t,n=[],r=[],o=[];g.each(e,function(s){s&&(t=s[0],g.isArray(t)?o.push(s):typeof s=="function"?s.call(this):g.isArray(s)&&t==="alias"?n.push(s):g.isArray(s)&&t.indexOf("track")!==-1&&typeof this[t]=="function"?o.push(s):r.push(s))},this);var i=function(s,a){g.each(s,function(l){if(g.isArray(l[0])){var c=a;g.each(l,function(u){c=c[u[0]].apply(c,u.slice(1))})}else this[l[0]].apply(this,l.slice(1))},a)};i(n,this),i(r,this),i(o,this)};z.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};z.prototype.get_batcher_configs=function(){var e="__mpq_"+this.get_config("token"),t=this.get_config("api_routes");return this._batcher_configs=this._batcher_configs||{events:{type:"events",endpoint:"/"+t.track,queue_key:e+"_ev"},people:{type:"people",endpoint:"/"+t.engage,queue_key:e+"_pp"},groups:{type:"groups",endpoint:"/"+t.groups,queue_key:e+"_gr"}},this._batcher_configs};z.prototype.init_batchers=function(){if(!this.are_batchers_initialized()){var e=g.bind(function(n){return new rn(n.queue_key,{libConfig:this.config,errorReporter:this.get_config("error_reporter"),sendRequestFunc:g.bind(function(r,o,i){this._send_request(this.get_config("api_host")+n.endpoint,this._encode_data_for_request(r),o,this._prepare_callback(i,r))},this),beforeSendHook:g.bind(function(r){return this._run_hook("before_send_"+n.type,r)},this),stopAllBatchingFunc:g.bind(this.stop_batch_senders,this),usePersistence:!0})},this),t=this.get_batcher_configs();this.request_batchers={events:e(t.events),people:e(t.people),groups:e(t.groups)}}this.get_config("batch_autostart")&&this.start_batch_senders()};z.prototype.start_batch_senders=function(){this._batchers_were_started=!0,this.are_batchers_initialized()&&(this._batch_requests=!0,g.each(this.request_batchers,function(e){e.start()}))};z.prototype.stop_batch_senders=function(){this._batch_requests=!1,g.each(this.request_batchers,function(e){e.stop(),e.clear()})};z.prototype.push=function(e){this._execute_array([e])};z.prototype.disable=function(e){typeof e>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)};z.prototype._encode_data_for_request=function(e){var t=g.JSONEncode(e);return this.get_config("api_payload_format")===xv&&(t=g.base64Encode(t)),{data:t}};z.prototype._track_or_batch=function(e,t){var n=g.truncate(e.data,255),r=e.endpoint,o=e.batcher,i=e.should_send_immediately,s=e.send_request_options||{};t=t||yr;var a=!0,l=g.bind(function(){return s.skip_hooks||(n=this._run_hook("before_send_"+e.type,n)),n?(Be.log("MIXPANEL REQUEST:"),Be.log(n),this._send_request(r,this._encode_data_for_request(n),s,this._prepare_callback(t,n))):null},this);return this._batch_requests&&!i?o.enqueue(n).then(function(c){c?t(1,n):l()}):a=l(),a&&n};z.prototype.track=Mr(function(e,t,n,r){!r&&typeof n=="function"&&(r=n,n=null),n=n||{};var o=n.transport;o&&(n.transport=o);var i=n.send_immediately;if(typeof r!="function"&&(r=yr),g.isUndefined(e)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(e)){r(0);return}t=g.extend({},t),t.token=this.get_config("token");var s=this.persistence.remove_event_timer(e);if(!g.isUndefined(s)){var a=new Date().getTime()-s;t.$duration=parseFloat((a/1e3).toFixed(3))}this._set_default_superprops();var l=this.get_config("track_marketing")?g.info.marketingParams():{};t=g.extend({},g.info.properties({mp_loader:this.get_config("mp_loader")}),l,this.persistence.properties(),this.unpersisted_superprops,this.get_session_recording_properties(),t);var c=this.get_config("property_blacklist");g.isArray(c)?g.each(c,function(d){delete t[d]}):this.report_error("Invalid value for property_blacklist config: "+c);var u={event:e,properties:t},f=this._track_or_batch({type:"events",data:u,endpoint:this.get_config("api_host")+"/"+this.get_config("api_routes").track,batcher:this.request_batchers.events,should_send_immediately:i,send_request_options:n},r);return f});z.prototype.set_group=Mr(function(e,t,n){g.isArray(t)||(t=[t]);var r={};return r[e]=t,this.register(r),this.people.set(e,t,n)});z.prototype.add_group=Mr(function(e,t,n){var r=this.get_property(e),o={};return r===void 0?(o[e]=[t],this.register(o)):r.indexOf(t)===-1&&(r.push(t),o[e]=r,this.register(o)),this.people.union(e,t,n)});z.prototype.remove_group=Mr(function(e,t,n){var r=this.get_property(e);if(r!==void 0){var o=r.indexOf(t);o>-1&&(r.splice(o,1),this.register({group_key:r})),r.length===0&&this.unregister(e)}return this.people.remove(e,t,n)});z.prototype.track_with_groups=Mr(function(e,t,n,r){var o=g.extend({},t||{});return g.each(n,function(i,s){i!=null&&(o[s]=i)}),this.track(e,o,r)});z.prototype._create_map_key=function(e,t){return e+"_"+JSON.stringify(t)};z.prototype._remove_group_from_cache=function(e,t){delete this._cached_groups[this._create_map_key(e,t)]};z.prototype.get_group=function(e,t){var n=this._create_map_key(e,t),r=this._cached_groups[n];return(r===void 0||r._group_key!==e||r._group_id!==t)&&(r=new nt,r._init(this,e,t),this._cached_groups[n]=r),r};z.prototype.track_pageview=Mr(function(e,t){typeof e!="object"&&(e={}),t=t||{};var n=t.event_name||"$mp_web_page_view",r=g.extend(g.info.mpPageViewProperties(),g.info.campaignParams(),g.info.clickParams()),o=g.extend({},r,e);return this.track(n,o)});z.prototype.track_links=function(){return this._track_dom.call(this,$o,arguments)};z.prototype.track_forms=function(){return this._track_dom.call(this,Za,arguments)};z.prototype.time_event=function(e){if(g.isUndefined(e)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(e)||this.persistence.set_event_timer(e,new Date().getTime())};var XM={persistent:!0},sf=function(e){var t;return g.isObject(e)?t=e:g.isUndefined(e)?t={}:t={days:e},g.extend({},XM,t)};z.prototype.register=function(e,t){var n=sf(t);n.persistent?this.persistence.register(e,n.days):g.extend(this.unpersisted_superprops,e)};z.prototype.register_once=function(e,t,n){var r=sf(n);r.persistent?this.persistence.register_once(e,t,r.days):(typeof t>"u"&&(t="None"),g.each(e,function(o,i){(!this.unpersisted_superprops.hasOwnProperty(i)||this.unpersisted_superprops[i]===t)&&(this.unpersisted_superprops[i]=o)},this))};z.prototype.unregister=function(e,t){t=sf(t),t.persistent?this.persistence.unregister(e):delete this.unpersisted_superprops[e]};z.prototype._register_single=function(e,t){var n={};n[e]=t,this.register(n)};z.prototype.identify=function(e,t,n,r,o,i,s,a){var l=this.get_distinct_id();if(e&&l!==e){if(typeof e=="string"&&e.indexOf(of)===0)return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:e})}if(!this.get_property("$device_id")){var c=l;this.register_once({$had_persisted_distinct_id:!0,$device_id:c},"")}e!==l&&e!==this.get_property(pa)&&(this.unregister(pa),this.register({distinct_id:e})),this._flags.identify_called=!0,this.people._flush(t,n,r,o,i,s,a),e!==l&&this.track("$identify",{distinct_id:e,$anon_distinct_id:l},{skip_hooks:!0})};z.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var e=g.UUID();this.register_once({distinct_id:of+e,$device_id:e},"")};z.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};z.prototype.alias=function(e,t){if(e===this.get_property(Ev))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var n=this;return g.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(pa,e),this.track("$create_alias",{alias:e,distinct_id:t},{skip_hooks:!0},function(){n.identify(e)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)};z.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)};z.prototype.set_config=function(e){if(g.isObject(e)){g.extend(this.config,e);var t=e.batch_size;t&&g.each(this.request_batchers,function(n){n.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),dn.DEBUG=dn.DEBUG||this.get_config("debug"),"autocapture"in e&&this.autocapture&&this.autocapture.init()}};z.prototype.get_config=function(e){return this.config[e]};z.prototype._run_hook=function(e){var t=(this.config.hooks[e]||YM).apply(this,pr.call(arguments,1));return typeof t>"u"&&(this.report_error(e+" hook did not return a value"),t=null),t};z.prototype.get_property=function(e){return this.persistence.load_prop([e])};z.prototype.toString=function(){var e=this.get_config("name");return e!==Qt&&(e=Qt+"."+e),e};z.prototype._event_is_disabled=function(e){return g.isBlockedUA(Cn)||this._flags.disable_all_events||g.include(this.__disabled_events,e)};z.prototype._gdpr_init=function(){var e=this.get_config("opt_out_tracking_persistence_type")==="localStorage";e&&g.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||g.cookie.get("mp_optout"))&&(g.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};z.prototype._gdpr_update_persistence=function(e){var t;if(e&&e.clear_persistence)t=!0;else if(e&&e.enable_persistence)t=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==t&&this.persistence.set_disabled(t),t?(this.stop_batch_senders(),this.stop_session_recording()):this._batchers_were_started&&this.start_batch_senders()};z.prototype._gdpr_call_func=function(e,t){return t=g.extend({track:g.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},t),g.localStorage.is_supported()||(t.persistence_type="cookie"),e(this.get_config("token"),{track:t.track,trackEventName:t.track_event_name,trackProperties:t.track_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieDomain:t.cookie_domain,cookieExpiration:t.cookie_expiration,crossSiteCookie:t.cross_site_cookie,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie,ignoreDnt:t.ignore_dnt})};z.prototype.opt_in_tracking=function(e){e=g.extend({enable_persistence:!0},e),this._gdpr_call_func(yM,e),this._gdpr_update_persistence(e)};z.prototype.opt_out_tracking=function(e){e=g.extend({clear_persistence:!0,delete_user:!0},e),e.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(bM,e),this._gdpr_update_persistence(e)};z.prototype.has_opted_in_tracking=function(e){return this._gdpr_call_func(SM,e)};z.prototype.has_opted_out_tracking=function(e){return this._gdpr_call_func(tv,e)};z.prototype.clear_opt_in_out_tracking=function(e){e=g.extend({enable_persistence:!0},e),this._gdpr_call_func(EM,e),this._gdpr_update_persistence(e)};z.prototype.report_error=function(e,t){Be.error.apply(Be.error,arguments);try{!t&&!(e instanceof Error)&&(e=new Error(e)),this.get_config("error_reporter")(e,t)}catch(n){Be.error(n)}};z.prototype.init=z.prototype.init;z.prototype.reset=z.prototype.reset;z.prototype.disable=z.prototype.disable;z.prototype.time_event=z.prototype.time_event;z.prototype.track=z.prototype.track;z.prototype.track_links=z.prototype.track_links;z.prototype.track_forms=z.prototype.track_forms;z.prototype.track_pageview=z.prototype.track_pageview;z.prototype.register=z.prototype.register;z.prototype.register_once=z.prototype.register_once;z.prototype.unregister=z.prototype.unregister;z.prototype.identify=z.prototype.identify;z.prototype.alias=z.prototype.alias;z.prototype.name_tag=z.prototype.name_tag;z.prototype.set_config=z.prototype.set_config;z.prototype.get_config=z.prototype.get_config;z.prototype.get_property=z.prototype.get_property;z.prototype.get_distinct_id=z.prototype.get_distinct_id;z.prototype.toString=z.prototype.toString;z.prototype.opt_out_tracking=z.prototype.opt_out_tracking;z.prototype.opt_in_tracking=z.prototype.opt_in_tracking;z.prototype.has_opted_out_tracking=z.prototype.has_opted_out_tracking;z.prototype.has_opted_in_tracking=z.prototype.has_opted_in_tracking;z.prototype.clear_opt_in_out_tracking=z.prototype.clear_opt_in_out_tracking;z.prototype.get_group=z.prototype.get_group;z.prototype.set_group=z.prototype.set_group;z.prototype.add_group=z.prototype.add_group;z.prototype.remove_group=z.prototype.remove_group;z.prototype.track_with_groups=z.prototype.track_with_groups;z.prototype.start_batch_senders=z.prototype.start_batch_senders;z.prototype.stop_batch_senders=z.prototype.stop_batch_senders;z.prototype.start_session_recording=z.prototype.start_session_recording;z.prototype.stop_session_recording=z.prototype.stop_session_recording;z.prototype.pause_session_recording=z.prototype.pause_session_recording;z.prototype.resume_session_recording=z.prototype.resume_session_recording;z.prototype.get_session_recording_properties=z.prototype.get_session_recording_properties;z.prototype.get_session_replay_url=z.prototype.get_session_replay_url;z.prototype.get_tab_id=z.prototype.get_tab_id;z.prototype.DEFAULT_API_ROUTES=kv;z.prototype.__get_recorder=z.prototype.__get_recorder;Te.prototype.properties=Te.prototype.properties;Te.prototype.update_search_keyword=Te.prototype.update_search_keyword;Te.prototype.update_referrer_info=Te.prototype.update_referrer_info;Te.prototype.get_cross_subdomain=Te.prototype.get_cross_subdomain;Te.prototype.clear=Te.prototype.clear;var ho={},ZM=function(){g.each(ho,function(e,t){t!==Qt&&(xt[t]=e)}),xt._=g},JM=function(){xt.init=function(e,t,n){if(n)return xt[n]||(xt[n]=ho[n]=Yc(e,t,n),xt[n]._loaded()),xt[n];var r=xt;ho[Qt]?r=ho[Qt]:e&&(r=Yc(e,t,Qt),r._loaded(),ho[Qt]=r),xt=r,rf===qM&&(fe[Qt]=xt),ZM()}},QM=function(){function e(){e.done||(e.done=!0,Nv=!0,Iv=!1,g.each(ho,function(r){r._dom_loaded()}))}function t(){try{We.documentElement.doScroll("left")}catch{setTimeout(t,1);return}e()}if(We.addEventListener)We.readyState==="complete"?e():We.addEventListener("DOMContentLoaded",e,!1);else if(We.attachEvent){We.attachEvent("onreadystatechange",e);var n=!1;try{n=fe.frameElement===null}catch{}We.documentElement.doScroll&&n&&t()}g.register_event(fe,"load",e,!0)};function eP(e){return wv=e,rf=Cv,xt=new z,JM(),xt.init(),QM(),xt}function tP(e,t){t()}var Tv=eP(tP);let Ov=!1;function nP(){try{Tv.init(""),Ov=!0}catch{}}function rP(){try{Tv.reset()}catch{}Ov=!1}var Wo=(e=>(e.HOME="home-page",e.PROJECT="project-page",e.LOST="lost-page",e))(Wo||{});const oP=[{path:"/",components:{page:QE},name:"home-page"},{path:"/project/:id",components:{page:UT},name:"project-page"},{path:"/:pathMatch(.*)*",components:{page:tw},name:"lost-page"}],iP={history:qN(),routes:oP},Qr=vT(iP);Qr.beforeEach(async(e,t,n)=>{let r=!1;localStorage.getItem("tracking")==="true"&&(r=!0),window.location.hostname==="localhost"&&(r=!1),localStorage.getItem("tracking")===null&&Dt.open(Xg,{title:hr("UI.Modals.Tracking.title"),message:hr("UI.Modals.Tracking.message"),confirmText:hr("UI.Modals.Tracking.Controls.confirm"),cancelText:hr("UI.Modals.Tracking.Controls.cancel"),isConfirmButtonCta:!0,onConfirm:()=>{localStorage.setItem("tracking","true"),Dt.close()},onCancel:()=>{localStorage.setItem("tracking","false"),Dt.close()}}),r?nP():rP(),n()});const sP=xe({__name:"TheModalContainer",setup(e){const t=Ie(),n=$s(null),r=$s(null),o=Ie();function i(){var a;(a=r.value)!=null&&a.closeOnClick&&Dt.close()}const s=[];return Dt.getInstance().addEventListener(({modal:a,modalConfig:l})=>{var c;if((c=document.activeElement)==null||c.blur(),!a){if(n.value=null,!s.length)return;const{modal:u,modalConfig:f}=s.shift();Dt.open(u,f);return}if(n.value){if([...s,{modal:n.value,modalConfig:r.value}].find(d=>JSON.stringify(d.modalConfig)===JSON.stringify(l)))return;console.log("Queueing modal",JSON.stringify(l)),s.push({modal:a,modalConfig:l});return}a&&(console.log("Opening modal",JSON.stringify(l)),n.value={...a},r.value={...l}),requestAnimationFrame(()=>{var p,w;o.value&&clearInterval(o.value);const u=(p=t.value)==null?void 0:p.$el;if(!u)return;const f=u.querySelector(".modal__header")?[u.querySelector(".modal__header")]:[],d=Array.from(((w=u.querySelector(".modal__content > div"))==null?void 0:w.children)||[]),h=[...f,...d];window.modalChildren=h;const m=u.querySelector("input:not(.disabled):not(.ignore-initial-focus)");m&&m.focus()})}),(a,l)=>(he(),Se("div",{class:zt(["modal-container",{active:!!n.value}])},[ae("div",{class:"modal-container__background",onClick:l[0]||(l[0]=c=>i())}),(he(),gt(Qp(n.value),ka(r.value,{ref_key:"modalRef",ref:t}),null,16))],2))}}),aP=Kt(sP,[["__scopeId","data-v-f491a88c"]]),lP={class:"app-layout"},cP=xe({__name:"App",setup(e){return CT(),(t,n)=>{const r=Yi("router-view");return he(),Se("div",lP,[be(r,{name:"page"}),be(aP)])}}}),os=qb(cP),uP=LE();os.use(Qr);os.use(wT);os.use(uP);os.component("Button",Vn);const fP=Aa();fP.loadProjectsFromLocalStorage();os.mount("#app");
